###############################################################################
#
# IAR C/C++ Compiler V10.10.1.4655 for 8051               23/Dec/2025  23:27:04
# Copyright 2004-2017 IAR Systems AB.
# Standalone license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\Source\zcl_sampletemperaturesensor.c
#    Command line       =  
#        -f C:\Users\ASUS\AppData\Local\Temp\EW9949.tmp
#        ("C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\Source\zcl_sampletemperaturesensor.c"
#        -D BDB_REPORTING -D SECURE=1 -D TC_LINKKEY_JOIN -D NV_INIT -D
#        NV_RESTORE -D xZTOOL_P1 -D xMT_TASK -D xMT_APP_FUNC -D xMT_SYS_FUNC -D
#        xMT_ZDO_FUNC -D xMT_APP_CNF_FUNC -D LCD_SUPPORTED=DEBUG -D
#        MULTICAST_ENABLED=FALSE -D ZCL_READ -D ZCL_DISCOVER -D ZCL_WRITE -D
#        ZCL_BASIC -D ZCL_IDENTIFY -D ZCL_TEMPERATURE_MEASUREMENT -D ZCL_GROUPS
#        -lC "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\CoordinatorEB\List"
#        -lA "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\CoordinatorEB\List"
#        --diag_suppress Pe001,Pa010 -o "C:\Users\ASUS\Desktop\work\graduration
#        project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\CoordinatorEB\Obj"
#        -e --debug --core=plain --dptr=16,1 --data_model=large
#        --code_model=banked --calling_convention=xdata_reentrant
#        --place_constants=data_rom --nr_virtual_regs 16 -f
#        "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\Tools\CC2530DB\f8wCoord.cfg"
#        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
#        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
#        -DZDO_COORDINATOR -DRTR_NWK) -f
#        "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0x1234
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 -DDEFAULT_KEY={0} -DMAC_MAX_FRAME_SIZE=116
#        -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const __code"
#        -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000
#        -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440
#        -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000 -DENABLE_LED4_DISABLE_S1)
#        -f "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\Source\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\Source\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\ZMain\TI2530DB\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\hal\include\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\mac\include\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\mt\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\osal\include\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\services\saddr\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\services\sdata\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\af\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\bdb\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\gp\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\sec\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\sys\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\zcl\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\zmac\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
#        -Ohz --require_prototypes)
#    Locale             =  Chinese (Simplified)_China.936
#    List file          =  
#        C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\CoordinatorEB\List\zcl_sampletemperaturesensor.lst
#    Object file        =  
#        C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\CC2530DB\CoordinatorEB\Obj\zcl_sampletemperaturesensor.r51
#
###############################################################################

C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\SampleTemperatureSensor\Source\zcl_sampletemperaturesensor.c
      1          /**************************************************************************************************
      2            Filename:       zcl_sampletemperaturesensor.c
      3            Revised:        $Date: 2014-10-24 16:04:46 -0700 (Fri, 24 Oct 2014) $
      4            Revision:       $Revision: 40796 $
      5          
      6            Description:    Zigbee Cluster Library - sample device application.
      7          
      8          
      9            Copyright 2013 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41            This application implements a ZigBee Temperature Sensor, based on Z-Stack 3.0.
     42          
     43            This application is based on the common sample-application user interface. Please see the main
     44            comment in zcl_sampleapp_ui.c. The rest of this comment describes only the content specific for
     45            this sample applicetion.
     46            
     47            Application-specific UI peripherals being used:
     48          
     49            - LEDs:
     50              LED1 is not used in this application
     51          
     52            Application-specific menu system:
     53          
     54              <SET LOCAL TEMP> Set the temperature of the local temperature sensor
     55                Up/Down changes the temperature 
     56                This screen shows the following information:
     57                  Line2:
     58                    Shows the temperature of the local temperature sensor
     59          
     60          *********************************************************************/
     61          
     62          /*********************************************************************
     63           * INCLUDES
     64           */
     65          #include "ZComDef.h"
     66          #include "OSAL.h"
     67          #include "AF.h"
     68          #include "ZDApp.h"
     69          #include "ZDObject.h"
     70          #include "ZDProfile.h"
     71          #include "MT_SYS.h"
     72          
     73          #include "zcl.h"
     74          #include "zcl_general.h"
     75          #include "zcl_ha.h"
     76          #include "zcl_ms.h"
     77          
     78          #include "zcl_sampletemperaturesensor.h"
     79          
     80          #include "onboard.h"
     81          
     82          /* HAL */
     83          #include "hal_lcd.h"
     84          #include "hal_led.h"
     85          #include "hal_key.h"
     86          
     87          #include "bdb_interface.h"
     88          #include "bdb_Reporting.h"
     89          
     90          #include "zcl_sampleapps_ui.h"
     91             
     92          /*********************************************************************
     93           * MACROS
     94           */
     95          
     96          // how often to report temperature
     97          #define SAMPLETEMPERATURESENSOR_REPORT_INTERVAL   10000
     98          
     99          #define GUI_LOCAL_TEMP    1
    100          
    101          #define APP_TITLE "   Temp Sensor  "
    102          
    103          /*********************************************************************
    104           * CONSTANTS
    105           */
    106          
    107          /*********************************************************************
    108           * TYPEDEFS
    109           */
    110          
    111          /*********************************************************************
    112           * GLOBAL VARIABLES
    113           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    114          byte zclSampleTemperatureSensor_TaskID;
   \                     zclSampleTemperatureSensor_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    115          
    116          extern int16 zdpExternalStateTaskID;
    117          
    118          /*********************************************************************
    119           * GLOBAL FUNCTIONS
    120           */
    121          
    122          /*********************************************************************
    123           * LOCAL VARIABLES
    124           */
    125          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    126          devStates_t zclSampleTemperatureSensor_NwkState = DEV_INIT;
   \                     zclSampleTemperatureSensor_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for zclSampleTemperatureSensor_N`
   \   000001                REQUIRE __INIT_XDATA_I
    127          
    128          //static uint8 aProcessCmd[] = { 1, 0, 0, 0 }; // used for reset command, { length + cmd0 + cmd1 + data }
    129          
    130          // Test Endpoint to allow SYS_APP_MSGs
    131          /*
    132          static endPointDesc_t sampleTemperatureSensor_TestEp =
    133          {
    134            20,                                 // Test endpoint
    135            0,
    136            &zclSampleTemperatureSensor_TaskID,
    137            (SimpleDescriptionFormat_t *)NULL,  // No Simple description for this test endpoint
    138            (afNetworkLatencyReq_t)0            // No Network Latency req
    139          };
    140          */
    141          #ifdef BDB_REPORTING
    142          #if BDBREPORTING_MAX_ANALOG_ATTR_SIZE == 8
    143            uint8 reportableChange[] = {0x2C, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}; // 0x2C01 is 300 in int16
    144          #endif
    145          #if BDBREPORTING_MAX_ANALOG_ATTR_SIZE == 4

   \                                 In  segment XDATA_I, align 1, keep-with-next
    146            uint8 reportableChange[] = {0x2C, 0x01, 0x00, 0x00}; // 0x2C01 is 300 in int16
   \                     reportableChange:
   \   000000                DS 4
   \   000004                REQUIRE `?<Initializer for reportableChange>`
   \   000004                REQUIRE __INIT_XDATA_I
    147          #endif 
    148          #if BDBREPORTING_MAX_ANALOG_ATTR_SIZE == 2
    149            uint8 reportableChange[] = {0x2C, 0x01}; // 0x2C01 is 300 in int16
    150          #endif 
    151          #endif
    152          
    153          /*********************************************************************
    154           * LOCAL FUNCTIONS
    155           */
    156          static void zclSampleTemperatureSensor_HandleKeys( byte shift, byte keys );
    157          static void zclSampleTemperatureSensor_BasicResetCB( void );
    158          
    159          static void zclSampleTemperatureSensor_ProcessCommissioningStatus(bdbCommissioningModeMsg_t* bdbCommissioningModeMsg);
    160          
    161          // Functions to process ZCL Foundation incoming Command/Response messages
    162          static void zclSampleTemperatureSensor_ProcessIncomingMsg( zclIncomingMsg_t *msg );
    163          #ifdef ZCL_READ
    164          static uint8 zclSampleTemperatureSensor_ProcessInReadRspCmd( zclIncomingMsg_t *pInMsg );
    165          #endif
    166          #ifdef ZCL_WRITE
    167          static uint8 zclSampleTemperatureSensor_ProcessInWriteRspCmd( zclIncomingMsg_t *pInMsg );
    168          #endif
    169          static uint8 zclSampleTemperatureSensor_ProcessInDefaultRspCmd( zclIncomingMsg_t *pInMsg );
    170          #ifdef ZCL_DISCOVER
    171          static uint8 zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd( zclIncomingMsg_t *pInMsg );
    172          static uint8 zclSampleTemperatureSensor_ProcessInDiscAttrsRspCmd( zclIncomingMsg_t *pInMsg );
    173          static uint8 zclSampleTemperatureSensor_ProcessInDiscAttrsExtRspCmd( zclIncomingMsg_t *pInMsg );
    174          #endif // ZCL_DISCOVER
    175          
    176          static void zclSampleTemperatureSensor_UiActionChangeTemp(uint16 keys);
    177          
    178          void zclSampleTemperatureSensor_uiAppUpdateLcd(uint8 uiCurrentState, char * line[3]);
    179          
    180          static void zclSampleApp_BatteryWarningCB( uint8 voltLevel);
    181          
    182          /*********************************************************************
    183           * STATUS STRINGS
    184           */
    185          
    186          /*********************************************************************
    187           * CONSTANTS
    188           */

   \                                 In  segment XDATA_ROM_C, align 1
    189          const uiState_t zclSampleTemperatureSensor_uiAppStatesMain[] =
   \                     zclSampleTemperatureSensor_uiAppStatesMain:
   \   000000   FE           DB 254
   \   000001   01           DB 1
   \   000002   0400         DW 4
   \   000004   ....         DW `??UI_ActionBackFromAppMenu::?relay`
   \   000006   00           DB 0
   \   000007   FE           DB 254
   \   000008   1100         DW 17
   \   00000A   ....         DW ??zclSampleTemperatureSensor_UiActionChangeTemp
    190          {
    191            /*  UI_STATE_BACK_FROM_APP_MENU  */   {UI_STATE_DEFAULT_MOVE, GUI_LOCAL_TEMP, UI_KEY_SW_5_PRESSED, &UI_ActionBackFromAppMenu}, //do not change this line, except for the second item, which should point to the last entry in this menu
    192            /*  GUI_LOCAL_TEMP          */        {UI_STATE_BACK_FROM_APP_MENU, UI_STATE_DEFAULT_MOVE, UI_KEY_SW_1_PRESSED | UI_KEY_SW_3_PRESSED, &zclSampleTemperatureSensor_UiActionChangeTemp},
    193          };
    194          
    195          /*********************************************************************
    196           * ZCL General Profile Callback table
    197           */

   \                                 In  segment XDATA_I, align 1, keep-with-next
    198          static zclGeneral_AppCallbacks_t zclSampleTemperatureSensor_CmdCallbacks =
   \                     zclSampleTemperatureSensor_CmdCallbacks:
   \   000000                DS 18
   \   000012                REQUIRE `?<Initializer for zclSampleTemperatureSensor_C`
   \   000012                REQUIRE __INIT_XDATA_I
    199          {
    200            zclSampleTemperatureSensor_BasicResetCB,        // Basic Cluster Reset command
    201            NULL,                                           // Identify Trigger Effect command
    202            NULL,             				                      // On/Off cluster command
    203            NULL,                                           // On/Off cluster enhanced command Off with Effect
    204            NULL,                                           // On/Off cluster enhanced command On with Recall Global Scene
    205            NULL,                                           // On/Off cluster enhanced command On with Timed Off
    206          #ifdef ZCL_LEVEL_CTRL
    207            NULL,                                           // Level Control Move to Level command
    208            NULL,                                           // Level Control Move command
    209            NULL,                                           // Level Control Step command
    210            NULL,                                           // Level Control Stop command
    211          #endif
    212          #ifdef ZCL_GROUPS
    213            NULL,                                           // Group Response commands
    214          #endif
    215          #ifdef ZCL_SCENES
    216            NULL,                                           // Scene Store Request command
    217            NULL,                                           // Scene Recall Request command
    218            NULL,                                           // Scene Response command
    219          #endif
    220          #ifdef ZCL_ALARMS
    221            NULL,                                           // Alarm (Response) commands
    222          #endif
    223          #ifdef SE_UK_EXT
    224            NULL,                                           // Get Event Log command
    225            NULL,                                           // Publish Event Log command
    226          #endif
    227            NULL,                                           // RSSI Location command
    228            NULL                                            // RSSI Location Response command
    229          };
    230          
    231          /*********************************************************************
    232           * @fn          zclSampleTemperatureSensor_Init
    233           *
    234           * @brief       Initialization function for the zclGeneral layer.
    235           *
    236           * @param       none
    237           *
    238           * @return      none
    239           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    240          void zclSampleTemperatureSensor_Init( byte task_id )
   \                     zclSampleTemperatureSensor_Init:
    241          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
    242            zclSampleTemperatureSensor_TaskID = task_id;
   \   000006   90....       MOV       DPTR,#zclSampleTemperatureSensor_TaskID
   \   000009   F0           MOVX      @DPTR,A
    243          
    244            // Register the Simple Descriptor for this application
    245            bdb_RegisterSimpleDescriptor( &zclSampleTemperatureSensor_SimpleDesc ); 
   \   00000A                ; Setup parameters for call to function bdb_RegisterSimpleDescriptor
   \   00000A   7A..         MOV       R2,#zclSampleTemperatureSensor_SimpleDesc & 0xff
   \   00000C   7B..         MOV       R3,#(zclSampleTemperatureSensor_SimpleDesc >> 8) & 0xff
   \   00000E   12....       LCALL     `??bdb_RegisterSimpleDescriptor::?relay`; Banked call to: bdb_RegisterSimpleDescriptor
    246            
    247            // Register the ZCL General Cluster Library callback functions
    248            zclGeneral_RegisterCmdCallbacks( SAMPLETEMPERATURESENSOR_ENDPOINT, &zclSampleTemperatureSensor_CmdCallbacks );
   \   000011                ; Setup parameters for call to function zclGeneral_RegisterCmdCallbacks
   \   000011   7A..         MOV       R2,#zclSampleTemperatureSensor_CmdCallbacks & 0xff
   \   000013   7B..         MOV       R3,#(zclSampleTemperatureSensor_CmdCallbacks >> 8) & 0xff
   \   000015   7908         MOV       R1,#0x8
   \   000017   12....       LCALL     `??zclGeneral_RegisterCmdCallbacks::?relay`; Banked call to: zclGeneral_RegisterCmdCallbacks
    249          
    250            // Register the application's attribute list
    251            zclSampleTemperatureSensor_ResetAttributesToDefaultValues();
   \   00001A                ; Setup parameters for call to function zclSampleTemperatureSensor_ResetAttributesToDefaultValues
   \   00001A   12....       LCALL     ??zclSampleTemperatureSensor_ResetAttributesToD; Banked call to: zclSampleTemperatureSensor_ResetAttributesToDefaultValues
    252            zcl_registerAttrList( SAMPLETEMPERATURESENSOR_ENDPOINT, zclSampleTemperatureSensor_NumAttributes, zclSampleTemperatureSensor_Attrs );   
   \   00001D                ; Setup parameters for call to function zcl_registerAttrList
   \   00001D   7C..         MOV       R4,#zclSampleTemperatureSensor_Attrs & 0xff
   \   00001F   7D..         MOV       R5,#(zclSampleTemperatureSensor_Attrs >> 8) & 0xff
   \   000021   90....       MOV       DPTR,#zclSampleTemperatureSensor_NumAttributes
   \   000024   E4           CLR       A
   \   000025   93           MOVC      A,@A+DPTR
   \   000026   FA           MOV       R2,A
   \   000027   7908         MOV       R1,#0x8
   \   000029   12....       LCALL     `??zcl_registerAttrList::?relay`; Banked call to: zcl_registerAttrList
    253          
    254            // Register the Application to receive the unprocessed Foundation command/response messages
    255            zcl_registerForMsg( zclSampleTemperatureSensor_TaskID );
   \   00002C                ; Setup parameters for call to function zcl_registerForMsg
   \   00002C   90....       MOV       DPTR,#zclSampleTemperatureSensor_TaskID
   \   00002F   E0           MOVX      A,@DPTR
   \   000030   F9           MOV       R1,A
   \   000031   12....       LCALL     `??zcl_registerForMsg::?relay`; Banked call to: zcl_registerForMsg
    256          
    257            // Register low voltage NV memory protection application callback
    258            RegisterVoltageWarningCB( zclSampleApp_BatteryWarningCB );
   \   000034                ; Setup parameters for call to function RegisterVoltageWarningCB
   \   000034   7A..         MOV       R2,#`??zclSampleApp_BatteryWarningCB::?relay` & 0xff
   \   000036   7B..         MOV       R3,#(`??zclSampleApp_BatteryWarningCB::?relay` >> 8) & 0xff
   \   000038   12....       LCALL     `??RegisterVoltageWarningCB::?relay`; Banked call to: RegisterVoltageWarningCB
    259          
    260            // Register for all key events - This app will handle all key events
    261            RegisterForKeys( zclSampleTemperatureSensor_TaskID );
   \   00003B                ; Setup parameters for call to function RegisterForKeys
   \   00003B   90....       MOV       DPTR,#zclSampleTemperatureSensor_TaskID
   \   00003E   E0           MOVX      A,@DPTR
   \   00003F   F9           MOV       R1,A
   \   000040   12....       LCALL     `??RegisterForKeys::?relay`; Banked call to: RegisterForKeys
    262          
    263            bdb_RegisterCommissioningStatusCB( zclSampleTemperatureSensor_ProcessCommissioningStatus );
   \   000043                ; Setup parameters for call to function bdb_RegisterCommissioningStatusCB
   \   000043   7A..         MOV       R2,#??zclSampleTemperatureSensor_ProcessCommissioni & 0xff
   \   000045   7B..         MOV       R3,#(??zclSampleTemperatureSensor_ProcessCommissioni >> 8) & 0xff
   \   000047   12....       LCALL     `??bdb_RegisterCommissioningStatusCB::?relay`; Banked call to: bdb_RegisterCommissioningStatusCB
    264          
    265          #ifdef BDB_REPORTING
    266            //Adds the default configuration values for the temperature attribute of the ZCL_CLUSTER_ID_MS_TEMPERATURE_MEASUREMENT cluster, for endpoint SAMPLETEMPERATURESENSOR_ENDPOINT
    267            //Default maxReportingInterval value is 10 seconds
    268            //Default minReportingInterval value is 3 seconds
    269            //Default reportChange value is 300 (3 degrees)
    270            bdb_RepAddAttrCfgRecordDefaultToList(SAMPLETEMPERATURESENSOR_ENDPOINT, ZCL_CLUSTER_ID_MS_TEMPERATURE_MEASUREMENT, ATTRID_MS_TEMPERATURE_MEASURED_VALUE, 0, 10, reportableChange);
   \   00004A                ; Setup parameters for call to function bdb_RepAddAttrCfgRecordDefaultToList
   \   00004A   75....       MOV       ?V0,#reportableChange & 0xff
   \   00004D   75....       MOV       ?V1,#(reportableChange >> 8) & 0xff
   \   000050   78..         MOV       R0,#?V0
   \   000052   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000055   75..0A       MOV       ?V0,#0xa
   \   000058   75..00       MOV       ?V1,#0x0
   \   00005B   78..         MOV       R0,#?V0
   \   00005D   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000060   E4           CLR       A
   \   000061   F5..         MOV       ?V0,A
   \   000063   78..         MOV       R0,#?V0
   \   000065   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000068   7C00         MOV       R4,#0x0
   \   00006A   7D00         MOV       R5,#0x0
   \   00006C   7A02         MOV       R2,#0x2
   \   00006E   7B04         MOV       R3,#0x4
   \   000070   7908         MOV       R1,#0x8
   \   000072   12....       LCALL     `??bdb_RepAddAttrCfgRecordDefaultToList::?relay`; Banked call to: bdb_RepAddAttrCfgRecordDefaultToList
   \   000075   7406         MOV       A,#0x6
   \   000077   12....       LCALL     ?DEALLOC_XSTACK8
    271          #endif
    272            
    273            zdpExternalStateTaskID = zclSampleTemperatureSensor_TaskID;
   \   00007A   90....       MOV       DPTR,#zclSampleTemperatureSensor_TaskID
   \   00007D   E0           MOVX      A,@DPTR
   \   00007E   90....       MOV       DPTR,#zdpExternalStateTaskID
   \   000081   F0           MOVX      @DPTR,A
   \   000082   A3           INC       DPTR
   \   000083   E4           CLR       A
   \   000084   F0           MOVX      @DPTR,A
    274          
    275            UI_Init(zclSampleTemperatureSensor_TaskID, SAMPLEAPP_LCD_AUTO_UPDATE_EVT, SAMPLEAPP_KEY_AUTO_REPEAT_EVT, &zclSampleTemperatureSensor_IdentifyTime, APP_TITLE, zclSampleTemperatureSensor_uiAppUpdateLcd, zclSampleTemperatureSensor_uiAppStatesMain);
   \   000085                ; Setup parameters for call to function UI_Init
   \   000085   75....       MOV       ?V0,#zclSampleTemperatureSensor_uiAppStatesMain & 0xff
   \   000088   75....       MOV       ?V1,#(zclSampleTemperatureSensor_uiAppStatesMain >> 8) & 0xff
   \   00008B   78..         MOV       R0,#?V0
   \   00008D   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000090   75....       MOV       ?V0,#`??zclSampleTemperatureSensor_uiAppUpdateLcd::?r` & 0xff
   \   000093   75....       MOV       ?V1,#(`??zclSampleTemperatureSensor_uiAppUpdateLcd::?r` >> 8) & 0xff
   \   000096   78..         MOV       R0,#?V0
   \   000098   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00009B   75....       MOV       ?V0,#`?<Constant "   Temp Sensor  ">` & 0xff
   \   00009E   75....       MOV       ?V1,#(`?<Constant "   Temp Sensor  ">` >> 8) & 0xff
   \   0000A1   78..         MOV       R0,#?V0
   \   0000A3   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000A6   75....       MOV       ?V0,#zclSampleTemperatureSensor_IdentifyTime & 0xff
   \   0000A9   75....       MOV       ?V1,#(zclSampleTemperatureSensor_IdentifyTime >> 8) & 0xff
   \   0000AC   78..         MOV       R0,#?V0
   \   0000AE   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000B1   7C20         MOV       R4,#0x20
   \   0000B3   7D00         MOV       R5,#0x0
   \   0000B5   7A10         MOV       R2,#0x10
   \   0000B7   7B00         MOV       R3,#0x0
   \   0000B9   90....       MOV       DPTR,#zclSampleTemperatureSensor_TaskID
   \   0000BC   E0           MOVX      A,@DPTR
   \   0000BD   F9           MOV       R1,A
   \   0000BE   12....       LCALL     `??UI_Init::?relay`; Banked call to: UI_Init
   \   0000C1   7408         MOV       A,#0x8
   \   0000C3   12....       LCALL     ?DEALLOC_XSTACK8
    276          
    277            UI_UpdateLcd();  
   \   0000C6                ; Setup parameters for call to function UI_UpdateLcd
   \   0000C6   12....       LCALL     `??UI_UpdateLcd::?relay`; Banked call to: UI_UpdateLcd
    278          }
   \   0000C9   7F02         MOV       R7,#0x2
   \   0000CB   02....       LJMP      ?BANKED_LEAVE_XDATA
    279          
    280          /*********************************************************************
    281           * @fn          zclSample_event_loop
    282           *
    283           * @brief       Event Loop Processor for zclGeneral.
    284           *
    285           * @param       none
    286           *
    287           * @return      none
    288           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    289          uint16 zclSampleTemperatureSensor_event_loop( uint8 task_id, uint16 events )
   \                     zclSampleTemperatureSensor_event_loop:
    290          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
    291            afIncomingMSGPacket_t *MSGpkt;
    292          
    293            (void)task_id;  // Intentionally unreferenced parameter
    294          
    295            if ( events & SYS_EVENT_MSG )
   \   000009   5480         ANL       A,#0x80
   \   00000B   701A         JNZ       ??zclSampleTemperatureSensor_event_loop_0
    296            {
    297              while ( (MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( zclSampleTemperatureSensor_TaskID )) )
    298              {
    299                switch ( MSGpkt->hdr.event )
    300                {
    301                  case ZCL_INCOMING_MSG:
    302                    // Incoming ZCL Foundation command/response messages
    303                    zclSampleTemperatureSensor_ProcessIncomingMsg( (zclIncomingMsg_t *)MSGpkt );
    304                    break;
    305          
    306                  case KEY_CHANGE:
    307                    zclSampleTemperatureSensor_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    308                    break;
    309          
    310                  case ZDO_STATE_CHANGE:
    311                    UI_DeviceStateUpdated((devStates_t)(MSGpkt->hdr.status));
    312                    break;
    313          
    314                  default:
    315                    break;
    316                }
    317          
    318                // Release the memory
    319                osal_msg_deallocate( (uint8 *)MSGpkt );
    320              }
    321          
    322              // return unprocessed events
    323              return (events ^ SYS_EVENT_MSG);
    324            }
    325            
    326          #if ZG_BUILD_ENDDEVICE_TYPE    
    327            if ( events & SAMPLEAPP_END_DEVICE_REJOIN_EVT )
    328            {
    329              bdb_ZedAttemptRecoverNwk();
    330              return ( events ^ SAMPLEAPP_END_DEVICE_REJOIN_EVT );
    331            }
    332          #endif
    333          
    334            if ( events & SAMPLEAPP_LCD_AUTO_UPDATE_EVT )
   \   00000D   EE           MOV       A,R6
   \   00000E   5410         ANL       A,#0x10
   \   000010   6051         JZ        ??zclSampleTemperatureSensor_event_loop_1
    335            {
    336              UI_UpdateLcd();
   \   000012                ; Setup parameters for call to function UI_UpdateLcd
   \   000012   12....       LCALL     `??UI_UpdateLcd::?relay`; Banked call to: UI_UpdateLcd
    337              return ( events ^ SAMPLEAPP_LCD_AUTO_UPDATE_EVT );
   \   000015   EE           MOV       A,R6
   \   000016   6410         XRL       A,#0x10
   \   000018   8058         SJMP      ??zclSampleTemperatureSensor_event_loop_2
    338            }
   \                     ??zclSampleTemperatureSensor_event_loop_3:
   \   00001A                ; Setup parameters for call to function UI_DeviceStateUpdated
   \   00001A   A3           INC       DPTR
   \   00001B   E0           MOVX      A,@DPTR
   \   00001C   F9           MOV       R1,A
   \   00001D   12....       LCALL     `??UI_DeviceStateUpdated::?relay`; Banked call to: UI_DeviceStateUpdated
   \                     ??zclSampleTemperatureSensor_event_loop_4:
   \   000020                ; Setup parameters for call to function osal_msg_deallocate
   \   000020   AA..         MOV       R2,?V0
   \   000022   AB..         MOV       R3,?V1
   \   000024   12....       LCALL     `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
   \                     ??zclSampleTemperatureSensor_event_loop_0:
   \   000027                ; Setup parameters for call to function osal_msg_receive
   \   000027   90....       MOV       DPTR,#zclSampleTemperatureSensor_TaskID
   \   00002A   E0           MOVX      A,@DPTR
   \   00002B   F9           MOV       R1,A
   \   00002C   12....       LCALL     `??osal_msg_receive::?relay`; Banked call to: osal_msg_receive
   \   00002F   8A..         MOV       ?V0,R2
   \   000031   8B..         MOV       ?V1,R3
   \   000033   EA           MOV       A,R2
   \   000034   45..         ORL       A,?V1
   \   000036   6024         JZ        ??zclSampleTemperatureSensor_event_loop_5
   \   000038   8A82         MOV       DPL,R2
   \   00003A   8B83         MOV       DPH,R3
   \   00003C   E0           MOVX      A,@DPTR
   \   00003D   24CC         ADD       A,#-0x34
   \   00003F   600A         JZ        ??zclSampleTemperatureSensor_event_loop_6
   \   000041   2474         ADD       A,#0x74
   \   000043   600B         JZ        ??zclSampleTemperatureSensor_event_loop_7
   \   000045   24EF         ADD       A,#-0x11
   \   000047   60D1         JZ        ??zclSampleTemperatureSensor_event_loop_3
   \   000049   80D5         SJMP      ??zclSampleTemperatureSensor_event_loop_4
   \                     ??zclSampleTemperatureSensor_event_loop_6:
   \   00004B                ; Setup parameters for call to function zclSampleTemperatureSensor_ProcessIncomingMsg
   \   00004B   12....       LCALL     ??zclSampleTemperatureSensor_ProcessIncomingMsg; Banked call to: zclSampleTemperatureSensor_ProcessIncomingMsg
   \   00004E   80D0         SJMP      ??zclSampleTemperatureSensor_event_loop_4
   \                     ??zclSampleTemperatureSensor_event_loop_7:
   \   000050                ; Setup parameters for call to function UI_MainStateMachine
   \   000050   A3           INC       DPTR
   \   000051   A3           INC       DPTR
   \   000052   A3           INC       DPTR
   \   000053   E0           MOVX      A,@DPTR
   \   000054   FA           MOV       R2,A
   \   000055   7B00         MOV       R3,#0x0
   \   000057   12....       LCALL     `??UI_MainStateMachine::?relay`; Banked call to: UI_MainStateMachine
   \   00005A   80C4         SJMP      ??zclSampleTemperatureSensor_event_loop_4
   \                     ??zclSampleTemperatureSensor_event_loop_5:
   \   00005C   EE           MOV       A,R6
   \   00005D   FA           MOV       R2,A
   \   00005E   EF           MOV       A,R7
   \   00005F   6480         XRL       A,#0x80
   \   000061   8011         SJMP      ??zclSampleTemperatureSensor_event_loop_8
    339          
    340            if ( events & SAMPLEAPP_KEY_AUTO_REPEAT_EVT )
   \                     ??zclSampleTemperatureSensor_event_loop_1:
   \   000063   EE           MOV       A,R6
   \   000064   5420         ANL       A,#0x20
   \   000066   600F         JZ        ??zclSampleTemperatureSensor_event_loop_9
    341            {
    342              UI_MainStateMachine(UI_KEY_AUTO_PRESSED);
   \   000068                ; Setup parameters for call to function UI_MainStateMachine
   \   000068   7AFF         MOV       R2,#-0x1
   \   00006A   7BFF         MOV       R3,#-0x1
   \   00006C   12....       LCALL     `??UI_MainStateMachine::?relay`; Banked call to: UI_MainStateMachine
    343              return ( events ^ SAMPLEAPP_KEY_AUTO_REPEAT_EVT );
   \   00006F   EE           MOV       A,R6
   \   000070   6420         XRL       A,#0x20
   \                     ??zclSampleTemperatureSensor_event_loop_2:
   \   000072   FA           MOV       R2,A
   \   000073   EF           MOV       A,R7
   \                     ??zclSampleTemperatureSensor_event_loop_8:
   \   000074   FB           MOV       R3,A
   \   000075   8004         SJMP      ??zclSampleTemperatureSensor_event_loop_10
    344            }
    345          
    346            // Discard unknown events
    347            return 0;
   \                     ??zclSampleTemperatureSensor_event_loop_9:
   \   000077   7A00         MOV       R2,#0x0
   \   000079   7B00         MOV       R3,#0x0
   \                     ??zclSampleTemperatureSensor_event_loop_10:
   \   00007B   7F04         MOV       R7,#0x4
   \   00007D   02....       LJMP      ?BANKED_LEAVE_XDATA
    348          }
    349          
    350          /*********************************************************************
    351           * @fn      zclSampleTemperatureSensor_HandleKeys
    352           *
    353           * @brief   Handles all key events for this device.
    354           *
    355           * @param   shift - true if in shift/alt.
    356           * @param   keys - bit field for key events. Valid entries:
    357           *                 HAL_KEY_SW_5
    358           *                 HAL_KEY_SW_4
    359           *                 HAL_KEY_SW_3
    360           *                 HAL_KEY_SW_2
    361           *                 HAL_KEY_SW_1
    362           *
    363           * @return  none
    364           */
    365          static void zclSampleTemperatureSensor_HandleKeys( byte shift, byte keys )
    366          {
    367            UI_MainStateMachine(keys);
    368          }
    369          
    370          /*********************************************************************
    371           * @fn      zclSampleTemperatureSensor_LcdDisplayMainMode
    372           *
    373           * @brief   Called to display the main screen on the LCD.
    374           *
    375           * @param   none
    376           *
    377           * @return  none
    378           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    379          static void zclSampleTemperatureSensor_ProcessCommissioningStatus(bdbCommissioningModeMsg_t* bdbCommissioningModeMsg)
   \                     zclSampleTemperatureSensor_ProcessCommissioningStatus:
    380          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
    381              switch(bdbCommissioningModeMsg->bdbCommissioningMode)
   \   000009   8E82         MOV       DPL,R6
   \   00000B   8F83         MOV       DPH,R7
   \   00000D   A3           INC       DPTR
   \   00000E   E0           MOVX      A,@DPTR
   \   00000F   6402         XRL       A,#0x2
   \   000011   7010         JNZ       ??zclSampleTemperatureSensor_ProcessCommissioni_1
    382              {
    383                case BDB_COMMISSIONING_FORMATION:
    384                  if(bdbCommissioningModeMsg->bdbCommissioningStatus == BDB_COMMISSIONING_SUCCESS)
   \   000013   8E82         MOV       DPL,R6
   \   000015   8F83         MOV       DPH,R7
   \   000017   E0           MOVX      A,@DPTR
   \   000018   7009         JNZ       ??zclSampleTemperatureSensor_ProcessCommissioni_1
    385                  {
    386                    //After formation, perform nwk steering again plus the remaining commissioning modes that has not been process yet
    387                    bdb_StartCommissioning(BDB_COMMISSIONING_MODE_NWK_STEERING | bdbCommissioningModeMsg->bdbRemainingCommissioningModes);
   \   00001A                ; Setup parameters for call to function bdb_StartCommissioning
   \   00001A   A3           INC       DPTR
   \   00001B   A3           INC       DPTR
   \   00001C   E0           MOVX      A,@DPTR
   \   00001D   4402         ORL       A,#0x2
   \   00001F   F9           MOV       R1,A
   \   000020   12....       LCALL     `??bdb_StartCommissioning::?relay`; Banked call to: bdb_StartCommissioning
    388                  }
    389                  else
    390                  {
    391                    //Want to try other channels?
    392                    //try with bdb_setChannelAttribute
    393                  }
    394                break;
    395                case BDB_COMMISSIONING_NWK_STEERING:
    396                  if(bdbCommissioningModeMsg->bdbCommissioningStatus == BDB_COMMISSIONING_SUCCESS)
    397                  {
    398                    //YOUR JOB:
    399                    //We are on the nwk, what now?
    400                  }
    401                  else
    402                  {
    403                    //See the possible errors for nwk steering procedure
    404                    //No suitable networks found
    405                    //Want to try other channels?
    406                    //try with bdb_setChannelAttribute
    407                  }
    408                break;
    409                case BDB_COMMISSIONING_FINDING_BINDING:
    410                  if(bdbCommissioningModeMsg->bdbCommissioningStatus == BDB_COMMISSIONING_SUCCESS)
    411                  {
    412                    //YOUR JOB:
    413                  }
    414                  else
    415                  {
    416                    //YOUR JOB:
    417                    //retry?, wait for user interaction?
    418                  }
    419                break;
    420                case BDB_COMMISSIONING_INITIALIZATION:
    421                  //Initialization notification can only be successful. Failure on initialization 
    422                  //only happens for ZED and is notified as BDB_COMMISSIONING_PARENT_LOST notification
    423                  
    424                  //YOUR JOB:
    425                  //We are on a network, what now?
    426                  
    427                break;
    428          #if ZG_BUILD_ENDDEVICE_TYPE    
    429              case BDB_COMMISSIONING_PARENT_LOST:
    430                if(bdbCommissioningModeMsg->bdbCommissioningStatus == BDB_COMMISSIONING_NETWORK_RESTORED)
    431                {
    432                  //We did recover from losing parent
    433                }
    434                else
    435                {
    436                  //Parent not found, attempt to rejoin again after a fixed delay
    437                  osal_start_timerEx(zclSampleTemperatureSensor_TaskID, SAMPLEAPP_END_DEVICE_REJOIN_EVT, SAMPLEAPP_END_DEVICE_REJOIN_DELAY);
    438                }
    439              break;
    440          #endif 
    441              }
    442          
    443            UI_UpdateComissioningStatus(bdbCommissioningModeMsg);
   \                     ??zclSampleTemperatureSensor_ProcessCommissioni_1:
   \   000023                ; Setup parameters for call to function UI_UpdateComissioningStatus
   \   000023   EE           MOV       A,R6
   \   000024   FA           MOV       R2,A
   \   000025   EF           MOV       A,R7
   \   000026   FB           MOV       R3,A
   \   000027   12....       LCALL     `??UI_UpdateComissioningStatus::?relay`; Banked call to: UI_UpdateComissioningStatus
    444          }
   \   00002A                REQUIRE ?Subroutine0
   \   00002A                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F01         MOV       R7,#0x1
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA
    445          
    446          /*********************************************************************
    447           * @fn      zclSampleTemperatureSensor_BasicResetCB
    448           *
    449           * @brief   Callback from the ZCL General Cluster Library
    450           *          to set all the Basic Cluster attributes to default values.
    451           *
    452           * @param   none
    453           *
    454           * @return  none
    455           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    456          static void zclSampleTemperatureSensor_BasicResetCB( void )
   \                     zclSampleTemperatureSensor_BasicResetCB:
    457          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    458            zclSampleTemperatureSensor_ResetAttributesToDefaultValues();
   \   000004                ; Setup parameters for call to function zclSampleTemperatureSensor_ResetAttributesToDefaultValues
   \   000004   12....       LCALL     ??zclSampleTemperatureSensor_ResetAttributesToD; Banked call to: zclSampleTemperatureSensor_ResetAttributesToDefaultValues
    459            
    460            UI_UpdateLcd();
   \   000007                ; Setup parameters for call to function UI_UpdateLcd
   \   000007   12....       LCALL     `??UI_UpdateLcd::?relay`; Banked call to: UI_UpdateLcd
    461          }
   \   00000A                REQUIRE ?Subroutine1
   \   00000A                ; // Fall through to label ?Subroutine1

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   D083         POP       DPH
   \   000002   D082         POP       DPL
   \   000004   02....       LJMP      ?BRET
    462          
    463          /*********************************************************************
    464           * @fn      zclSampleApp_BatteryWarningCB
    465           *
    466           * @brief   Called to handle battery-low situation.
    467           *
    468           * @param   voltLevel - level of severity
    469           *
    470           * @return  none
    471           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    472          void zclSampleApp_BatteryWarningCB( uint8 voltLevel )
   \                     zclSampleApp_BatteryWarningCB:
    473          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    474            if ( voltLevel == VOLT_LEVEL_CAUTIOUS )
    475            {
    476              // Send warning message to the gateway and blink LED
    477            }
    478            else if ( voltLevel == VOLT_LEVEL_BAD )
    479            {
    480              // Shut down the system
    481            }
    482          }
   \   000000   02....       LJMP      ?BRET
    483          
    484          /******************************************************************************
    485           *
    486           *  Functions for processing ZCL Foundation incoming Command/Response messages
    487           *
    488           *****************************************************************************/
    489          
    490          /*********************************************************************
    491           * @fn      zclSampleTemperatureSensor_ProcessIncomingMsg
    492           *
    493           * @brief   Process ZCL Foundation incoming message
    494           *
    495           * @param   pInMsg - pointer to the received message
    496           *
    497           * @return  none
    498           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    499          static void zclSampleTemperatureSensor_ProcessIncomingMsg( zclIncomingMsg_t *pInMsg)
   \                     zclSampleTemperatureSensor_ProcessIncomingMsg:
    500          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
    501            switch ( pInMsg->zclHdr.commandID )
   \   000005   EA           MOV       A,R2
   \   000006   2417         ADD       A,#0x17
   \   000008   F8           MOV       R0,A
   \   000009   E4           CLR       A
   \   00000A   3B           ADDC      A,R3
   \   00000B   F9           MOV       R1,A
   \   00000C   E8           MOV       A,R0
   \   00000D   FE           MOV       R6,A
   \   00000E   E9           MOV       A,R1
   \   00000F   FF           MOV       R7,A
   \   000010   8A82         MOV       DPL,R2
   \   000012   8B83         MOV       DPH,R3
   \   000014   A3           INC       DPTR
   \   000015   A3           INC       DPTR
   \   000016   A3           INC       DPTR
   \   000017   A3           INC       DPTR
   \   000018   A3           INC       DPTR
   \   000019   A3           INC       DPTR
   \   00001A   A3           INC       DPTR
   \   00001B   E0           MOVX      A,@DPTR
   \   00001C   14           DEC       A
   \   00001D   6016         JZ        ??zclSampleTemperatureSensor_ProcessIncomingMsg_1
   \   00001F   24FD         ADD       A,#-0x3
   \   000021   601F         JZ        ??zclSampleTemperatureSensor_ProcessIncomingMsg_2
   \   000023   24F7         ADD       A,#-0x9
   \   000025   602D         JZ        ??zclSampleTemperatureSensor_ProcessIncomingMsg_3
   \   000027   24FB         ADD       A,#-0x5
   \   000029   6024         JZ        ??zclSampleTemperatureSensor_ProcessIncomingMsg_4
   \   00002B   24FE         ADD       A,#-0x2
   \   00002D   6020         JZ        ??zclSampleTemperatureSensor_ProcessIncomingMsg_4
   \   00002F   24FE         ADD       A,#-0x2
   \   000031   6033         JZ        ??zclSampleTemperatureSensor_ProcessIncomingMsg_5
   \   000033   8043         SJMP      ??zclSampleTemperatureSensor_ProcessIncomingMsg_6
    502            {
    503          #ifdef ZCL_READ
    504              case ZCL_CMD_READ_RSP:
    505                zclSampleTemperatureSensor_ProcessInReadRspCmd( pInMsg );
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_1:
   \   000035   12....       LCALL     ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_2:
   \   000038   E0           MOVX      A,@DPTR
   \   000039   F9           MOV       R1,A
   \   00003A   E8           MOV       A,R0
   \   00003B   C3           CLR       C
   \   00003C   99           SUBB      A,R1
   \   00003D   5039         JNC       ??zclSampleTemperatureSensor_ProcessIncomingMsg_6
   \   00003F   08           INC       R0
   \   000040   80F6         SJMP      ??CrossCallReturnLabel_2
    506                break;
    507          #endif
    508          #ifdef ZCL_WRITE
    509              case ZCL_CMD_WRITE_RSP:
    510                zclSampleTemperatureSensor_ProcessInWriteRspCmd( pInMsg );
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_2:
   \   000042   12....       LCALL     ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_3:
   \   000045   E0           MOVX      A,@DPTR
   \   000046   F9           MOV       R1,A
   \   000047   E8           MOV       A,R0
   \   000048   C3           CLR       C
   \   000049   99           SUBB      A,R1
   \   00004A   502C         JNC       ??zclSampleTemperatureSensor_ProcessIncomingMsg_6
   \   00004C   08           INC       R0
   \   00004D   80F6         SJMP      ??CrossCallReturnLabel_3
    511                break;
    512          #endif
    513          #ifdef ZCL_REPORT
    514              // See ZCL Test Applicaiton (zcl_testapp.c) for sample code on Attribute Reporting
    515              case ZCL_CMD_CONFIG_REPORT:
    516                //zclSampleTemperatureSensor_ProcessInConfigReportCmd( pInMsg );
    517                break;
    518                case ZCL_CMD_READ_REPORT_CFG:
    519                //zclSampleTemperatureSensor_ProcessInReadReportCfgCmd( pInMsg );
    520                break;
    521              case ZCL_CMD_CONFIG_REPORT_RSP:
    522                //zclSampleTemperatureSensor_ProcessInConfigReportRspCmd( pInMsg );
    523                break;
    524              case ZCL_CMD_READ_REPORT_CFG_RSP:
    525                //zclSampleTemperatureSensor_ProcessInReadReportCfgRspCmd( pInMsg );
    526                break;
    527          
    528              case ZCL_CMD_REPORT:
    529                //zclSampleTemperatureSensor_ProcessInReportCmd( pInMsg );
    530                break;
    531          #endif
    532              case ZCL_CMD_DEFAULT_RSP:
    533                zclSampleTemperatureSensor_ProcessInDefaultRspCmd( pInMsg );
    534                break;
    535          #ifdef ZCL_DISCOVER
    536              case ZCL_CMD_DISCOVER_CMDS_RECEIVED_RSP:
    537                zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd( pInMsg );
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_4:
   \   00004F                ; Setup parameters for call to function zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd
    538                break;
    539          
    540              case ZCL_CMD_DISCOVER_CMDS_GEN_RSP:
    541                zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd( pInMsg );
   \   00004F                ; Setup parameters for call to function zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd
   \   00004F   12....       LCALL     ??zclSampleTemperatureSensor_ProcessInDiscCmdsR; Banked call to: zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd
    542                break;
   \   000052   8024         SJMP      ??zclSampleTemperatureSensor_ProcessIncomingMsg_6
    543          
    544              case ZCL_CMD_DISCOVER_ATTRS_RSP:
    545                zclSampleTemperatureSensor_ProcessInDiscAttrsRspCmd( pInMsg );
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_3:
   \   000054   12....       LCALL     ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   000057   8882         MOV       DPL,R0
   \   000059   8983         MOV       DPH,R1
   \   00005B   A3           INC       DPTR
   \   00005C   E0           MOVX      A,@DPTR
   \   00005D   FB           MOV       R3,A
   \   00005E   EA           MOV       A,R2
   \   00005F   C3           CLR       C
   \   000060   9B           SUBB      A,R3
   \   000061   5015         JNC       ??zclSampleTemperatureSensor_ProcessIncomingMsg_6
   \   000063   0A           INC       R2
   \   000064   80F1         SJMP      ??CrossCallReturnLabel_5
    546                break;
    547          
    548              case ZCL_CMD_DISCOVER_ATTRS_EXT_RSP:
    549                zclSampleTemperatureSensor_ProcessInDiscAttrsExtRspCmd( pInMsg );
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_5:
   \   000066   12....       LCALL     ?Subroutine4 & 0xFFFF
    550                break;
    551          #endif
    552              default:
    553                break;
    554            }
   \                     ??CrossCallReturnLabel_6:
   \   000069   8001         SJMP      ??zclSampleTemperatureSensor_ProcessIncomingMsg_7
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_8:
   \   00006B   0A           INC       R2
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_7:
   \   00006C   8882         MOV       DPL,R0
   \   00006E   8983         MOV       DPH,R1
   \   000070   A3           INC       DPTR
   \   000071   E0           MOVX      A,@DPTR
   \   000072   FB           MOV       R3,A
   \   000073   EA           MOV       A,R2
   \   000074   C3           CLR       C
   \   000075   9B           SUBB      A,R3
   \   000076   40F3         JC        ??zclSampleTemperatureSensor_ProcessIncomingMsg_8
    555          
    556            if ( pInMsg->attrCmd )
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_6:
   \   000078   8E82         MOV       DPL,R6
   \   00007A   8F83         MOV       DPH,R7
   \   00007C   E0           MOVX      A,@DPTR
   \   00007D   FA           MOV       R2,A
   \   00007E   A3           INC       DPTR
   \   00007F   E0           MOVX      A,@DPTR
   \   000080   FB           MOV       R3,A
   \   000081   EA           MOV       A,R2
   \   000082   4B           ORL       A,R3
   \   000083   6003         JZ        ??zclSampleTemperatureSensor_ProcessIncomingMsg_9
    557            {
    558              osal_mem_free( pInMsg->attrCmd );
   \   000085                ; Setup parameters for call to function osal_mem_free
   \   000085   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
    559            }
    560          }
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg_9:
   \   000088   02....       LJMP      ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   8E82         MOV       DPL,R6
   \   000002   8F83         MOV       DPH,R7
   \   000004                REQUIRE ??Subroutine6_0
   \   000004                ; // Fall through to label ??Subroutine6_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine6_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F8           MOV       R0,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   F9           MOV       R1,A
   \   000005   7A00         MOV       R2,#0x0
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   8E82         MOV       DPL,R6
   \   000002   8F83         MOV       DPH,R7
   \   000004   E0           MOVX      A,@DPTR
   \   000005   F8           MOV       R0,A
   \   000006   A3           INC       DPTR
   \   000007   E0           MOVX      A,@DPTR
   \   000008   F9           MOV       R1,A
   \   000009   8882         MOV       DPL,R0
   \   00000B   8983         MOV       DPH,R1
   \   00000D   7800         MOV       R0,#0x0
   \   00000F   22           RET
    561          
    562          #ifdef ZCL_READ
    563          /*********************************************************************
    564           * @fn      zclSampleTemperatureSensor_ProcessInReadRspCmd
    565           *
    566           * @brief   Process the "Profile" Read Response Command
    567           *
    568           * @param   pInMsg - incoming message to process
    569           *
    570           * @return  none
    571           */
    572          static uint8 zclSampleTemperatureSensor_ProcessInReadRspCmd( zclIncomingMsg_t *pInMsg )
    573          {
    574            zclReadRspCmd_t *readRspCmd;
    575            uint8 i;
    576          
    577            readRspCmd = (zclReadRspCmd_t *)pInMsg->attrCmd;
    578            for ( i = 0; i < readRspCmd->numAttr; i++ )
    579            {
    580              // Notify the originator of the results of the original read attributes
    581              // attempt and, for each successfull request, the value of the requested
    582              // attribute
    583            }
    584          
    585            return ( TRUE );
    586          }
    587          #endif // ZCL_READ
    588          
    589          #ifdef ZCL_WRITE
    590          /*********************************************************************
    591           * @fn      zclSampleTemperatureSensor_ProcessInWriteRspCmd
    592           *
    593           * @brief   Process the "Profile" Write Response Command
    594           *
    595           * @param   pInMsg - incoming message to process
    596           *
    597           * @return  none
    598           */
    599          static uint8 zclSampleTemperatureSensor_ProcessInWriteRspCmd( zclIncomingMsg_t *pInMsg )
    600          {
    601            zclWriteRspCmd_t *writeRspCmd;
    602            uint8 i;
    603          
    604            writeRspCmd = (zclWriteRspCmd_t *)pInMsg->attrCmd;
    605            for ( i = 0; i < writeRspCmd->numAttr; i++ )
    606            {
    607              // Notify the device of the results of the its original write attributes
    608              // command.
    609            }
    610          
    611            return ( TRUE );
    612          }
    613          #endif // ZCL_WRITE
    614          
    615          /*********************************************************************
    616           * @fn      zclSampleTemperatureSensor_ProcessInDefaultRspCmd
    617           *
    618           * @brief   Process the "Profile" Default Response Command
    619           *
    620           * @param   pInMsg - incoming message to process
    621           *
    622           * @return  none
    623           */
    624          static uint8 zclSampleTemperatureSensor_ProcessInDefaultRspCmd( zclIncomingMsg_t *pInMsg )
    625          {
    626            // zclDefaultRspCmd_t *defaultRspCmd = (zclDefaultRspCmd_t *)pInMsg->attrCmd;
    627          
    628            // Device is notified of the Default Response command.
    629            (void)pInMsg;
    630          
    631            return ( TRUE );
    632          }
    633          
    634          #ifdef ZCL_DISCOVER
    635          /*********************************************************************
    636           * @fn      zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd
    637           *
    638           * @brief   Process the Discover Commands Response Command
    639           *
    640           * @param   pInMsg - incoming message to process
    641           *
    642           * @return  none
    643           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    644          static uint8 zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd( zclIncomingMsg_t *pInMsg )
   \                     zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd:
    645          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    646            zclDiscoverCmdsCmdRsp_t *discoverRspCmd;
    647            uint8 i;
    648          
    649            discoverRspCmd = (zclDiscoverCmdsCmdRsp_t *)pInMsg->attrCmd;
   \   000004   EA           MOV       A,R2
   \   000005   2417         ADD       A,#0x17
   \   000007   F582         MOV       DPL,A
   \   000009   E4           CLR       A
   \   00000A   3B           ADDC      A,R3
   \   00000B   F583         MOV       DPH,A
   \   00000D   12....       LCALL     ??Subroutine6_0 & 0xFFFF
    650            for ( i = 0; i < discoverRspCmd->numCmd; i++ )
   \                     ??CrossCallReturnLabel_4:
   \   000010   8001         SJMP      ??zclSampleTemperatureSensor_ProcessInDiscCmdsR_1
   \                     ??zclSampleTemperatureSensor_ProcessInDiscCmdsR_2:
   \   000012   0A           INC       R2
   \                     ??zclSampleTemperatureSensor_ProcessInDiscCmdsR_1:
   \   000013   8882         MOV       DPL,R0
   \   000015   8983         MOV       DPH,R1
   \   000017   A3           INC       DPTR
   \   000018   A3           INC       DPTR
   \   000019   E0           MOVX      A,@DPTR
   \   00001A   FB           MOV       R3,A
   \   00001B   EA           MOV       A,R2
   \   00001C   C3           CLR       C
   \   00001D   9B           SUBB      A,R3
   \   00001E   40F2         JC        ??zclSampleTemperatureSensor_ProcessInDiscCmdsR_2
    651            {
    652              // Device is notified of the result of its attribute discovery command.
    653            }
    654          
    655            return ( TRUE );
   \   000020   7901         MOV       R1,#0x1
   \   000022   02....       LJMP      ?Subroutine1 & 0xFFFF
    656          }
    657          
    658          /*********************************************************************
    659           * @fn      zclSampleTemperatureSensor_ProcessInDiscAttrsRspCmd
    660           *
    661           * @brief   Process the "Profile" Discover Attributes Response Command
    662           *
    663           * @param   pInMsg - incoming message to process
    664           *
    665           * @return  none
    666           */
    667          static uint8 zclSampleTemperatureSensor_ProcessInDiscAttrsRspCmd( zclIncomingMsg_t *pInMsg )
    668          {
    669            zclDiscoverAttrsRspCmd_t *discoverRspCmd;
    670            uint8 i;
    671          
    672            discoverRspCmd = (zclDiscoverAttrsRspCmd_t *)pInMsg->attrCmd;
    673            for ( i = 0; i < discoverRspCmd->numAttr; i++ )
    674            {
    675              // Device is notified of the result of its attribute discovery command.
    676            }
    677          
    678            return ( TRUE );
    679          }
    680          
    681          /*********************************************************************
    682           * @fn      zclSampleTemperatureSensor_ProcessInDiscAttrsExtRspCmd
    683           *
    684           * @brief   Process the "Profile" Discover Attributes Extended Response Command
    685           *
    686           * @param   pInMsg - incoming message to process
    687           *
    688           * @return  none
    689           */
    690          static uint8 zclSampleTemperatureSensor_ProcessInDiscAttrsExtRspCmd( zclIncomingMsg_t *pInMsg )
    691          {
    692            zclDiscoverAttrsExtRsp_t *discoverRspCmd;
    693            uint8 i;
    694          
    695            discoverRspCmd = (zclDiscoverAttrsExtRsp_t *)pInMsg->attrCmd;
    696            for ( i = 0; i < discoverRspCmd->numAttr; i++ )
    697            {
    698              // Device is notified of the result of its attribute discovery command.
    699            }
    700          
    701            return ( TRUE );
    702          }
    703          #endif // ZCL_DISCOVER
    704          
    705          // GUI_LOCAL_TEMP

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    706          static void zclSampleTemperatureSensor_UiActionChangeTemp(uint16 keys)
   \                     zclSampleTemperatureSensor_UiActionChangeTemp:
    707          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
    708            if ( keys & HAL_KEY_SW_1 )
   \   000007   A2E0         MOV       C,0xE0 /* A   */.0
   \   000009   502C         JNC       ??zclSampleTemperatureSensor_UiActionChangeTemp_1
    709            {
    710              // increase the temperature
    711              if ( zclSampleTemperatureSensor_MeasuredValue < zclSampleTemperatureSensor_MaxMeasuredValue )
   \   00000B   90....       MOV       DPTR,#zclSampleTemperatureSensor_MaxMeasuredValue
   \   00000E   12....       LCALL     ??Subroutine7_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_7:
   \   000011   7583..       MOV       DPH,#(zclSampleTemperatureSensor_MeasuredValue >> 8) & 0xff
   \   000014   7582..       MOV       DPL,#zclSampleTemperatureSensor_MeasuredValue & 0xff
   \   000017   C3           CLR       C
   \   000018   E0           MOVX      A,@DPTR
   \   000019   98           SUBB      A,R0
   \   00001A   A3           INC       DPTR
   \   00001B   E0           MOVX      A,@DPTR
   \   00001C   99           SUBB      A,R1
   \   00001D   90....       MOV       DPTR,#zclSampleTemperatureSensor_MeasuredValue
   \   000020   5010         JNC       ??zclSampleTemperatureSensor_UiActionChangeTemp_2
    712              {
    713                zclSampleTemperatureSensor_MeasuredValue = zclSampleTemperatureSensor_MeasuredValue + 100;  // considering using whole number value
   \   000022   E0           MOVX      A,@DPTR
   \   000023   2464         ADD       A,#0x64
   \   000025   F0           MOVX      @DPTR,A
   \   000026   A3           INC       DPTR
   \   000027   E0           MOVX      A,@DPTR
   \   000028   3400         ADDC      A,#0x0
   \   00002A   12....       LCALL     ?Subroutine2 & 0xFFFF
    714          #ifdef BDB_REPORTING      
    715                uint8 status = bdb_RepChangedAttrValue(SAMPLETEMPERATURESENSOR_ENDPOINT, ZCL_CLUSTER_ID_MS_TEMPERATURE_MEASUREMENT, ATTRID_MS_TEMPERATURE_MEASURED_VALUE);
    716          #endif
    717              }
   \                     ??CrossCallReturnLabel_0:
   \   00002D   12....       LCALL     `??bdb_RepChangedAttrValue::?relay`; Banked call to: bdb_RepChangedAttrValue
   \   000030   8005         SJMP      ??zclSampleTemperatureSensor_UiActionChangeTemp_1
    718              else if ( zclSampleTemperatureSensor_MeasuredValue >= zclSampleTemperatureSensor_MaxMeasuredValue )
    719              {
    720                zclSampleTemperatureSensor_MeasuredValue = zclSampleTemperatureSensor_MaxMeasuredValue;
   \                     ??zclSampleTemperatureSensor_UiActionChangeTemp_2:
   \   000032   E8           MOV       A,R0
   \   000033   F0           MOVX      @DPTR,A
   \   000034   A3           INC       DPTR
   \   000035   E9           MOV       A,R1
   \   000036   F0           MOVX      @DPTR,A
    721              }
    722            }
    723            
    724            if ( keys & HAL_KEY_SW_3 )
   \                     ??zclSampleTemperatureSensor_UiActionChangeTemp_1:
   \   000037   EE           MOV       A,R6
   \   000038   5410         ANL       A,#0x10
   \   00003A   6037         JZ        ??zclSampleTemperatureSensor_UiActionChangeTemp_3
    725            {
    726              // decrease the temperature
    727              if ( zclSampleTemperatureSensor_MeasuredValue > zclSampleTemperatureSensor_MinMeasuredValue )
   \   00003C   12....       LCALL     ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   00003F   7583..       MOV       DPH,#(zclSampleTemperatureSensor_MinMeasuredValue >> 8) & 0xff
   \   000042   7582..       MOV       DPL,#zclSampleTemperatureSensor_MinMeasuredValue & 0xff
   \   000045   C3           CLR       C
   \   000046   E0           MOVX      A,@DPTR
   \   000047   98           SUBB      A,R0
   \   000048   A3           INC       DPTR
   \   000049   E0           MOVX      A,@DPTR
   \   00004A   99           SUBB      A,R1
   \   00004B   A2D2         MOV       C,0xD0 /* PSW */.2
   \   00004D   65D0         XRL       A,PSW
   \   00004F   33           RLC       A
   \   000050   5013         JNC       ??zclSampleTemperatureSensor_UiActionChangeTemp_4
    728              {
    729                zclSampleTemperatureSensor_MeasuredValue = zclSampleTemperatureSensor_MeasuredValue - 100;  // considering using whole number value
   \   000052   90....       MOV       DPTR,#zclSampleTemperatureSensor_MeasuredValue
   \   000055   E0           MOVX      A,@DPTR
   \   000056   249C         ADD       A,#-0x64
   \   000058   F0           MOVX      @DPTR,A
   \   000059   A3           INC       DPTR
   \   00005A   E0           MOVX      A,@DPTR
   \   00005B   34FF         ADDC      A,#-0x1
   \   00005D   12....       LCALL     ?Subroutine2 & 0xFFFF
    730          #ifdef BDB_REPORTING
    731                uint8 status = bdb_RepChangedAttrValue(SAMPLETEMPERATURESENSOR_ENDPOINT, ZCL_CLUSTER_ID_MS_TEMPERATURE_MEASUREMENT, ATTRID_MS_TEMPERATURE_MEASURED_VALUE);
    732          #endif
    733              }
   \                     ??CrossCallReturnLabel_1:
   \   000060   12....       LCALL     `??bdb_RepChangedAttrValue::?relay`; Banked call to: bdb_RepChangedAttrValue
   \   000063   800E         SJMP      ??zclSampleTemperatureSensor_UiActionChangeTemp_3
    734              else if ( zclSampleTemperatureSensor_MeasuredValue <= zclSampleTemperatureSensor_MinMeasuredValue )
    735              {
    736                zclSampleTemperatureSensor_MeasuredValue = zclSampleTemperatureSensor_MinMeasuredValue;
   \                     ??zclSampleTemperatureSensor_UiActionChangeTemp_4:
   \   000065   90....       MOV       DPTR,#zclSampleTemperatureSensor_MinMeasuredValue
   \   000068   12....       LCALL     ??Subroutine7_0 & 0xFFFF
    737              }
    738            }
   \                     ??CrossCallReturnLabel_8:
   \   00006B   90....       MOV       DPTR,#zclSampleTemperatureSensor_MeasuredValue
   \   00006E   E8           MOV       A,R0
   \   00006F   F0           MOVX      @DPTR,A
   \   000070   A3           INC       DPTR
   \   000071   E9           MOV       A,R1
   \   000072   F0           MOVX      @DPTR,A
    739            
    740            UI_UpdateLcd();
   \                     ??zclSampleTemperatureSensor_UiActionChangeTemp_3:
   \   000073                ; Setup parameters for call to function UI_UpdateLcd
   \   000073   12....       LCALL     `??UI_UpdateLcd::?relay`; Banked call to: UI_UpdateLcd
    741          }
   \   000076   02....       LJMP      ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   F0           MOVX      @DPTR,A
   \   000001                ; Setup parameters for call to function bdb_RepChangedAttrValue
   \   000001                ; Setup parameters for call to function bdb_RepChangedAttrValue
   \   000001   7C00         MOV       R4,#0x0
   \   000003   7D00         MOV       R5,#0x0
   \   000005   7A02         MOV       R2,#0x2
   \   000007   7B04         MOV       R3,#0x4
   \   000009   7908         MOV       R1,#0x8
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   90....       MOV       DPTR,#zclSampleTemperatureSensor_MeasuredValue
   \   000003                REQUIRE ??Subroutine7_0
   \   000003                ; // Fall through to label ??Subroutine7_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine7_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F8           MOV       R0,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   F9           MOV       R1,A
   \   000005   22           RET
    742          
    743          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    744          void zclSampleTemperatureSensor_uiAppUpdateLcd(uint8 gui_state, char * line[3])
   \                     zclSampleTemperatureSensor_uiAppUpdateLcd:
    745          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000   74F1         MOV       A,#-0xf
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
   \   000006   FF           MOV       R7,A
   \   000007   8A..         MOV       ?V0,R2
   \   000009   8B..         MOV       ?V1,R3
    746            static char sDisplayTemp[16];
    747            
    748            switch(gui_state)
   \   00000B   7401         MOV       A,#0x1
   \   00000D   6F           XRL       A,R7
   \   00000E   6003         JZ        $+5
   \   000010   02....       LJMP      ??zclSampleTemperatureSensor_uiAppUpdateLcd_0 & 0xFFFF
    749            {
    750              case GUI_LOCAL_TEMP:
    751              // display current temperature
    752              osal_memcpy(sDisplayTemp, "TEMP: ", 6);
   \   000013                ; Setup parameters for call to function osal_memcpy
   \   000013   75....       MOV       ?V4,#`?<Constant "TEMP: ">` & 0xff
   \   000016   75....       MOV       ?V5,#(`?<Constant "TEMP: ">` >> 8) & 0xff
   \   000019   75..00       MOV       ?V6,#0x0
   \   00001C   78..         MOV       R0,#?V4
   \   00001E   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   000021   7C06         MOV       R4,#0x6
   \   000023   7D00         MOV       R5,#0x0
   \   000025   7A..         MOV       R2,#??sDisplayTemp & 0xff
   \   000027   7B..         MOV       R3,#(??sDisplayTemp >> 8) & 0xff
   \   000029   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00002C   7403         MOV       A,#0x3
   \   00002E   12....       LCALL     ?DEALLOC_XSTACK8
    753              _ltoa( ( zclSampleTemperatureSensor_MeasuredValue / 100 ), (void *)(&sDisplayTemp[6]), 10 );   // convert temperature to whole number
   \   000031                ; Setup parameters for call to function _ltoa
   \   000031   75....       MOV       ?V2,#(??sDisplayTemp + 6) & 0xff
   \   000034   75....       MOV       ?V3,#((??sDisplayTemp + 6) >> 8) & 0xff
   \   000037   78..         MOV       R0,#?V2
   \   000039   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00003C   12....       LCALL     ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   00003F   7A64         MOV       R2,#0x64
   \   000041   7B00         MOV       R3,#0x0
   \   000043   12....       LCALL     ?S_DIV_MOD
   \   000046   E8           MOV       A,R0
   \   000047   FA           MOV       R2,A
   \   000048   E9           MOV       A,R1
   \   000049   FB           MOV       R3,A
   \   00004A   33           RLC       A
   \   00004B   95E0         SUBB      A,0xE0 /* A   */
   \   00004D   FC           MOV       R4,A
   \   00004E   FD           MOV       R5,A
   \   00004F   790A         MOV       R1,#0xa
   \   000051   12....       LCALL     `??_ltoa::?relay`; Banked call to: _ltoa
   \   000054   7402         MOV       A,#0x2
   \   000056   12....       LCALL     ?DEALLOC_XSTACK8
    754              osal_memcpy( &sDisplayTemp[8], "C", 2 );
   \   000059                ; Setup parameters for call to function osal_memcpy
   \   000059   75....       MOV       ?V4,#`?<Constant "C">` & 0xff
   \   00005C   75....       MOV       ?V5,#(`?<Constant "C">` >> 8) & 0xff
   \   00005F   78..         MOV       R0,#?V4
   \   000061   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   000064   7C02         MOV       R4,#0x2
   \   000066   7D00         MOV       R5,#0x0
   \   000068   7A..         MOV       R2,#(??sDisplayTemp + 8) & 0xff
   \   00006A   7B..         MOV       R3,#((??sDisplayTemp + 8) >> 8) & 0xff
   \   00006C   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00006F   7403         MOV       A,#0x3
   \   000071   12....       LCALL     ?DEALLOC_XSTACK8
    755          
    756              line[1] = (char *)sDisplayTemp;
   \   000074   85..82       MOV       DPL,?V0
   \   000077   85..83       MOV       DPH,?V1
   \   00007A   A3           INC       DPTR
   \   00007B   A3           INC       DPTR
   \   00007C   74..         MOV       A,#??sDisplayTemp & 0xff
   \   00007E   F0           MOVX      @DPTR,A
   \   00007F   A3           INC       DPTR
   \   000080   74..         MOV       A,#(??sDisplayTemp >> 8) & 0xff
   \   000082   F0           MOVX      @DPTR,A
    757              line[2] = "<SET LOCAL TEMP>";
   \   000083   85..82       MOV       DPL,?V0
   \   000086   85..83       MOV       DPH,?V1
   \   000089   A3           INC       DPTR
   \   00008A   A3           INC       DPTR
   \   00008B   A3           INC       DPTR
   \   00008C   A3           INC       DPTR
   \   00008D   74..         MOV       A,#`?<Constant "<SET LOCAL TEMP>">` & 0xff
   \   00008F   F0           MOVX      @DPTR,A
   \   000090   A3           INC       DPTR
   \   000091   74..         MOV       A,#(`?<Constant "<SET LOCAL TEMP>">` >> 8) & 0xff
   \   000093   F0           MOVX      @DPTR,A
    758              break;
    759              
    760              default:
    761              break;
    762            }
    763          }
   \                     ??zclSampleTemperatureSensor_uiAppUpdateLcd_0:
   \   000094   7F07         MOV       R7,#0x7
   \   000096   02....       LJMP      ?BANKED_LEAVE_XDATA

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??sDisplayTemp:
   \   000000                DS 16
   \   000010                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleTemperatureSensor_N`:
   \   000000   01           DB 1

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for reportableChange>`:
   \   000000   2C           DB 44
   \   000001   01           DB 1
   \   000002   00           DB 0
   \   000003   00           DB 0

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zclSampleTemperatureSensor_C`:
   \   000000   ....         DW `??zclSampleTemperatureSensor_BasicResetCB::?rel`
   \   000002   0000         DW 0H
   \   000004   0000         DW 0H
   \   000006   0000         DW 0H
   \   000008   0000         DW 0H
   \   00000A   0000         DW 0H
   \   00000C   0000         DW 0H
   \   00000E   0000         DW 0H
   \   000010   0000         DW 0H

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleTemperatureSensor_Init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleTemperatureSensor_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleTemperatureSensor_event_loop::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleTemperatureSensor_event_loop

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleTemperatureSensor_ProcessCommissioni:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleTemperatureSensor_ProcessCommissioningStatus

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleTemperatureSensor_BasicResetCB::?rel`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleTemperatureSensor_BasicResetCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleApp_BatteryWarningCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleApp_BatteryWarningCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleTemperatureSensor_ProcessIncomingMsg:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleTemperatureSensor_ProcessIncomingMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleTemperatureSensor_ProcessInDiscCmdsR:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??zclSampleTemperatureSensor_UiActionChangeTemp:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleTemperatureSensor_UiActionChangeTemp

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSampleTemperatureSensor_uiAppUpdateLcd::?r`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSampleTemperatureSensor_uiAppUpdateLcd

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "   Temp Sensor  ">`:
   \   000000   20202054     DB "   Temp Sensor  "
   \            656D7020
   \            53656E73
   \            6F722020
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "TEMP: ">`:
   \   000000   54454D50     DB "TEMP: "
   \            3A2000  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "C">`:
   \   000000   4300         DB "C"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<SET LOCAL TEMP>">`:
   \   000000   3C534554     DB "<SET LOCAL TEMP>"
   \            204C4F43
   \            414C2054
   \            454D503E
   \            00      
    764          
    765          /****************************************************************************
    766          ****************************************************************************/
    767          
    768          

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      0      0   zclSampleApp_BatteryWarningCB
      2      0   zclSampleTemperatureSensor_BasicResetCB
        2      0   -> UI_UpdateLcd
        2      0   -> zclSampleTemperatureSensor_ResetAttributesToDefaultValues
      0     18   zclSampleTemperatureSensor_Init
        0     10   -> RegisterForKeys
        0     10   -> RegisterVoltageWarningCB
        0     18   -> UI_Init
        0     10   -> UI_UpdateLcd
        0     10   -> bdb_RegisterCommissioningStatusCB
        0     10   -> bdb_RegisterSimpleDescriptor
        0     16   -> bdb_RepAddAttrCfgRecordDefaultToList
        0     10   -> zclGeneral_RegisterCmdCallbacks
        0     10   -> zclSampleTemperatureSensor_ResetAttributesToDefaultValues
        0     10   -> zcl_registerAttrList
        0     10   -> zcl_registerForMsg
      0      9   zclSampleTemperatureSensor_ProcessCommissioningStatus
        0      9   -> UI_UpdateComissioningStatus
        0      9   -> bdb_StartCommissioning
      2      9   zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd
      0     21   zclSampleTemperatureSensor_ProcessIncomingMsg
        0      9   -> osal_mem_free
        0      9   -> zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd
      2      9   zclSampleTemperatureSensor_UiActionChangeTemp
        0      9   -> UI_UpdateLcd
        0      9   -> bdb_RepChangedAttrValue
      0     12   zclSampleTemperatureSensor_event_loop
        0     12   -> UI_DeviceStateUpdated
        0     12   -> UI_MainStateMachine
        0     12   -> UI_UpdateLcd
        0     12   -> osal_msg_deallocate
        0     12   -> osal_msg_receive
        0     12   -> zclSampleTemperatureSensor_ProcessIncomingMsg
      0     18   zclSampleTemperatureSensor_uiAppUpdateLcd
        0     17   -> _ltoa
        0     18   -> osal_memcpy


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      17  ?<Constant "   Temp Sensor  ">
      17  ?<Constant "<SET LOCAL TEMP>">
       2  ?<Constant "C">
       7  ?<Constant "TEMP: ">
       4  ?<Initializer for reportableChange>
      18  ?<Initializer for zclSampleTemperatureSensor_C
       1  ?<Initializer for zclSampleTemperatureSensor_N
       8  ??Subroutine6_0
       6  ??Subroutine7_0
       5  ?Subroutine0
       7  ?Subroutine1
      12  ?Subroutine2
      16  ?Subroutine3
       4  ?Subroutine4
       3  ?Subroutine5
       4  reportableChange
      16  sDisplayTemp
       3  zclSampleApp_BatteryWarningCB
       6  zclSampleApp_BatteryWarningCB::?relay
      10  zclSampleTemperatureSensor_BasicResetCB
       6  zclSampleTemperatureSensor_BasicResetCB::?relay
      18  zclSampleTemperatureSensor_CmdCallbacks
     206  zclSampleTemperatureSensor_Init
       6  zclSampleTemperatureSensor_Init::?relay
       1  zclSampleTemperatureSensor_NwkState
      42  zclSampleTemperatureSensor_ProcessCommissioningStatus
       6  zclSampleTemperatureSensor_ProcessCommissioningStatus::?relay
      37  zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd
       6  zclSampleTemperatureSensor_ProcessInDiscCmdsRspCmd::?relay
     139  zclSampleTemperatureSensor_ProcessIncomingMsg
       6  zclSampleTemperatureSensor_ProcessIncomingMsg::?relay
       1  zclSampleTemperatureSensor_TaskID
     121  zclSampleTemperatureSensor_UiActionChangeTemp
       6  zclSampleTemperatureSensor_UiActionChangeTemp::?relay
     128  zclSampleTemperatureSensor_event_loop
       6  zclSampleTemperatureSensor_event_loop::?relay
      12  zclSampleTemperatureSensor_uiAppStatesMain
     153  zclSampleTemperatureSensor_uiAppUpdateLcd
       6  zclSampleTemperatureSensor_uiAppUpdateLcd::?relay

 
 900 bytes in segment BANKED_CODE
  54 bytes in segment BANK_RELAYS
  23 bytes in segment XDATA_I
  23 bytes in segment XDATA_ID
  55 bytes in segment XDATA_ROM_C
  17 bytes in segment XDATA_Z
 
  77 bytes of CODE     memory
  55 bytes of CONST    memory
 900 bytes of HUGECODE memory
  40 bytes of XDATA    memory

Errors: none
Warnings: none
