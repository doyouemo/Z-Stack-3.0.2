###############################################################################
#
# IAR C/C++ Compiler V10.10.1.4655 for 8051               03/Feb/2026  00:10:24
# Copyright 2004-2017 IAR Systems AB.
# Standalone license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Components\stack\zcl\zcl.c
#    Command line       =  
#        -f C:\Users\ASUS\AppData\Local\Temp\EWD17A.tmp
#        ("C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Components\stack\zcl\zcl.c" -D BDB_REPORTING -D SECURE=1 -D
#        TC_LINKKEY_JOIN -D NV_INIT -D NV_RESTORE -D xZTOOL_P1 -D xMT_TASK -D
#        xMT_APP_FUNC -D xMT_SYS_FUNC -D xMT_ZDO_FUNC -D xMT_APP_CNF_FUNC -D
#        LCD_SUPPORTED=DEBUG -D MULTICAST_ENABLED=FALSE -D ZCL_READ -D
#        ZCL_DISCOVER -D ZCL_WRITE -D ZCL_BASIC -D ZCL_IDENTIFY -D
#        ZCL_TEMPERATURE_MEASUREMENT -D ZCL_GROUPS -D HAL_LED=TRUE -D
#        HAL_UART=TRUE -D INT_HEAP_LEN=2048 -lC
#        "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\CoordinatorEB\List"
#        -lA "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\CoordinatorEB\List"
#        --diag_suppress Pe001,Pa010 -o "C:\Users\ASUS\Desktop\work\graduration
#        project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\CoordinatorEB\Obj"
#        -e --debug --core=plain --dptr=16,1 --data_model=large
#        --code_model=banked --calling_convention=xdata_reentrant
#        --place_constants=data_rom --nr_virtual_regs 16 -f
#        "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\Tools\CC2530DB\f8wCoord.cfg"
#        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
#        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
#        -DZDO_COORDINATOR -DRTR_NWK) -f
#        "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0x1234
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 -DDEFAULT_KEY={0} -DMAC_MAX_FRAME_SIZE=116
#        -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const __code"
#        -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000
#        -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440
#        -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000 -DENABLE_LED4_DISABLE_S1)
#        -f "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\" -I
#        "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\Source\" -I
#        "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\Source\" -I
#        "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\ZMain\TI2530DB\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\hal\include\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\mac\include\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\mt\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\osal\include\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\services\saddr\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\services\sdata\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\af\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\bdb\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\gp\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\sec\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\sys\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\zcl\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\zmac\"
#        -I "C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
#        -Ohz --require_prototypes)
#    Locale             =  Chinese (Simplified)_China.936
#    List file          =  
#        C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\CoordinatorEB\List\zcl.lst
#    Object file        =  
#        C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\ZEM\CC2530DB\CoordinatorEB\Obj\zcl.r51
#
###############################################################################

C:\Users\ASUS\Desktop\work\graduration project\software\Z-Stack 3.0.2\Components\stack\zcl\zcl.c
      1          /**************************************************************************************************
      2            Filename:       zcl.c
      3            Revised:        $Date: 2015-09-09 11:51:49 -0700 (Wed, 09 Sep 2015) $
      4            Revision:       $Revision: 44489 $
      5          
      6            Description:    This file contains the Zigbee Cluster Library Foundation functions.
      7          
      8          
      9            Copyright 2006-2015 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41           * INCLUDES
     42           */
     43          #include "ZComDef.h"
     44          #include "AF.h"
     45          #include "APS.h"
     46          #include "zcl.h"
     47          #include "zcl_general.h"
     48          
     49          #if defined ( INTER_PAN )
     50            #include "stub_aps.h"
     51          #endif
     52             
     53          #ifdef BDB_REPORTING
     54            #include "bdb_Reporting.h"
     55          #endif
     56          #include "bdb_interface.h"
     57          
     58          #include "zcl_green_power.h"
     59          
     60             
     61          /*********************************************************************
     62           * MACROS
     63           */
     64          /*** Frame Control ***/
     65          #define zcl_FCType( a )               ( (a) & ZCL_FRAME_CONTROL_TYPE )
     66          #define zcl_FCManuSpecific( a )       ( (a) & ZCL_FRAME_CONTROL_MANU_SPECIFIC )
     67          #define zcl_FCDirection( a )          ( (a) & ZCL_FRAME_CONTROL_DIRECTION )
     68          #define zcl_FCDisableDefaultRsp( a )  ( (a) & ZCL_FRAME_CONTROL_DISABLE_DEFAULT_RSP )
     69          
     70          /*** Attribute Access Control ***/
     71          #define zcl_AccessCtrlRead( a )       ( (a) & ACCESS_CONTROL_READ )
     72          #define zcl_AccessCtrlWrite( a )      ( (a) & ACCESS_CONTROL_WRITE )
     73          #define zcl_AccessCtrlCmd( a )        ( (a) & ACCESS_CONTROL_CMD )
     74          #define zcl_AccessCtrlAuthRead( a )   ( (a) & ACCESS_CONTROL_AUTH_READ )
     75          #define zcl_AccessCtrlAuthWrite( a )  ( (a) & ACCESS_CONTROL_AUTH_WRITE )
     76          #define zcl_AccessClient( a )         ( (a) & ACCESS_CLIENT )
     77          
     78          #define zclParseCmd( a, b )           zclCmdTable[(a)].pfnParseInProfile( (b) )
     79          #define zclProcessCmd( a, b )         zclCmdTable[(a)].pfnProcessInProfile( (b) )
     80          
     81          #define zcl_DefaultRspCmd( zclHdr )   ( zcl_ProfileCmd( (zclHdr).fc.type )     && \
     82                                                  (zclHdr).fc.manuSpecific == 0          && \
     83                                                  (zclHdr).commandID == ZCL_CMD_DEFAULT_RSP )
     84          
     85          // Commands that have corresponding responses (ZCL_CMD_WRITE_NO_RSP, does not have response, but must not send default response)
     86          #define CMD_HAS_RSP( cmd )            ( (cmd) == ZCL_CMD_READ                   || \
     87                                                  (cmd) == ZCL_CMD_WRITE                  || \
     88                                                  (cmd) == ZCL_CMD_WRITE_UNDIVIDED        || \
     89                                                  (cmd) == ZCL_CMD_WRITE_NO_RSP           || \
     90                                                  (cmd) == ZCL_CMD_CONFIG_REPORT          || \
     91                                                  (cmd) == ZCL_CMD_READ_REPORT_CFG        || \
     92                                                  (cmd) == ZCL_CMD_DISCOVER_ATTRS         || \
     93                                                  (cmd) == ZCL_CMD_DISCOVER_CMDS_RECEIVED || \
     94                                                  (cmd) == ZCL_CMD_DISCOVER_CMDS_GEN      || \
     95                                                  (cmd) == ZCL_CMD_DISCOVER_ATTRS_EXT     || \
     96                                                  (cmd) == ZCL_CMD_DEFAULT_RSP ) // exception
     97          #define  ZCL_VALID_MIN_HEADER_LEN  3
     98          
     99          /*********************************************************************
    100           * CONSTANTS
    101           */
    102          
    103          /*********************************************************************
    104           * TYPEDEFS
    105           */
    106          typedef struct zclLibPlugin
    107          {
    108            struct zclLibPlugin *next;
    109            uint16              startClusterID;    // starting cluster ID
    110            uint16              endClusterID;      // ending cluster ID
    111            zclInHdlr_t         pfnIncomingHdlr;    // function to handle incoming message
    112          } zclLibPlugin_t;
    113          
    114          // Command record list
    115          typedef struct zclCmdRecsList
    116          {
    117            struct zclCmdRecsList *pNext;
    118            uint8                 endpoint;
    119            uint8                 numCommands;
    120            CONST zclCommandRec_t *pCmdRecs;
    121          } zclCmdRecsList_t;
    122          
    123          
    124          // Cluster option list item
    125          typedef struct zclClusterOptionList
    126          {
    127            struct zclClusterOptionList *next;
    128            uint8                       endpoint;   // Used to link it into the endpoint descriptor
    129            uint8                       numOptions; // Number of the following records
    130            zclOptionRec_t              *options;   // option records
    131          } zclClusterOptionList;
    132          
    133          typedef void *(*zclParseInProfileCmd_t)( zclParseCmd_t *pCmd );
    134          typedef uint8 (*zclProcessInProfileCmd_t)( zclIncoming_t *pInMsg );
    135          
    136          typedef struct
    137          {
    138            zclParseInProfileCmd_t   pfnParseInProfile;
    139            zclProcessInProfileCmd_t pfnProcessInProfile;
    140          } zclCmdItems_t;
    141          
    142          
    143          // List record for external handler for unhandled ZCL Foundation commands/rsps
    144          typedef struct zclExternalFoundationHandlerList
    145          {
    146              struct zclExternalFoundationHandlerList *next;
    147              uint8 zcl_ExternalTaskID;
    148              uint8 zcl_ExternalEndPoint;
    149          } zclExternalFoundationHandlerList;
    150          
    151          
    152          /*********************************************************************
    153           * GLOBAL VARIABLES
    154           */
    155          
    156          #define CLUSTER_P2P             0
    157          #define CLUSTER_BROADCAST       1
    158          #define CLUSTER_GROUPCAST       2
    159          
    160          #if !defined ( ZCL_STANDALONE )

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    161            uint8 zcl_TaskID;
   \                     zcl_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    162          #endif
    163          
    164          // The Application should register its attribute data validation function

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    165          zclValidateAttrData_t zcl_ValidateAttrDataCB = (zclValidateAttrData_t)NULL;
   \                     zcl_ValidateAttrDataCB:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    166          
    167          // ZCL Sequence number
    168          //uint8 zcl_SeqNum = 0x00;  //Not longer used, refer to bdb_getZCLFrameCounter() in bdb_interface.h

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    169          uint8 zcl_InSeqNum = 0x00;
   \                     zcl_InSeqNum:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    170          

   \                                 In  segment XDATA_I, align 1, keep-with-next
    171          uint8 zcl_radius = AF_DEFAULT_RADIUS;
   \                     zcl_radius:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for zcl_radius>`
   \   000001                REQUIRE __INIT_XDATA_I
    172          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    173          static uint8 savedZCLTransSeqNum = 0;
   \                     savedZCLTransSeqNum:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    174          
    175          /*********************************************************************
    176           * EXTERNAL VARIABLES
    177           */
    178          
    179          /*********************************************************************
    180           * EXTERNAL FUNCTIONS
    181           */
    182          
    183          /*********************************************************************
    184           * LOCAL VARIABLES
    185           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    186          static zclLibPlugin_t *plugins = (zclLibPlugin_t *)NULL;
   \                     plugins:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    187          
    188          #if defined ( ZCL_DISCOVER )

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    189            static zclCmdRecsList_t *gpCmdList = (zclCmdRecsList_t *)NULL;
   \                     gpCmdList:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    190          #endif
    191          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    192          static zclAttrRecsList *attrList = (zclAttrRecsList *)NULL;
   \                     attrList:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    193          static zclClusterOptionList *clusterOptionList = (zclClusterOptionList *)NULL;
   \                     clusterOptionList:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    194          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    195          static afIncomingMSGPacket_t *rawAFMsg = (afIncomingMSGPacket_t *)NULL;
   \                     rawAFMsg:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    196          
    197          #if !defined ( ZCL_STANDALONE )

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    198          static zclExternalFoundationHandlerList *externalEndPointHandlerList = (zclExternalFoundationHandlerList *)NULL;
   \                     externalEndPointHandlerList:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    199          #endif
    200          
    201          /*********************************************************************
    202           * LOCAL FUNCTIONS
    203           */
    204          static uint8 *zclBuildHdr( zclFrameHdr_t *hdr, uint8 *pData );
    205          static uint8 zclCalcHdrSize( zclFrameHdr_t *hdr );
    206          static zclLibPlugin_t *zclFindPlugin( uint16 clusterID, uint16 profileID );
    207          
    208          #if !defined ( ZCL_STANDALONE )
    209          static uint8 zcl_addExternalFoundationHandler( uint8 taskId, uint8 endPointId );
    210          static uint8 zcl_getExternalFoundationHandler( afIncomingMSGPacket_t *pInMsg );
    211          #endif // !defined ( ZCL_STANDALONE )
    212          
    213          #if defined ( ZCL_DISCOVER )
    214            static zclCmdRecsList_t *zclFindCmdRecsList( uint8 endpoint );
    215          #endif
    216          
    217          zclAttrRecsList *zclFindAttrRecsList( uint8 endpoint );
    218          static zclOptionRec_t *zclFindClusterOption( uint8 endpoint, uint16 clusterID );
    219          static uint8 zclGetClusterOption( uint8 endpoint, uint16 clusterID );
    220          static void zclSetSecurityOption( uint8 endpoint, uint16 clusterID, uint8 enable );
    221          
    222          static uint8 zcl_DeviceOperational( uint8 srcEP, uint16 clusterID, uint8 frameType, uint8 cmd, uint16 profileID );
    223          
    224          #if defined ( ZCL_READ ) || defined ( ZCL_WRITE )
    225          static zclReadWriteCB_t zclGetReadWriteCB( uint8 endpoint );
    226          static zclAuthorizeCB_t zclGetAuthorizeCB( uint8 endpoint );
    227          #endif // ZCL_READ || ZCL_WRITE
    228          
    229          #ifdef ZCL_READ
    230          ZStatus_t zclReadAttrData( uint8 *pAttrData, zclAttrRec_t *pAttr, uint16 *pDataLen );
    231          static uint16 zclGetAttrDataLengthUsingCB( uint8 endpoint, uint16 clusterID, uint16 attrId );
    232          static ZStatus_t zclReadAttrDataUsingCB( uint8 endpoint, uint16 clusterId, uint16 attrId,
    233                                                   uint8 *pAttrData, uint16 *pDataLen );
    234          static ZStatus_t zclAuthorizeRead( uint8 endpoint, afAddrType_t *srcAddr, zclAttrRec_t *pAttr );
    235          static void *zclParseInReadRspCmd( zclParseCmd_t *pCmd );
    236          static uint8 zclProcessInReadCmd( zclIncoming_t *pInMsg );
    237          #endif // ZCL_READ
    238          
    239          #ifdef ZCL_WRITE
    240          static ZStatus_t zclWriteAttrData( uint8 endpoint, afAddrType_t *srcAddr,
    241                                             zclAttrRec_t *pAttr, zclWriteRec_t *pWriteRec );
    242          static ZStatus_t zclWriteAttrDataUsingCB( uint8 endpoint, afAddrType_t *srcAddr,
    243                                                    zclAttrRec_t *pAttr, uint8 *pAttrData );
    244          static ZStatus_t zclAuthorizeWrite( uint8 endpoint, afAddrType_t *srcAddr, zclAttrRec_t *pAttr );
    245          static void *zclParseInWriteRspCmd( zclParseCmd_t *pCmd );
    246          static uint8 zclProcessInWriteCmd( zclIncoming_t *pInMsg );
    247          static uint8 zclProcessInWriteUndividedCmd( zclIncoming_t *pInMsg );
    248          #endif // ZCL_WRITE
    249          
    250          #ifdef ZCL_REPORT_CONFIGURING_DEVICE
    251          static void *zclParseInConfigReportRspCmd( zclParseCmd_t *pCmd );
    252          static void *zclParseInReadReportCfgRspCmd( zclParseCmd_t *pCmd );
    253          #endif
    254          
    255          static void *zclParseInDefaultRspCmd( zclParseCmd_t *pCmd );
    256          
    257          #ifdef ZCL_DISCOVER
    258          static uint8 zclFindNextCmdRec( uint8 endpoint, uint16 clusterID, uint8 commandID, uint8 direction, uint8 *pCmdID, zclCommandRec_t *pCmd );
    259          static uint8 zclFindNextAttrRec( uint8 endpoint, uint16 clusterID, uint8 direction, uint16 *attrId, zclAttrRec_t *pAttr );
    260          static void *zclParseInDiscCmdsRspCmd( zclParseCmd_t *pCmd );
    261          static void *zclParseInDiscAttrsRspCmd( zclParseCmd_t *pCmd );
    262          static void *zclParseInDiscAttrsExtRspCmd( zclParseCmd_t *pCmd );
    263          static uint8 zclProcessInDiscCmd( zclIncoming_t *pInMsg );
    264          static uint8 zclProcessInDiscAttrs( zclIncoming_t *pInMsg );
    265          static void zclProcessInDiscAttrsCmd( zclIncoming_t *pInMsg, zclDiscoverAttrsCmd_t *pDiscoverCmd, uint8 attrLenBuf );
    266          static void zclProcessInDiscAttrsExtCmd( zclIncoming_t *pInMsg, zclDiscoverAttrsCmd_t *pDiscoverCmd, uint8 attrLenBuf );
    267          #endif // ZCL_DISCOVER
    268          
    269          /*********************************************************************
    270           * Parse Profile Command Function Table
    271           */
    272          

   \                                 In  segment CODE_C, align 1
    273          static CONST zclCmdItems_t zclCmdTable[] =
   \                     zclCmdTable:
   \   000000   ....         DW `??zclParseInReadCmd::?relay`
   \   000002   ....         DW `??zclProcessInReadCmd::?relay`
   \   000004   ....         DW `??zclParseInReadRspCmd::?relay`
   \   000006   ....         DW `??zcl_HandleExternal::?relay`
   \   000008   ....         DW `??zclParseInWriteCmd::?relay`
   \   00000A   ....         DW `??zclProcessInWriteCmd::?relay`
   \   00000C   ....         DW `??zclParseInWriteCmd::?relay`
   \   00000E   ....         DW `??zclProcessInWriteUndividedCmd::?relay`
   \   000010   ....         DW `??zclParseInWriteRspCmd::?relay`
   \   000012   ....         DW `??zcl_HandleExternal::?relay`
   \   000014   ....         DW `??zclParseInWriteCmd::?relay`
   \   000016   ....         DW `??zclProcessInWriteCmd::?relay`
   \   000018   ....         DW `??zclParseInConfigReportCmd::?relay`
   \   00001A   ....         DW `??zcl_HandleExternal::?relay`
   \   00001C   0000         DW 0H
   \   00001E   0000         DW 0H
   \   000020   ....         DW `??zclParseInReadReportCfgCmd::?relay`
   \   000022   ....         DW `??zcl_HandleExternal::?relay`
   \   000024   0000         DW 0H
   \   000026   0000         DW 0H
   \   000028   0000         DW 0H
   \   00002A   0000         DW 0H
   \   00002C   ....         DW `??zclParseInDefaultRspCmd::?relay`
   \   00002E   ....         DW `??zcl_HandleExternal::?relay`
   \   000030   ....         DW `??zclParseInDiscAttrsCmd::?relay`
   \   000032   ....         DW `??zclProcessInDiscAttrs::?relay`
   \   000034   ....         DW `??zclParseInDiscAttrsRspCmd::?relay`
   \   000036   ....         DW `??zcl_HandleExternal::?relay`
   \   000038   0000         DW 0H
   \   00003A   0000         DW 0H
   \   00003C   0000         DW 0H
   \   00003E   0000         DW 0H
   \   000040   0000         DW 0H
   \   000042   0000         DW 0H
   \   000044   ....         DW `??zclParseInDiscCmdsCmd::?relay`
   \   000046   ....         DW `??zclProcessInDiscCmd::?relay`
   \   000048   ....         DW `??zclParseInDiscCmdsRspCmd::?relay`
   \   00004A   ....         DW `??zcl_HandleExternal::?relay`
   \   00004C   ....         DW `??zclParseInDiscCmdsCmd::?relay`
   \   00004E   ....         DW `??zclProcessInDiscCmd::?relay`
   \   000050   ....         DW `??zclParseInDiscCmdsRspCmd::?relay`
   \   000052   ....         DW `??zcl_HandleExternal::?relay`
   \   000054   ....         DW `??zclParseInDiscAttrsCmd::?relay`
   \   000056   ....         DW `??zclProcessInDiscAttrs::?relay`
   \   000058   ....         DW `??zclParseInDiscAttrsExtRspCmd::?relay`
   \   00005A   ....         DW `??zcl_HandleExternal::?relay`
    274          {
    275          #ifdef ZCL_READ
    276            /* ZCL_CMD_READ */                { zclParseInReadCmd,             zclProcessInReadCmd             },
    277            /* ZCL_CMD_READ_RSP */            { zclParseInReadRspCmd,          zcl_HandleExternal              },
    278          #else
    279            /* ZCL_CMD_READ */                { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    280            /* ZCL_CMD_READ_RSP */            { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    281          #endif // ZCL_READ
    282          
    283          #ifdef ZCL_WRITE
    284            /* ZCL_CMD_WRITE */               { zclParseInWriteCmd,            zclProcessInWriteCmd            },
    285            /* ZCL_CMD_WRITE_UNDIVIDED */     { zclParseInWriteCmd,            zclProcessInWriteUndividedCmd   },
    286            /* ZCL_CMD_WRITE_RSP */           { zclParseInWriteRspCmd,         zcl_HandleExternal              },
    287            /* ZCL_CMD_WRITE_NO_RSP */        { zclParseInWriteCmd,            zclProcessInWriteCmd            },
    288          #else
    289            /* ZCL_CMD_WRITE */               { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    290            /* ZCL_CMD_WRITE_UNDIVIDED */     { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    291            /* ZCL_CMD_WRITE_RSP */           { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    292            /* ZCL_CMD_WRITE_NO_RSP */        { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    293          #endif // ZCL_WRITE
    294          
    295          #ifdef ZCL_REPORTING_DEVICE
    296              /* ZCL_CMD_CONFIG_REPORT */       { zclParseInConfigReportCmd,     zcl_HandleExternal              },
    297          #else
    298              /* ZCL_CMD_CONFIG_REPORT */       { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    299          #endif
    300          
    301          #ifdef ZCL_REPORT_CONFIGURING_DEVICE
    302              /* ZCL_CMD_CONFIG_REPORT_RSP */   { zclParseInConfigReportRspCmd,  zcl_HandleExternal              },
    303          #else
    304              /* ZCL_CMD_CONFIG_REPORT_RSP */   { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    305          #endif
    306          
    307          #ifdef ZCL_REPORTING_DEVICE
    308              /* ZCL_CMD_READ_REPORT_CFG */     { zclParseInReadReportCfgCmd,    zcl_HandleExternal              },
    309          #else
    310              /* ZCL_CMD_READ_REPORT_CFG */     { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    311          #endif
    312          
    313          #ifdef ZCL_REPORT_CONFIGURING_DEVICE
    314              /* ZCL_CMD_READ_REPORT_CFG_RSP */ { zclParseInReadReportCfgRspCmd, zcl_HandleExternal              },
    315          #else
    316              /* ZCL_CMD_READ_REPORT_CFG_RSP */ { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    317          #endif
    318          
    319          #ifdef ZCL_REPORT_DESTINATION_DEVICE
    320              /* ZCL_CMD_REPORT */              { zclParseInReportCmd,           zcl_HandleExternal              },
    321          #else
    322              /* ZCL_CMD_REPORT */              { (zclParseInProfileCmd_t)NULL,  (zclProcessInProfileCmd_t)NULL  },
    323          #endif
    324          
    325            /* ZCL_CMD_DEFAULT_RSP */         { zclParseInDefaultRspCmd,       zcl_HandleExternal              },
    326          
    327          #ifdef ZCL_DISCOVER
    328            /* ZCL_CMD_DISCOVER_ATTRS */                { zclParseInDiscAttrsCmd,         zclProcessInDiscAttrs           },
    329            /* ZCL_CMD_DISCOVER_ATTRS_RSP */            { zclParseInDiscAttrsRspCmd,      zcl_HandleExternal              },
    330            /* *not supported* READ_ATTRS_STRCT */      { NULL,                           (zclProcessInProfileCmd_t)NULL  },
    331            /* *not supported* WRITE_ATTRS_STRCT */     { NULL,                           (zclProcessInProfileCmd_t)NULL  },
    332            /* *not supported* WRITE_ATTRS_STRCT_RSP */ { NULL,                           (zclProcessInProfileCmd_t)NULL  },
    333            /* ZCL_CMD_DISCOVER_CMDS_RECEIVED */        { zclParseInDiscCmdsCmd,          zclProcessInDiscCmd             },
    334            /* ZCL_CMD_DISCOVER_CMDS_RECEIVED_RSP */    { zclParseInDiscCmdsRspCmd,       zcl_HandleExternal              },
    335            /* ZCL_CMD_DISCOVER_CMDS_GEN */             { zclParseInDiscCmdsCmd,          zclProcessInDiscCmd             },
    336            /* ZCL_CMD_DISCOVER_CMDS_GEN_RSP */         { zclParseInDiscCmdsRspCmd,       zcl_HandleExternal              },
    337            /* ZCL_CMD_DISCOVER_ATTRS_EXT */            { zclParseInDiscAttrsCmd,         zclProcessInDiscAttrs           },
    338            /* ZCL_CMD_DISCOVER_ATTRS_EXT_RSP */        { zclParseInDiscAttrsExtRspCmd,   zcl_HandleExternal              },
    339          #else
    340            /* ZCL_CMD_DISCOVER_ATTRS */                { (zclParseInProfileCmd_t)NULL,    (zclProcessInProfileCmd_t)NULL  },
    341            /* ZCL_CMD_DISCOVER_ATTRS_RSP */            { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    342            /* *not supported* READ_ATTRS_STRCT */      { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    343            /* *not supported* WRITE_ATTRS_STRCT */     { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    344            /* *not supported* WRITE_ATTRS_STRCT_RSP */ { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    345            /* ZCL_CMD_DISCOVER_CMDS_RECEIVED */        { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    346            /* ZCL_CMD_DISCOVER_CMDS_RECEIVED_RSP */    { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    347            /* ZCL_CMD_DISCOVER_CMDS_GEN */             { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    348            /* ZCL_CMD_DISCOVER_CMDS_GEN_RSP */         { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    349            /* ZCL_CMD_DISCOVER_ATTRS_EXT */            { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    350            /* ZCL_CMD_DISCOVER_ATTRS_EXT_RSP */        { (zclParseInProfileCmd_t)NULL,   (zclProcessInProfileCmd_t)NULL  },
    351          #endif // ZCL_DISCOVER
    352          };
    353          
    354          /*********************************************************************
    355           * PUBLIC FUNCTIONS
    356           *********************************************************************/
    357          
    358          #if !defined ( ZCL_STANDALONE )
    359          /*********************************************************************
    360           * @fn          zcl_Init
    361           *
    362           * @brief       Initialization function for the zcl layer.
    363           *
    364           * @param       task_id - ZCL task id
    365           *
    366           * @return      none
    367           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    368          void zcl_Init( uint8 task_id )
   \                     zcl_Init:
    369          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    370            zcl_TaskID = task_id;
   \   000004   E9           MOV       A,R1
   \   000005   90....       MOV       DPTR,#zcl_TaskID
   \   000008   F0           MOVX      @DPTR,A
    371          }
   \   000009   02....       LJMP      ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   D083         POP       DPH
   \   000002   D082         POP       DPL
   \   000004   02....       LJMP      ?BRET
    372          #endif
    373          
    374          #if !defined ( ZCL_STANDALONE )
    375          /*********************************************************************
    376           * @fn          zcl_event_loop
    377           *
    378           * @brief       Event Loop Processor for zcl.
    379           *
    380           * @param       task_id - task id
    381           * @param       events - event bitmap
    382           *
    383           * @return      unprocessed events
    384           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    385          uint16 zcl_event_loop( uint8 task_id, uint16 events )
   \                     zcl_event_loop:
    386          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000   74EE         MOV       A,#-0x12
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 18
   \   000005                ; Auto size: 74
   \   000005   74B6         MOV       A,#-0x4a
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   8A..         MOV       ?V0,R2
   \   00000C   8B..         MOV       ?V1,R3
    387            uint8 *msgPtr;
    388          
    389            (void)task_id;  // Intentionally unreferenced parameter
    390          
    391            if ( events & SYS_EVENT_MSG )
   \   00000E   EB           MOV       A,R3
   \   00000F   5480         ANL       A,#0x80
   \   000011   604E         JZ        ??zcl_event_loop_0
    392            {
    393              msgPtr = osal_msg_receive( zcl_TaskID );
   \   000013                ; Setup parameters for call to function osal_msg_receive
   \   000013   800E         SJMP      ??zcl_event_loop_1
    394              while ( msgPtr != NULL )
    395              {
    396                uint8 dealloc = TRUE;
    397          
    398                if ( *msgPtr == AF_INCOMING_MSG_CMD )
    399                {
    400                  zcl_ProcessMessageMSG( (afIncomingMSGPacket_t *)msgPtr );
   \                     ??zcl_event_loop_2:
   \   000015                ; Setup parameters for call to function zcl_ProcessMessageMSG
   \   000015   EE           MOV       A,R6
   \   000016   FA           MOV       R2,A
   \   000017   EF           MOV       A,R7
   \   000018   FB           MOV       R3,A
   \   000019   12....       LCALL     `??zcl_ProcessMessageMSG::?relay`; Banked call to: zcl_ProcessMessageMSG
    401                }
    402                else
    403                {
    404                  uint8 taskID;
    405                  taskID = zcl_getExternalFoundationHandler( (afIncomingMSGPacket_t *)msgPtr );
    406          
    407                  if ( taskID != TASK_NO_TASK )
    408                  {
    409                    // send it to another task to process.
    410                    osal_msg_send( taskID, msgPtr );
    411                    dealloc = FALSE;
    412                  }
    413                }
    414          
    415                // Release the memory
    416                if ( dealloc )
    417                {
    418                  osal_msg_deallocate( msgPtr );
   \                     ??zcl_event_loop_3:
   \   00001C                ; Setup parameters for call to function osal_msg_deallocate
   \   00001C   EE           MOV       A,R6
   \   00001D   FA           MOV       R2,A
   \   00001E   EF           MOV       A,R7
   \   00001F   FB           MOV       R3,A
   \   000020   12....       LCALL     `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
    419                }
    420          
    421                // Next
    422                msgPtr = osal_msg_receive( zcl_TaskID );
   \                     ??zcl_event_loop_1:
   \   000023                ; Setup parameters for call to function osal_msg_receive
   \   000023   90....       MOV       DPTR,#zcl_TaskID
   \   000026   E0           MOVX      A,@DPTR
   \   000027   F9           MOV       R1,A
   \   000028   12....       LCALL     `??osal_msg_receive::?relay`; Banked call to: osal_msg_receive
   \   00002B   8A..         MOV       ?V2,R2
   \   00002D   8B..         MOV       ?V3,R3
   \   00002F   AE..         MOV       R6,?V2
   \   000031   AF..         MOV       R7,?V3
   \   000033   EE           MOV       A,R6
   \   000034   4F           ORL       A,R7
   \   000035   6020         JZ        ??zcl_event_loop_4
   \   000037   8E82         MOV       DPL,R6
   \   000039   8F83         MOV       DPH,R7
   \   00003B   E0           MOVX      A,@DPTR
   \   00003C   641A         XRL       A,#0x1a
   \   00003E   60D5         JZ        ??zcl_event_loop_2
   \   000040                ; Setup parameters for call to function zcl_getExternalFoundationHandler
   \   000040   EE           MOV       A,R6
   \   000041   FA           MOV       R2,A
   \   000042   EF           MOV       A,R7
   \   000043   FB           MOV       R3,A
   \   000044   12....       LCALL     `??zcl_getExternalFoundationHandler::?relay`; Banked call to: zcl_getExternalFoundationHandler
   \   000047   E9           MOV       A,R1
   \   000048   F9           MOV       R1,A
   \   000049   74FF         MOV       A,#-0x1
   \   00004B   69           XRL       A,R1
   \   00004C   60CE         JZ        ??zcl_event_loop_3
   \   00004E                ; Setup parameters for call to function osal_msg_send
   \   00004E   EE           MOV       A,R6
   \   00004F   FA           MOV       R2,A
   \   000050   EF           MOV       A,R7
   \   000051   FB           MOV       R3,A
   \   000052   12....       LCALL     `??osal_msg_send::?relay`; Banked call to: osal_msg_send
   \   000055   80CC         SJMP      ??zcl_event_loop_1
    423              }
    424          
    425              // return unprocessed events
    426              return (events ^ SYS_EVENT_MSG);
   \                     ??zcl_event_loop_4:
   \   000057   AA..         MOV       R2,?V0
   \   000059   E5..         MOV       A,?V1
   \   00005B   6480         XRL       A,#0x80
   \   00005D   FB           MOV       R3,A
   \   00005E   02....       LJMP      ??zcl_event_loop_5 & 0xFFFF
    427            }
    428          
    429          #if !defined (DISABLE_GREENPOWER_BASIC_PROXY) && (ZG_BUILD_RTR_TYPE)
    430            if ( events & ZCL_DATABUF_SEND )
   \                     ??zcl_event_loop_0:
   \   000061   EA           MOV       A,R2
   \   000062   5420         ANL       A,#0x20
   \   000064   7003         JNZ       $+5
   \   000066   02....       LJMP      ??zcl_event_loop_6 & 0xFFFF
    431            {
    432              gpNotificationMsg_t *gpNotification = NULL;
    433              gpCmdPayloadMsg_t *pCmdPayloadMsgCurr = NULL;
    434              gpd_ID_t gpd_ID;
    435              uint8 *pgpdid;
    436              uint8 entry[PROXY_TBL_ENTRY_LEN];
    437              uint8 appId;
    438              uint8 nwkSeqNum;
    439              uint8 apsSecNum;
    440              uint16 nwkAddr;
    441              
    442              gpNotification = gp_GetHeadNotificationMsg( );
   \   000069                ; Setup parameters for call to function gp_GetHeadNotificationMsg
   \   000069   12....       LCALL     `??gp_GetHeadNotificationMsg::?relay`; Banked call to: gp_GetHeadNotificationMsg
   \   00006C   8A..         MOV       ?V2,R2
   \   00006E   8B..         MOV       ?V3,R3
    443              
    444              if ( gpNotification == NULL )
   \   000070   EA           MOV       A,R2
   \   000071   45..         ORL       A,?V3
   \   000073   7003         JNZ       $+5
   \   000075   02....       LJMP      ??zcl_event_loop_6 & 0xFFFF
    445              {
    446                return 0;
    447              }
    448              
    449              pCmdPayloadMsgCurr = ( gpCmdPayloadMsg_t* ) gpNotification->pMsg ;
   \   000078   EA           MOV       A,R2
   \   000079   240D         ADD       A,#0xd
   \   00007B   F582         MOV       DPL,A
   \   00007D   E4           CLR       A
   \   00007E   35..         ADDC      A,?V3
   \   000080   F583         MOV       DPH,A
   \   000082   12....       LCALL     ??Subroutine236_0 & 0xFFFF
    450              appId = PROXY_TBL_GET_APPLICTION_ID((uint16)*pCmdPayloadMsgCurr->pMsg);
   \                     ??CrossCallReturnLabel_530:
   \   000085   EE           MOV       A,R6
   \   000086   2402         ADD       A,#0x2
   \   000088   12....       LCALL     ?Subroutine134 & 0xFFFF
   \                     ??CrossCallReturnLabel_233:
   \   00008B   12....       LCALL     ?Subroutine121 & 0xFFFF
   \                     ??CrossCallReturnLabel_210:
   \   00008E   E0           MOVX      A,@DPTR
   \   00008F   5407         ANL       A,#0x7
   \   000091   F8           MOV       R0,A
    451              
    452              // To save the NIB nwk sequense number and use the GP alias nwk sequence number
    453              // for the GP notification
    454              nwkSeqNum = _NIB.SequenceNum;
   \   000092   90....       MOV       DPTR,#_NIB
   \   000095   E0           MOVX      A,@DPTR
   \   000096   F5..         MOV       ?V7,A
    455              _NIB.SequenceNum = pCmdPayloadMsgCurr->secNum;
   \   000098   8E82         MOV       DPL,R6
   \   00009A   8F83         MOV       DPH,R7
   \   00009C   E0           MOVX      A,@DPTR
   \   00009D   90....       MOV       DPTR,#_NIB
   \   0000A0   F0           MOVX      @DPTR,A
    456              
    457              // To save the NIB nwk address and use the GP alias nwk address for the GP notification
    458              nwkAddr = _NIB.nwkDevAddress;
   \   0000A1   90....       MOV       DPTR,#_NIB + 20
   \   0000A4   12....       LCALL     ?Subroutine122 & 0xFFFF
    459              
    460              if( appId == GP_OPT_APP_ID_GPD )
   \                     ??CrossCallReturnLabel_212:
   \   0000A7   7035         JNZ       ??zcl_event_loop_7
    461              {
    462                pgpdid = pCmdPayloadMsgCurr->pMsg + sizeof( uint16 );
   \   0000A9   85..82       MOV       DPL,?V0
   \   0000AC   85..83       MOV       DPH,?V1
   \   0000AF   12....       LCALL     ?Subroutine94 & 0xFFFF
    463                
    464                osal_memcpy( &_NIB.nwkDevAddress, pgpdid, sizeof(uint16) );
   \                     ??CrossCallReturnLabel_161:
   \   0000B2   75..00       MOV       ?V6,#0x0
   \   0000B5                ; Setup parameters for call to function osal_memcpy
   \   0000B5   78..         MOV       R0,#?V4
   \   0000B7   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   0000BA   7C02         MOV       R4,#0x2
   \   0000BC   7D00         MOV       R5,#0x0
   \   0000BE   7A..         MOV       R2,#(_NIB + 20) & 0xff
   \   0000C0   7B..         MOV       R3,#((_NIB + 20) >> 8) & 0xff
   \   0000C2   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0000C5   7403         MOV       A,#0x3
   \   0000C7   12....       LCALL     ?DEALLOC_XSTACK8
    465                gpd_ID.AppID = GP_OPT_APP_ID_GPD;
   \   0000CA   85..82       MOV       DPL,?XSP + 0
   \   0000CD   85..83       MOV       DPH,?XSP + 1
   \   0000D0   E4           CLR       A
   \   0000D1   F0           MOVX      @DPTR,A
    466                osal_memcpy( &gpd_ID.GPDId.SrcID, pgpdid, sizeof( uint32 ) );
   \   0000D2                ; Setup parameters for call to function osal_memcpy
   \   0000D2   78..         MOV       R0,#?V4
   \   0000D4   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   0000D7   7C04         MOV       R4,#0x4
   \   0000D9   7D00         MOV       R5,#0x0
   \   0000DB   EC           MOV       A,R4
   \   0000DC   8047         SJMP      ??zcl_event_loop_8
    467              }
    468              else if( appId == GP_OPT_APP_ID_IEEE )
   \                     ??zcl_event_loop_7:
   \   0000DE   7402         MOV       A,#0x2
   \   0000E0   68           XRL       A,R0
   \   0000E1   7051         JNZ       ??zcl_event_loop_9
    469              {
    470                pgpdid = pCmdPayloadMsgCurr->pMsg + Z_EXTADDR_LEN;
    471                
    472                osal_revmemcpy( &_NIB.nwkDevAddress,(pCmdPayloadMsgCurr->pMsg + Z_EXTADDR_LEN), sizeof(uint16) );
   \   0000E3                ; Setup parameters for call to function osal_revmemcpy
   \   0000E3   85..82       MOV       DPL,?V0
   \   0000E6   85..83       MOV       DPH,?V1
   \   0000E9   E0           MOVX      A,@DPTR
   \   0000EA   2408         ADD       A,#0x8
   \   0000EC   F5..         MOV       ?V4,A
   \   0000EE   A3           INC       DPTR
   \   0000EF   E0           MOVX      A,@DPTR
   \   0000F0   3400         ADDC      A,#0x0
   \   0000F2   F5..         MOV       ?V5,A
   \   0000F4   75..00       MOV       ?V6,#0x0
   \   0000F7   78..         MOV       R0,#?V4
   \   0000F9   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   0000FC   7C02         MOV       R4,#0x2
   \   0000FE   7D00         MOV       R5,#0x0
   \   000100   7A..         MOV       R2,#(_NIB + 20) & 0xff
   \   000102   7B..         MOV       R3,#((_NIB + 20) >> 8) & 0xff
   \   000104   12....       LCALL     `??osal_revmemcpy::?relay`; Banked call to: osal_revmemcpy
   \   000107   7403         MOV       A,#0x3
   \   000109   12....       LCALL     ?DEALLOC_XSTACK8
    473                
    474                gpd_ID.AppID = GP_OPT_APP_ID_IEEE;
   \   00010C   85..82       MOV       DPL,?XSP + 0
   \   00010F   85..83       MOV       DPH,?XSP + 1
   \   000112   7402         MOV       A,#0x2
   \   000114   12....       LCALL     ?Subroutine35 & 0xFFFF
    475          
    476                pgpdid = pCmdPayloadMsgCurr->pMsg + sizeof( uint16 );
    477                osal_memcpy( gpd_ID.GPDId.GPDExtAddr, pgpdid, Z_EXTADDR_LEN );
    478              }
   \                     ??CrossCallReturnLabel_40:
   \   000117   12....       LCALL     ?Subroutine94 & 0xFFFF
   \                     ??CrossCallReturnLabel_162:
   \   00011A   78..         MOV       R0,#?V4
   \   00011C   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   00011F   7C08         MOV       R4,#0x8
   \   000121   7D00         MOV       R5,#0x0
   \   000123   7404         MOV       A,#0x4
   \                     ??zcl_event_loop_8:
   \   000125   12....       LCALL     ?XSTACK_DISP0_8
   \   000128   AA82         MOV       R2,DPL
   \   00012A   AB83         MOV       R3,DPH
   \   00012C   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00012F   7403         MOV       A,#0x3
   \   000131   12....       LCALL     ?DEALLOC_XSTACK8
    479              
    480              gp_getProxyTableByGpId(&gpd_ID, entry, NULL);
   \                     ??zcl_event_loop_9:
   \   000134                ; Setup parameters for call to function gp_getProxyTableByGpId
   \   000134   E4           CLR       A
   \   000135   F5..         MOV       ?V4,A
   \   000137   F5..         MOV       ?V5,A
   \   000139   78..         MOV       R0,#?V4
   \   00013B   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00013E   740B         MOV       A,#0xb
   \   000140   12....       LCALL     ?XSTACK_DISP102_8
   \   000143   7402         MOV       A,#0x2
   \   000145   12....       LCALL     ?XSTACK_DISP101_8
   \   000148   12....       LCALL     `??gp_getProxyTableByGpId::?relay`; Banked call to: gp_getProxyTableByGpId
   \   00014B   7402         MOV       A,#0x2
   \   00014D   12....       LCALL     ?DEALLOC_XSTACK8
    481          
    482              if ( PROXY_TBL_GET_ASSIGNED_ALIAS( entry[PROXY_TBL_ENTRY_OPT + 1] ) )
   \   000150   740A         MOV       A,#0xa
   \   000152   12....       LCALL     ?XSTACK_DISP0_8
   \   000155   E0           MOVX      A,@DPTR
   \   000156   A2E5         MOV       C,0xE0 /* A   */.5
   \   000158   502C         JNC       ??zcl_event_loop_10
    483              {
    484                _NIB.nwkDevAddress = 0;
   \   00015A   90....       MOV       DPTR,#_NIB + 20
   \   00015D   E4           CLR       A
   \   00015E   F0           MOVX      @DPTR,A
   \   00015F   A3           INC       DPTR
   \   000160   F0           MOVX      @DPTR,A
    485                osal_memcpy( (uint8*)&_NIB.nwkDevAddress, &entry[PROXY_TBL_ENTRY_ALIAS], sizeof(uint16));
   \   000161                ; Setup parameters for call to function osal_memcpy
   \   000161   7414         MOV       A,#0x14
   \   000163   12....       LCALL     ?XSTACK_DISP0_8
   \   000166   A982         MOV       R1,DPL
   \   000168   AA83         MOV       R2,DPH
   \   00016A   89..         MOV       ?V4,R1
   \   00016C   8A..         MOV       ?V5,R2
   \   00016E   75..00       MOV       ?V6,#0x0
   \   000171   78..         MOV       R0,#?V4
   \   000173   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   000176   7C02         MOV       R4,#0x2
   \   000178   7D00         MOV       R5,#0x0
   \   00017A   7A..         MOV       R2,#(_NIB + 20) & 0xff
   \   00017C   7B..         MOV       R3,#((_NIB + 20) >> 8) & 0xff
   \   00017E   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000181   7403         MOV       A,#0x3
   \   000183   12....       LCALL     ?DEALLOC_XSTACK8
    486              }
    487              
    488              // save aps sequence number
    489              apsSecNum = APS_Counter;
   \                     ??zcl_event_loop_10:
   \   000186   90....       MOV       DPTR,#APS_Counter
   \   000189   E0           MOVX      A,@DPTR
   \   00018A   F5..         MOV       ?V4,A
    490              APS_Counter = pCmdPayloadMsgCurr->secNum;
   \   00018C   8E82         MOV       DPL,R6
   \   00018E   8F83         MOV       DPH,R7
   \   000190   E0           MOVX      A,@DPTR
   \   000191   90....       MOV       DPTR,#APS_Counter
   \   000194   F0           MOVX      @DPTR,A
    491              
    492              // Set nwk radius for zcl frame
    493              if ( entry[PROXY_TBL_ENTRY_GRP_RAD] != 0xFF)
   \   000195   7448         MOV       A,#0x48
   \   000197   12....       LCALL     ?XSTACK_DISP0_8
   \   00019A   E0           MOVX      A,@DPTR
   \   00019B   F8           MOV       R0,A
   \   00019C   74FF         MOV       A,#-0x1
   \   00019E   68           XRL       A,R0
   \   00019F   6005         JZ        ??zcl_event_loop_11
    494              {
    495                zcl_radius =  entry[PROXY_TBL_ENTRY_GRP_RAD];
   \   0001A1   E8           MOV       A,R0
   \   0001A2   90....       MOV       DPTR,#zcl_radius
   \   0001A5   F0           MOVX      @DPTR,A
    496              }
    497              
    498              zcl_SendCommand( GREEN_POWER_INTERNAL_ENDPOINT, &gpNotification->addr, ZCL_CLUSTER_ID_GREEN_POWER,
    499                                    COMMAND_GP_NOTIFICATION, TRUE, ZCL_FRAME_CLIENT_SERVER_DIR,
    500                                    TRUE, 0,  bdb_getZCLFrameCounter(), pCmdPayloadMsgCurr->lenght, pCmdPayloadMsgCurr->pMsg );
   \                     ??zcl_event_loop_11:
   \   0001A6                ; Setup parameters for call to function bdb_getZCLFrameCounter
   \   0001A6   12....       LCALL     `??bdb_getZCLFrameCounter::?relay`; Banked call to: bdb_getZCLFrameCounter
   \   0001A9   E9           MOV       A,R1
   \   0001AA   F9           MOV       R1,A
   \   0001AB                ; Setup parameters for call to function zcl_SendCommand
   \   0001AB   85..82       MOV       DPL,?V0
   \   0001AE   85..83       MOV       DPH,?V1
   \   0001B1   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   0001B4   8E82         MOV       DPL,R6
   \   0001B6   8F83         MOV       DPH,R7
   \   0001B8   A3           INC       DPTR
   \   0001B9   E0           MOVX      A,@DPTR
   \   0001BA   F5..         MOV       ?V0,A
   \   0001BC   75..00       MOV       ?V1,#0x0
   \   0001BF   78..         MOV       R0,#?V0
   \   0001C1   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0001C4   E9           MOV       A,R1
   \   0001C5   F5..         MOV       ?V0,A
   \   0001C7   78..         MOV       R0,#?V0
   \   0001C9   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001CC   E4           CLR       A
   \   0001CD   F5..         MOV       ?V0,A
   \   0001CF   78..         MOV       R0,#?V0
   \   0001D1   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0001D4   75..01       MOV       ?V0,#0x1
   \   0001D7   78..         MOV       R0,#?V0
   \   0001D9   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001DC   75..00       MOV       ?V0,#0x0
   \   0001DF   78..         MOV       R0,#?V0
   \   0001E1   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001E4   75..01       MOV       ?V0,#0x1
   \   0001E7   78..         MOV       R0,#?V0
   \   0001E9   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001EC   75..00       MOV       ?V0,#0x0
   \   0001EF   78..         MOV       R0,#?V0
   \   0001F1   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001F4   7C21         MOV       R4,#0x21
   \   0001F6   7D00         MOV       R5,#0x0
   \   0001F8   AA..         MOV       R2,?V2
   \   0001FA   AB..         MOV       R3,?V3
   \   0001FC   79F2         MOV       R1,#-0xe
   \   0001FE   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   000201   740B         MOV       A,#0xb
   \   000203   12....       LCALL     ?DEALLOC_XSTACK8
    501              
    502              // restore nwk radius
    503              zcl_radius = AF_DEFAULT_RADIUS;
   \   000206   90....       MOV       DPTR,#zcl_radius
   \   000209   741E         MOV       A,#0x1e
   \   00020B   F0           MOVX      @DPTR,A
    504              
    505              // restore aps sequence number
    506              APS_Counter = apsSecNum;
   \   00020C   E5..         MOV       A,?V4
   \   00020E   90....       MOV       DPTR,#APS_Counter
   \   000211   F0           MOVX      @DPTR,A
    507               
    508              // Restore the NIB nwk sequence number
    509              _NIB.SequenceNum = nwkSeqNum;
   \   000212   E5..         MOV       A,?V7
   \   000214   90....       MOV       DPTR,#_NIB
   \   000217   F0           MOVX      @DPTR,A
    510              
    511              // Restore the NIB nwk address
    512              _NIB.nwkDevAddress = nwkAddr;
   \   000218   90....       MOV       DPTR,#_NIB + 20
   \   00021B   E5..         MOV       A,?V8
   \   00021D   F0           MOVX      @DPTR,A
   \   00021E   A3           INC       DPTR
   \   00021F   E5..         MOV       A,?V9
   \   000221   F0           MOVX      @DPTR,A
    513              
    514              gp_NotificationMsgClean( gp_GetPHeadNotification ( ) );
   \   000222                ; Setup parameters for call to function gp_GetPHeadNotification
   \   000222   12....       LCALL     `??gp_GetPHeadNotification::?relay`; Banked call to: gp_GetPHeadNotification
   \   000225                ; Setup parameters for call to function gp_NotificationMsgClean
   \   000225   12....       LCALL     `??gp_NotificationMsgClean::?relay`; Banked call to: gp_NotificationMsgClean
    515              
    516              if ( gp_GetHeadNotificationMsg ( ) != NULL )
   \   000228                ; Setup parameters for call to function gp_GetHeadNotificationMsg
   \   000228   12....       LCALL     `??gp_GetHeadNotificationMsg::?relay`; Banked call to: gp_GetHeadNotificationMsg
   \   00022B   8B..         MOV       ?V1,R3
   \   00022D   EA           MOV       A,R2
   \   00022E   45..         ORL       A,?V1
   \   000230   6017         JZ        ??zcl_event_loop_6
    517              {
    518                osal_start_timerEx( zcl_TaskID, ZCL_DATABUF_SEND, 50 );
   \   000232                ; Setup parameters for call to function osal_start_timerEx
   \   000232   90....       MOV       DPTR,#__Constant_32
   \   000235   12....       LCALL     ?PUSH_XSTACK8_X_FOUR
   \   000238   7A20         MOV       R2,#0x20
   \   00023A   7B00         MOV       R3,#0x0
   \   00023C   90....       MOV       DPTR,#zcl_TaskID
   \   00023F   E0           MOVX      A,@DPTR
   \   000240   F9           MOV       R1,A
   \   000241   12....       LCALL     `??osal_start_timerEx::?relay`; Banked call to: osal_start_timerEx
   \   000244   7404         MOV       A,#0x4
   \   000246   12....       LCALL     ?DEALLOC_XSTACK8
    519              }
    520            }
    521          #endif
    522          
    523            // Discard unknown events
    524            return 0;
   \                     ??zcl_event_loop_6:
   \   000249   7A00         MOV       R2,#0x0
   \   00024B   7B00         MOV       R3,#0x0
   \                     ??zcl_event_loop_5:
   \   00024D   744A         MOV       A,#0x4a
   \   00024F   12....       LCALL     ?DEALLOC_XSTACK8
   \   000252   7F0A         MOV       R7,#0xa
   \   000254   02....       LJMP      ?BANKED_LEAVE_XDATA
    525          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine94:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   2402         ADD       A,#0x2
   \   000003   F5..         MOV       ?V4,A
   \   000005   A3           INC       DPTR
   \   000006   E0           MOVX      A,@DPTR
   \   000007   3400         ADDC      A,#0x0
   \   000009   F5..         MOV       ?V5,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine35:
   \   000000   12....       LCALL     ?Subroutine155 & 0xFFFF
   \                     ??CrossCallReturnLabel_276:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine155:
   \   000000   F0           MOVX      @DPTR,A
   \   000001                ; Setup parameters for call to function osal_memcpy
   \   000001   85..82       MOV       DPL,?V0
   \   000004   85..83       MOV       DPH,?V1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine122:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V8,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   F5..         MOV       ?V9,A
   \   000007   E8           MOV       A,R0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine134:
   \   000000   F5..         MOV       ?V0,A
   \   000002   E4           CLR       A
   \   000003   3F           ADDC      A,R7
   \   000004   F5..         MOV       ?V1,A
   \   000006                ; Setup parameters for call to function afFindEndPointDesc
   \   000006   85..82       MOV       DPL,?V0
   \   000009   F583         MOV       DPH,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine231_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F8           MOV       R0,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine236_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   FE           MOV       R6,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   FF           MOV       R7,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine121:
   \   000000   12....       LCALL     ?Subroutine161 & 0xFFFF
   \                     ??CrossCallReturnLabel_293:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine161:
   \   000000   12....       LCALL     ??Subroutine231_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_499:
   \   000003   F583         MOV       DPH,A
   \   000005   8882         MOV       DPL,R0
   \   000007   22           RET
    526          #endif
    527          
    528          #if !defined ( ZCL_STANDALONE )
    529          /*********************************************************************
    530           * @fn      zcl_registerForMsg
    531           *
    532           * @brief   The ZCL is setup to send all incoming Foundation Command/Response
    533           *          messages that aren't processed to one task (if a task is
    534           *          registered).
    535           *
    536           * @param   taskId - task Id of the Application where commands will be sent to
    537           *
    538           * @return  TRUE if task registeration successful, FALSE otherwise
    539           *********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    540          uint8 zcl_registerForMsg( uint8 taskId )
   \                     zcl_registerForMsg:
    541          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
    542            return zcl_addExternalFoundationHandler( taskId, AF_BROADCAST_ENDPOINT );
   \   000005                ; Setup parameters for call to function zcl_addExternalFoundationHandler
   \   000005   7AFF         MOV       R2,#-0x1
   \   000007   02....       LJMP      ?Subroutine1 & 0xFFFF
    543          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL     `??zcl_addExternalFoundationHandler::?relay`; Banked call to: zcl_addExternalFoundationHandler
   \   000003                REQUIRE ??Subroutine218_0
   \   000003                ; // Fall through to label ??Subroutine218_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine218_0:
   \   000000   7F01         MOV       R7,#0x1
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA
    544          
    545          /*********************************************************************
    546           * @fn      zcl_registerForMsgExt
    547           *
    548           * @brief   This function enables a Task to register to recieve all
    549           *          incoming Foundation Command/Response messages, for a particular
    550           *          End Point, that aren't processed by ZCL.
    551           *
    552           *          NOTE: Any Task registered for a unique end point will take
    553           *          priority over any Task registered with the AF_BROADCAST_ENDPOINT
    554           *          value.  ie. If task A registers for End Point 1, task B registers
    555           *          for AF_BROADCAST_ENDPOINT,  commands addressed to End Point 1 will be
    556           *          sent to Task A and NOT Task B.
    557           *
    558           * @param   taskId - task Id of the Application where commands will be sent to
    559           * @param   endPointId - end point Id of interest
    560           *
    561           * @return  TRUE if task registeration successful, FALSE otherwise
    562           *********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    563          uint8 zcl_registerForMsgExt( uint8 taskId, uint8 endPointId  )
   \                     zcl_registerForMsgExt:
    564          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
    565            return ( zcl_addExternalFoundationHandler( taskId, endPointId  ) );
   \   000005                ; Setup parameters for call to function zcl_addExternalFoundationHandler
   \   000005   02....       LJMP      ?Subroutine1 & 0xFFFF
    566          }
    567          
    568          /*********************************************************************
    569           * @fn      zcl_addExternalFoundationHandler
    570           *
    571           * @brief   This function adds a record to the internal list of external
    572           *          handlers of unhandled incoming Foundation Command/Response messages.
    573           *
    574           * @param   taskId - task Id of the Application where commands will be sent to
    575           * @param   endPointId - end point Id of interest
    576           *
    577           * @return  TRUE if task registeration successful, FALSE otherwise
    578           *********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    579          uint8 zcl_addExternalFoundationHandler( uint8 taskId, uint8 endPointId  )
   \                     zcl_addExternalFoundationHandler:
    580          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
   \   000006   FE           MOV       R6,A
   \   000007   EA           MOV       A,R2
   \   000008   FF           MOV       R7,A
    581            zclExternalFoundationHandlerList *pNewItem;
    582            zclExternalFoundationHandlerList *pLoop;
    583            zclExternalFoundationHandlerList *pLoopPrev;
    584          
    585            // Fill in the new endpoint registrant list
    586            pNewItem = zcl_mem_alloc( sizeof( zclExternalFoundationHandlerList ) );
   \   000009                ; Setup parameters for call to function osal_mem_alloc
   \   000009   7A04         MOV       R2,#0x4
   \   00000B   7B00         MOV       R3,#0x0
   \   00000D   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
    587            if ( pNewItem == NULL )
   \   000010   EA           MOV       A,R2
   \   000011   4B           ORL       A,R3
   \   000012   6038         JZ        ??zcl_addExternalFoundationHandler_0
    588            {
    589              return ( false );
    590            }
    591          
    592            pNewItem->zcl_ExternalEndPoint = endPointId;
   \   000014   EF           MOV       A,R7
   \   000015   8A82         MOV       DPL,R2
   \   000017   8B83         MOV       DPH,R3
   \   000019   A3           INC       DPTR
   \   00001A   A3           INC       DPTR
   \   00001B   A3           INC       DPTR
   \   00001C   F0           MOVX      @DPTR,A
    593            pNewItem->zcl_ExternalTaskID = taskId;
   \   00001D   EE           MOV       A,R6
   \   00001E   8A82         MOV       DPL,R2
   \   000020   8B83         MOV       DPH,R3
   \   000022   A3           INC       DPTR
   \   000023   A3           INC       DPTR
   \   000024   12....       LCALL     ?Subroutine154 & 0xFFFF
    594            pNewItem->next = NULL;
   \                     ??CrossCallReturnLabel_428:
   \   000027   E4           CLR       A
   \   000028   F0           MOVX      @DPTR,A
   \   000029   A3           INC       DPTR
   \   00002A   F0           MOVX      @DPTR,A
    595          
    596            // Add to the list
    597            if ( externalEndPointHandlerList == NULL )
   \   00002B   90....       MOV       DPTR,#externalEndPointHandlerList
   \   00002E   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_438:
   \   000031   7009         JNZ       ??zcl_addExternalFoundationHandler_1
    598            {
    599              externalEndPointHandlerList = pNewItem;
   \   000033   90....       MOV       DPTR,#externalEndPointHandlerList
   \   000036   EA           MOV       A,R2
   \   000037   F0           MOVX      @DPTR,A
   \   000038   A3           INC       DPTR
   \   000039   EB           MOV       A,R3
   \   00003A   8042         SJMP      ??zcl_addExternalFoundationHandler_2
    600            }
    601            else
    602            {
    603              // make sure no one else tried to register for this endpoint
    604              pLoop = externalEndPointHandlerList;
   \                     ??zcl_addExternalFoundationHandler_1:
   \   00003C   E0           MOVX      A,@DPTR
   \   00003D   F9           MOV       R1,A
    605              pLoopPrev = externalEndPointHandlerList;
    606          
    607              while ( pLoop != NULL )
    608              {
    609                if ( ( pLoop->zcl_ExternalEndPoint ) == endPointId )
   \                     ??zcl_addExternalFoundationHandler_3:
   \   00003E   8882         MOV       DPL,R0
   \   000040   8983         MOV       DPH,R1
   \   000042   A3           INC       DPTR
   \   000043   A3           INC       DPTR
   \   000044   A3           INC       DPTR
   \   000045   E0           MOVX      A,@DPTR
   \   000046   6F           XRL       A,R7
   \   000047   7007         JNZ       ??zcl_addExternalFoundationHandler_4
    610                {
    611                  zcl_mem_free(pNewItem);
   \   000049                ; Setup parameters for call to function osal_mem_free
   \   000049   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
    612                  return ( false );
   \                     ??zcl_addExternalFoundationHandler_0:
   \   00004C   7900         MOV       R1,#0x0
   \   00004E   8031         SJMP      ??zcl_addExternalFoundationHandler_5
    613                }
    614                pLoopPrev = pLoop;
   \                     ??zcl_addExternalFoundationHandler_4:
   \   000050   E8           MOV       A,R0
   \   000051   FC           MOV       R4,A
   \   000052   E9           MOV       A,R1
   \   000053   FD           MOV       R5,A
    615                pLoop = pLoop->next;
   \   000054   8882         MOV       DPL,R0
   \   000056   8983         MOV       DPH,R1
   \   000058   12....       LCALL     ??Subroutine221_0 & 0xFFFF
    616              }
   \                     ??CrossCallReturnLabel_433:
   \   00005B   70E1         JNZ       ??zcl_addExternalFoundationHandler_3
    617          
    618              if ( endPointId == AF_BROADCAST_ENDPOINT )
   \   00005D   74FF         MOV       A,#-0x1
   \   00005F   6F           XRL       A,R7
   \   000060   700C         JNZ       ??zcl_addExternalFoundationHandler_6
    619              {
    620                // put new registration at the end of the list
    621                pLoopPrev->next = pNewItem;
   \   000062   8C82         MOV       DPL,R4
   \   000064   8D83         MOV       DPH,R5
   \   000066   12....       LCALL     ?Subroutine43 & 0xFFFF
    622                pNewItem->next = NULL;
    623              }
   \                     ??CrossCallReturnLabel_55:
   \   000069   E4           CLR       A
   \   00006A   F0           MOVX      @DPTR,A
   \   00006B   A3           INC       DPTR
   \   00006C   8010         SJMP      ??zcl_addExternalFoundationHandler_2
    624              else
    625              {
    626                // put new registration at the front of the list
    627                zclExternalFoundationHandlerList *temp = externalEndPointHandlerList;
   \                     ??zcl_addExternalFoundationHandler_6:
   \   00006E   90....       MOV       DPTR,#externalEndPointHandlerList
   \   000071   12....       LCALL     ??Subroutine230_0 & 0xFFFF
    628                externalEndPointHandlerList = pNewItem;
   \                     ??CrossCallReturnLabel_480:
   \   000074   90....       MOV       DPTR,#externalEndPointHandlerList
   \   000077   12....       LCALL     ?Subroutine43 & 0xFFFF
    629                pNewItem->next = temp;
    630              }
    631            }
   \                     ??CrossCallReturnLabel_56:
   \   00007A   E8           MOV       A,R0
   \   00007B   F0           MOVX      @DPTR,A
   \   00007C   A3           INC       DPTR
   \   00007D   E9           MOV       A,R1
   \                     ??zcl_addExternalFoundationHandler_2:
   \   00007E   F0           MOVX      @DPTR,A
    632          
    633            return ( true );
   \   00007F   7901         MOV       R1,#0x1
   \                     ??zcl_addExternalFoundationHandler_5:
   \   000081   02....       LJMP      ?Subroutine2 & 0xFFFF
    634          
    635          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine43:
   \   000000   EA           MOV       A,R2
   \   000001   F0           MOVX      @DPTR,A
   \   000002   A3           INC       DPTR
   \   000003   EB           MOV       A,R3
   \   000004   12....       LCALL     ?Subroutine154 & 0xFFFF
   \                     ??CrossCallReturnLabel_429:
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine154:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   8A82         MOV       DPL,R2
   \   000003   8B83         MOV       DPH,R3
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine221_0:
   \   000000   12....       LCALL     ?Subroutine175 & 0xFFFF
   \                     ??CrossCallReturnLabel_496:
   \   000003   E8           MOV       A,R0
   \   000004   49           ORL       A,R1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F02         MOV       R7,#0x2
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine230_0:
   \   000000   12....       LCALL     ?Subroutine175 & 0xFFFF
   \                     ??CrossCallReturnLabel_497:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine175:
   \   000000   12....       LCALL     ??Subroutine231_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_504:
   \   000003   F9           MOV       R1,A
   \   000004   22           RET
    636          
    637          /*********************************************************************
    638           * @fn      zcl_getExternalFoundationHandler
    639           *
    640           * @brief   This function retrieves the Task ID of the task registered
    641           *          to received unhandled incoming Foundation Command/Response messages
    642           *          for a particular End Point ID.
    643           *
    644           * @param   pInMsg - recevied ZCL command
    645           *
    646           * @return  TASK ID of registered task.  If no task is reigistered, it returns
    647           *          TASK_NO_TASK.
    648           *********************************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    649          static uint8 zcl_getExternalFoundationHandler( afIncomingMSGPacket_t *pInMsg )
   \                     zcl_getExternalFoundationHandler:
    650          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    651            zclExternalFoundationHandlerList *pLoop;
    652            uint8 addressedEndPointId = pInMsg->endPoint;
   \   000004   EA           MOV       A,R2
   \   000005   12....       LCALL     ?Subroutine138 & 0xFFFF
   \                     ??CrossCallReturnLabel_243:
   \   000008   3B           ADDC      A,R3
   \   000009   F583         MOV       DPH,A
   \   00000B   E0           MOVX      A,@DPTR
   \   00000C   FA           MOV       R2,A
    653          
    654            // make sure no one else tried to register for this endpoint
    655            pLoop = externalEndPointHandlerList;
   \   00000D   90....       MOV       DPTR,#externalEndPointHandlerList
   \   000010   8004         SJMP      ??zcl_getExternalFoundationHandler_0
    656          
    657            while ( pLoop != NULL )
    658            {
    659              if ( ( ( pLoop->zcl_ExternalEndPoint ) == addressedEndPointId ) ||
    660                   ( ( pLoop->zcl_ExternalEndPoint ) == AF_BROADCAST_ENDPOINT ) )
    661              {
    662                return ( pLoop->zcl_ExternalTaskID );
    663              }
    664              pLoop = pLoop->next;
   \                     ??zcl_getExternalFoundationHandler_1:
   \   000012   8882         MOV       DPL,R0
   \   000014   8983         MOV       DPH,R1
   \                     ??zcl_getExternalFoundationHandler_0:
   \   000016   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_434:
   \   000019   601C         JZ        ??zcl_getExternalFoundationHandler_2
   \   00001B   8882         MOV       DPL,R0
   \   00001D   8983         MOV       DPH,R1
   \   00001F   A3           INC       DPTR
   \   000020   A3           INC       DPTR
   \   000021   A3           INC       DPTR
   \   000022   E0           MOVX      A,@DPTR
   \   000023   FB           MOV       R3,A
   \   000024   EA           MOV       A,R2
   \   000025   6B           XRL       A,R3
   \   000026   6005         JZ        ??zcl_getExternalFoundationHandler_3
   \   000028   74FF         MOV       A,#-0x1
   \   00002A   6B           XRL       A,R3
   \   00002B   70E5         JNZ       ??zcl_getExternalFoundationHandler_1
   \                     ??zcl_getExternalFoundationHandler_3:
   \   00002D   8882         MOV       DPL,R0
   \   00002F   8983         MOV       DPH,R1
   \   000031   A3           INC       DPTR
   \   000032   A3           INC       DPTR
   \   000033   E0           MOVX      A,@DPTR
   \   000034   F9           MOV       R1,A
   \   000035   8002         SJMP      ??zcl_getExternalFoundationHandler_4
    665            }
    666          
    667            return ( TASK_NO_TASK );
   \                     ??zcl_getExternalFoundationHandler_2:
   \   000037   79FF         MOV       R1,#-0x1
   \                     ??zcl_getExternalFoundationHandler_4:
   \   000039   02....       LJMP      ?Subroutine0 & 0xFFFF
    668          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine138:
   \   000000   12....       LCALL     ?Subroutine192 & 0xFFFF
   \                     ??CrossCallReturnLabel_611:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine192:
   \   000000   2414         ADD       A,#0x14
   \   000002   F582         MOV       DPL,A
   \   000004   E4           CLR       A
   \   000005   22           RET
    669          #endif
    670          
    671          #if !defined ( ZCL_STANDALONE )
    672          /*********************************************************************
    673           * @fn      zcl_HandleExternal
    674           *
    675           * @brief
    676           *
    677           * @param   pInMsg - incoming message to process
    678           *
    679           * @return  TRUE
    680           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    681          uint8 zcl_HandleExternal( zclIncoming_t *pInMsg )
   \                     zcl_HandleExternal:
    682          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV       A,#-0xe
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV       ?V0,R2
   \   000007   8B..         MOV       ?V1,R3
    683            zclIncomingMsg_t *pCmd;
    684            uint8 taskID;
    685          
    686            taskID = zcl_getExternalFoundationHandler( pInMsg->msg );
   \   000009                ; Setup parameters for call to function zcl_getExternalFoundationHandler
   \   000009   8A82         MOV       DPL,R2
   \   00000B   8B83         MOV       DPH,R3
   \   00000D   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_538:
   \   000010   12....       LCALL     `??zcl_getExternalFoundationHandler::?relay`; Banked call to: zcl_getExternalFoundationHandler
   \   000013   E9           MOV       A,R1
   \   000014   F5..         MOV       ?V2,A
    687          
    688            if ( taskID == TASK_NO_TASK )
   \   000016   74FF         MOV       A,#-0x1
   \   000018   65..         XRL       A,?V2
   \   00001A   7003         JNZ       $+5
   \   00001C   02....       LJMP      ??zcl_HandleExternal_0 & 0xFFFF
    689            {
    690              return ( TRUE );
    691            }
    692          
    693            pCmd = (zclIncomingMsg_t *)osal_msg_allocate( sizeof ( zclIncomingMsg_t ) );
   \   00001F                ; Setup parameters for call to function osal_msg_allocate
   \   00001F   7A19         MOV       R2,#0x19
   \   000021   7B00         MOV       R3,#0x0
   \   000023   12....       LCALL     `??osal_msg_allocate::?relay`; Banked call to: osal_msg_allocate
   \   000026   8A..         MOV       ?V4,R2
   \   000028   8B..         MOV       ?V5,R3
   \   00002A   AE..         MOV       R6,?V4
   \   00002C   AF..         MOV       R7,?V5
    694            if ( pCmd != NULL )
   \   00002E   EE           MOV       A,R6
   \   00002F   4F           ORL       A,R7
   \   000030   7003         JNZ       $+5
   \   000032   02....       LJMP      ??zcl_HandleExternal_0 & 0xFFFF
    695            {
    696              // fill in the message
    697              pCmd->hdr.event = ZCL_INCOMING_MSG;
   \   000035   8E82         MOV       DPL,R6
   \   000037   8F83         MOV       DPH,R7
   \   000039   7434         MOV       A,#0x34
   \   00003B   12....       LCALL     ?Subroutine35 & 0xFFFF
    698              pCmd->zclHdr    = pInMsg->hdr;
   \                     ??CrossCallReturnLabel_41:
   \   00003E   A3           INC       DPTR
   \   00003F   A3           INC       DPTR
   \   000040   EE           MOV       A,R6
   \   000041   2402         ADD       A,#0x2
   \   000043   FC           MOV       R4,A
   \   000044   E4           CLR       A
   \   000045   3F           ADDC      A,R7
   \   000046   FD           MOV       R5,A
   \   000047   7406         MOV       A,#0x6
   \   000049   12....       LCALL     ?MOVE_LONG8_XDATA_XDATA
    699              pCmd->clusterId = pInMsg->msg->clusterId;
   \   00004C   85..82       MOV       DPL,?V0
   \   00004F   85..83       MOV       DPH,?V1
   \   000052   12....       LCALL     ?Subroutine103 & 0xFFFF
   \                     ??CrossCallReturnLabel_178:
   \   000055   A3           INC       DPTR
   \   000056   A3           INC       DPTR
   \   000057   A3           INC       DPTR
   \   000058   A3           INC       DPTR
   \   000059   12....       LCALL     ?Subroutine79 & 0xFFFF
   \                     ??CrossCallReturnLabel_136:
   \   00005C   A3           INC       DPTR
   \   00005D   A3           INC       DPTR
   \   00005E   A3           INC       DPTR
   \   00005F   A3           INC       DPTR
   \   000060   EA           MOV       A,R2
   \   000061   F0           MOVX      @DPTR,A
   \   000062   A3           INC       DPTR
   \   000063   EB           MOV       A,R3
   \   000064   12....       LCALL     ?Subroutine36 & 0xFFFF
    700              pCmd->srcAddr   = pInMsg->msg->srcAddr;
   \                     ??CrossCallReturnLabel_43:
   \   000067   A3           INC       DPTR
   \   000068   EE           MOV       A,R6
   \   000069   240A         ADD       A,#0xa
   \   00006B   FC           MOV       R4,A
   \   00006C   E4           CLR       A
   \   00006D   3F           ADDC      A,R7
   \   00006E   FD           MOV       R5,A
   \   00006F   740C         MOV       A,#0xc
   \   000071   12....       LCALL     ?MOVE_LONG8_XDATA_XDATA
    701              pCmd->endPoint  = pInMsg->msg->endPoint;
   \   000074   12....       LCALL     ?Subroutine199 & 0xFFFF
   \                     ??CrossCallReturnLabel_501:
   \   000077   C8           XCH       A,R0
   \   000078   12....       LCALL     ?Subroutine138 & 0xFFFF
   \                     ??CrossCallReturnLabel_244:
   \   00007B   38           ADDC      A,R0
   \   00007C   F583         MOV       DPH,A
   \   00007E   E0           MOVX      A,@DPTR
   \   00007F   C0E0         PUSH      A
   \   000081   EE           MOV       A,R6
   \   000082   2416         ADD       A,#0x16
   \   000084   F582         MOV       DPL,A
   \   000086   E4           CLR       A
   \   000087   3F           ADDC      A,R7
   \   000088   F583         MOV       DPH,A
   \   00008A   D0E0         POP       A
   \   00008C   F0           MOVX      @DPTR,A
    702              pCmd->attrCmd   = pInMsg->attrCmd;
   \   00008D   E5..         MOV       A,?V0
   \   00008F   240C         ADD       A,#0xc
   \   000091   F8           MOV       R0,A
   \   000092   E4           CLR       A
   \   000093   35..         ADDC      A,?V1
   \   000095   F9           MOV       R1,A
   \   000096   8882         MOV       DPL,R0
   \   000098   8983         MOV       DPH,R1
   \   00009A   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_539:
   \   00009D   EE           MOV       A,R6
   \   00009E   2417         ADD       A,#0x17
   \   0000A0   F582         MOV       DPL,A
   \   0000A2   E4           CLR       A
   \   0000A3   3F           ADDC      A,R7
   \   0000A4   F583         MOV       DPH,A
   \   0000A6   EA           MOV       A,R2
   \   0000A7   F0           MOVX      @DPTR,A
   \   0000A8   A3           INC       DPTR
   \   0000A9   EB           MOV       A,R3
   \   0000AA   12....       LCALL     ?Subroutine40 & 0xFFFF
    703              
    704          #ifdef BDB_REPORTING
    705              if(pCmd->zclHdr.commandID == ZCL_CMD_CONFIG_REPORT)
   \                     ??CrossCallReturnLabel_50:
   \   0000AD   A3           INC       DPTR
   \   0000AE   A3           INC       DPTR
   \   0000AF   A3           INC       DPTR
   \   0000B0   A3           INC       DPTR
   \   0000B1   A3           INC       DPTR
   \   0000B2   A3           INC       DPTR
   \   0000B3   E0           MOVX      A,@DPTR
   \   0000B4   FA           MOV       R2,A
   \   0000B5   7406         MOV       A,#0x6
   \   0000B7   6A           XRL       A,R2
   \   0000B8   7009         JNZ       ??zcl_HandleExternal_1
    706              {
    707                bdb_ProcessInConfigReportCmd(pCmd);
   \   0000BA                ; Setup parameters for call to function bdb_ProcessInConfigReportCmd
   \   0000BA   EE           MOV       A,R6
   \   0000BB   FA           MOV       R2,A
   \   0000BC   EF           MOV       A,R7
   \   0000BD   FB           MOV       R3,A
   \   0000BE   12....       LCALL     `??bdb_ProcessInConfigReportCmd::?relay`; Banked call to: bdb_ProcessInConfigReportCmd
    708                osal_msg_deallocate((uint8*)pCmd);
   \   0000C1                ; Setup parameters for call to function osal_msg_deallocate
   \   0000C1   800C         SJMP      ??zcl_HandleExternal_2
    709                return TRUE;          
    710              }
    711              if(pCmd->zclHdr.commandID == ZCL_CMD_READ_REPORT_CFG)
   \                     ??zcl_HandleExternal_1:
   \   0000C3   7408         MOV       A,#0x8
   \   0000C5   6A           XRL       A,R2
   \   0000C6   7010         JNZ       ??zcl_HandleExternal_3
    712              {
    713                bdb_ProcessInReadReportCfgCmd(pCmd);
   \   0000C8                ; Setup parameters for call to function bdb_ProcessInReadReportCfgCmd
   \   0000C8   EE           MOV       A,R6
   \   0000C9   FA           MOV       R2,A
   \   0000CA   EF           MOV       A,R7
   \   0000CB   FB           MOV       R3,A
   \   0000CC   12....       LCALL     `??bdb_ProcessInReadReportCfgCmd::?relay`; Banked call to: bdb_ProcessInReadReportCfgCmd
    714                osal_msg_deallocate((uint8*)pCmd);
   \   0000CF                ; Setup parameters for call to function osal_msg_deallocate
   \                     ??zcl_HandleExternal_2:
   \   0000CF   EE           MOV       A,R6
   \   0000D0   FA           MOV       R2,A
   \   0000D1   EF           MOV       A,R7
   \   0000D2   FB           MOV       R3,A
   \   0000D3   12....       LCALL     `??osal_msg_deallocate::?relay`; Banked call to: osal_msg_deallocate
   \   0000D6   8011         SJMP      ??zcl_HandleExternal_0
    715                return TRUE;
    716              }
    717          #endif
    718              // Application will free the attrCmd buffer
    719              pInMsg->attrCmd = NULL;
   \                     ??zcl_HandleExternal_3:
   \   0000D8   8882         MOV       DPL,R0
   \   0000DA   8983         MOV       DPH,R1
   \   0000DC   E4           CLR       A
   \   0000DD   F0           MOVX      @DPTR,A
   \   0000DE   A3           INC       DPTR
   \   0000DF   F0           MOVX      @DPTR,A
    720          
    721              /* send message through task message */
    722              osal_msg_send( taskID, (uint8 *)pCmd );
   \   0000E0                ; Setup parameters for call to function osal_msg_send
   \   0000E0   EE           MOV       A,R6
   \   0000E1   FA           MOV       R2,A
   \   0000E2   EF           MOV       A,R7
   \   0000E3   FB           MOV       R3,A
   \   0000E4   A9..         MOV       R1,?V2
   \   0000E6   12....       LCALL     `??osal_msg_send::?relay`; Banked call to: osal_msg_send
    723            }
    724          
    725            return ( TRUE );
   \                     ??zcl_HandleExternal_0:
   \   0000E9   7901         MOV       R1,#0x1
   \   0000EB   02....       LJMP      ?Subroutine3 & 0xFFFF
    726          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine36:
   \   000000   12....       LCALL     ?Subroutine156 & 0xFFFF
   \                     ??CrossCallReturnLabel_280:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine156:
   \   000000   12....       LCALL     ?Subroutine195 & 0xFFFF
   \                     ??CrossCallReturnLabel_337:
   \   000003   A3           INC       DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine195:
   \   000000   12....       LCALL     ?Subroutine202 & 0xFFFF
   \                     ??CrossCallReturnLabel_382:
   \   000003   A3           INC       DPTR
   \   000004   A3           INC       DPTR
   \   000005   A3           INC       DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine202:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   8882         MOV       DPL,R0
   \   000003   8983         MOV       DPH,R1
   \   000005   A3           INC       DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine103:
   \   000000   12....       LCALL     ?Subroutine163 & 0xFFFF
   \                     ??CrossCallReturnLabel_419:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine163:
   \   000000   12....       LCALL     ??Subroutine231_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_503:
   \   000003   F9           MOV       R1,A
   \   000004   8882         MOV       DPL,R0
   \   000006   8983         MOV       DPH,R1
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine40:
   \   000000   12....       LCALL     ?Subroutine160 & 0xFFFF
   \                     ??CrossCallReturnLabel_285:
   \   000003   A3           INC       DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine79:
   \   000000   12....       LCALL     ??Subroutine241_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_617:
   \   000003   8E82         MOV       DPL,R6
   \   000005   8F83         MOV       DPH,R7
   \   000007   A3           INC       DPTR
   \   000008   A3           INC       DPTR
   \   000009   A3           INC       DPTR
   \   00000A   A3           INC       DPTR
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   7F06         MOV       R7,#0x6
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine160:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   8E82         MOV       DPL,R6
   \   000003   8F83         MOV       DPH,R7
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine199:
   \   000000   85..82       MOV       DPL,?V0
   \   000003   85..83       MOV       DPH,?V1
   \   000006                REQUIRE ??Subroutine231_0
   \   000006                ; // Fall through to label ??Subroutine231_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine239_0:
   \   000000   12....       LCALL     ??Subroutine241_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_619:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine241_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   FA           MOV       R2,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   FB           MOV       R3,A
   \   000005   22           RET
    727          #endif
    728          
    729          
    730          /*********************************************************************
    731           * @fn          zcl_getRawAFMsg
    732           *
    733           * @brief       Call to get original unprocessed AF message
    734           *              (not parsed by ZCL).
    735           *
    736           *   NOTE:  This function can only be called during a ZCL callback function
    737           *          and the calling function must NOT change any data in the message.
    738           *
    739           * @param       none
    740           *
    741           * @return      pointer to original AF message, NULL if not processing
    742           *              AF message.
    743           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    744          afIncomingMSGPacket_t *zcl_getRawAFMsg( void )
   \                     zcl_getRawAFMsg:
    745          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    746            return ( rawAFMsg );
   \   000004   90....       MOV       DPTR,#rawAFMsg
   \   000007   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_540:
   \   00000A   02....       LJMP      ?Subroutine0 & 0xFFFF
    747          }
    748          
    749          /*********************************************************************
    750           * @fn          zcl_getParsedTransSeqNum
    751           *
    752           * @brief       Call to the get the transaction sequence number from
    753           *              the incoming message.
    754           *
    755           *   NOTE:  This function can only be called during a ZCL callback function
    756           *          and the calling function must NOT change any data in the message.
    757           *
    758           * @param       none
    759           *
    760           * @return      transaction sequence number.
    761           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    762          uint8 zcl_getParsedTransSeqNum( void )
   \                     zcl_getParsedTransSeqNum:
    763          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    764            return ( savedZCLTransSeqNum );
   \   000004   90....       MOV       DPTR,#savedZCLTransSeqNum
   \   000007   E0           MOVX      A,@DPTR
   \   000008   F9           MOV       R1,A
   \   000009   02....       LJMP      ?Subroutine0 & 0xFFFF
    765          }
    766          
    767          /*********************************************************************
    768           * @fn          zcl_registerPlugin
    769           *
    770           * @brief       Add a Cluster Library handler
    771           *
    772           * @param       startClusterID - starting cluster ID
    773           * @param       endClusterID - ending cluster ID
    774           * @param       pfnHdlr - function pointer to incoming message handler
    775           *
    776           * @return      ZSuccess if OK
    777           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    778          ZStatus_t zcl_registerPlugin( uint16 startClusterID,
   \                     zcl_registerPlugin:
    779                    uint16 endClusterID, zclInHdlr_t pfnIncomingHdlr )
    780          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV       ?V0,R2
   \   000007   8B..         MOV       ?V1,R3
   \   000009   EC           MOV       A,R4
   \   00000A   FE           MOV       R6,A
   \   00000B   ED           MOV       A,R5
   \   00000C   FF           MOV       R7,A
    781            zclLibPlugin_t *pNewItem;
    782            zclLibPlugin_t *pLoop;
    783          
    784            // Fill in the new profile list
    785            pNewItem = zcl_mem_alloc( sizeof( zclLibPlugin_t ) );
   \   00000D                ; Setup parameters for call to function osal_mem_alloc
   \   00000D   7A08         MOV       R2,#0x8
   \   00000F   7B00         MOV       R3,#0x0
   \   000011   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000014   8A..         MOV       ?V2,R2
   \   000016   8B..         MOV       ?V3,R3
   \   000018   A8..         MOV       R0,?V2
   \   00001A   A9..         MOV       R1,?V3
    786            if ( pNewItem == NULL )
   \   00001C   E8           MOV       A,R0
   \   00001D   49           ORL       A,R1
   \   00001E   7004         JNZ       ??zcl_registerPlugin_0
    787            {
    788              return (ZMemError);
   \   000020   7910         MOV       R1,#0x10
   \   000022   8038         SJMP      ??CrossCallReturnLabel_24
    789            }
    790          
    791            // Fill in the plugin record.
    792            pNewItem->next = (zclLibPlugin_t *)NULL;
   \                     ??zcl_registerPlugin_0:
   \   000024   12....       LCALL     ?Subroutine27 & 0xFFFF
    793            pNewItem->startClusterID = startClusterID;
   \                     ??CrossCallReturnLabel_22:
   \   000027   12....       LCALL     ?Subroutine152 & 0xFFFF
    794            pNewItem->endClusterID = endClusterID;
    795            pNewItem->pfnIncomingHdlr = pfnIncomingHdlr;
   \                     ??CrossCallReturnLabel_272:
   \   00002A   740C         MOV       A,#0xc
   \   00002C   12....       LCALL     ?XSTACK_DISP0_8
   \   00002F   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_541:
   \   000032   8882         MOV       DPL,R0
   \   000034   8983         MOV       DPH,R1
   \   000036   A3           INC       DPTR
   \   000037   A3           INC       DPTR
   \   000038   A3           INC       DPTR
   \   000039   A3           INC       DPTR
   \   00003A   12....       LCALL     ??Subroutine249_0 & 0xFFFF
    796          
    797            // Find spot in list
    798            if (  plugins == NULL )
   \                     ??CrossCallReturnLabel_587:
   \   00003D   90....       MOV       DPTR,#plugins
   \   000040   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_358:
   \   000043   90....       MOV       DPTR,#plugins
   \   000046   6011         JZ        ??zcl_registerPlugin_1
    799            {
    800              plugins = pNewItem;
    801            }
    802            else
    803            {
    804              // Look for end of list
    805              pLoop = plugins;
   \   000048   12....       LCALL     ?Subroutine179 & 0xFFFF
   \                     ??CrossCallReturnLabel_311:
   \   00004B   8003         SJMP      ??zcl_registerPlugin_2
    806              while ( pLoop->next != NULL )
    807              {
    808                pLoop = pLoop->next;
   \                     ??zcl_registerPlugin_3:
   \   00004D   EA           MOV       A,R2
   \   00004E   FC           MOV       R4,A
   \   00004F   EB           MOV       A,R3
    809              }
   \                     ??zcl_registerPlugin_2:
   \   000050   12....       LCALL     ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_352:
   \   000053   70F8         JNZ       ??zcl_registerPlugin_3
    810          
    811              // Put new item at end of list
    812              pLoop->next = pNewItem;
   \   000055   8C82         MOV       DPL,R4
   \   000057   8D83         MOV       DPH,R5
    813            }
   \                     ??zcl_registerPlugin_1:
   \   000059   12....       LCALL     ?Subroutine28 & 0xFFFF
    814          
    815            return ( ZSuccess );
   \                     ??CrossCallReturnLabel_24:
   \   00005C   02....       LJMP      ??Subroutine203_0 & 0xFFFF
    816          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   E8           MOV       A,R0
   \   000001   F0           MOVX      @DPTR,A
   \   000002   A3           INC       DPTR
   \   000003   E9           MOV       A,R1
   \   000004   F0           MOVX      @DPTR,A
   \   000005   7900         MOV       R1,#0x0
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   12....       LCALL     ?Subroutine153 & 0xFFFF
   \                     ??CrossCallReturnLabel_274:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine153:
   \   000000   8882         MOV       DPL,R0
   \   000002   8983         MOV       DPH,R1
   \   000004   E4           CLR       A
   \   000005   F0           MOVX      @DPTR,A
   \   000006   A3           INC       DPTR
   \   000007   12....       LCALL     ?Subroutine202 & 0xFFFF
   \                     ??CrossCallReturnLabel_381:
   \   00000A   A3           INC       DPTR
   \   00000B   E5..         MOV       A,?V0
   \   00000D   F0           MOVX      @DPTR,A
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine179:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   FC           MOV       R4,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine152:
   \   000000   A3           INC       DPTR
   \   000001   E5..         MOV       A,?V1
   \   000003   12....       LCALL     ?Subroutine195 & 0xFFFF
   \                     ??CrossCallReturnLabel_336:
   \   000006   EE           MOV       A,R6
   \   000007   F0           MOVX      @DPTR,A
   \   000008   A3           INC       DPTR
   \   000009   EF           MOV       A,R7
   \   00000A   F0           MOVX      @DPTR,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine203_0:
   \   000000   7F04         MOV       R7,#0x4
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine52:
   \   000000   FD           MOV       R5,A
   \   000001   8C82         MOV       DPL,R4
   \   000003   8D83         MOV       DPH,R5
   \   000005                REQUIRE ??Subroutine204_0
   \   000005                ; // Fall through to label ??Subroutine204_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine204_0:
   \   000000   12....       LCALL     ??Subroutine241_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_618:
   \   000003   EA           MOV       A,R2
   \   000004   4B           ORL       A,R3
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine249_0:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002                REQUIRE ??Subroutine250_0
   \   000002                ; // Fall through to label ??Subroutine250_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine250_0:
   \   000000   EA           MOV       A,R2
   \   000001   F0           MOVX      @DPTR,A
   \   000002   A3           INC       DPTR
   \   000003   EB           MOV       A,R3
   \   000004   F0           MOVX      @DPTR,A
   \   000005   22           RET
    817          
    818          #ifdef ZCL_DISCOVER
    819          /*********************************************************************
    820           * @fn          zcl_registerCmdList
    821           *
    822           * @brief       Register a Command List with ZCL Foundation
    823           *
    824           * @param       endpoint - endpoint the attribute list belongs to
    825           * @param       newCmdList - array of command records
    826           *
    827           * @return      ZSuccess if OK
    828           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    829          ZStatus_t zcl_registerCmdList( uint8 endpoint, CONST uint8 cmdListSize, CONST zclCommandRec_t newCmdList[] )
   \                     zcl_registerCmdList:
    830          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V0,R1
   \   000007   8A..         MOV       ?V1,R2
   \   000009   EC           MOV       A,R4
   \   00000A   FE           MOV       R6,A
   \   00000B   ED           MOV       A,R5
   \   00000C   FF           MOV       R7,A
    831            zclCmdRecsList_t *pNewItem;
    832            zclCmdRecsList_t *pLoop;
    833          
    834            // Fill in the new profile list
    835            pNewItem = zcl_mem_alloc( sizeof( zclCmdRecsList_t ) );
   \   00000D                ; Setup parameters for call to function osal_mem_alloc
   \   00000D   7A06         MOV       R2,#0x6
   \   00000F   7B00         MOV       R3,#0x0
   \   000011   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000014   8A..         MOV       ?V2,R2
   \   000016   8B..         MOV       ?V3,R3
   \   000018   A8..         MOV       R0,?V2
   \   00001A   A9..         MOV       R1,?V3
    836            if ( pNewItem == NULL )
   \   00001C   E8           MOV       A,R0
   \   00001D   49           ORL       A,R1
   \   00001E   7004         JNZ       ??zcl_registerCmdList_0
    837            {
    838              return (ZMemError);
   \   000020   7910         MOV       R1,#0x10
   \   000022   8022         SJMP      ??CrossCallReturnLabel_25
    839            }
    840          
    841            pNewItem->pNext = (zclCmdRecsList_t *)NULL;
   \                     ??zcl_registerCmdList_0:
   \   000024   12....       LCALL     ?Subroutine15 & 0xFFFF
    842            pNewItem->endpoint = endpoint;
    843            pNewItem->numCommands = cmdListSize;
    844            pNewItem->pCmdRecs = newCmdList;
    845          
    846            // Find spot in list
    847            if ( gpCmdList == NULL )
   \                     ??CrossCallReturnLabel_2:
   \   000027   90....       MOV       DPTR,#gpCmdList
   \   00002A   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_359:
   \   00002D   90....       MOV       DPTR,#gpCmdList
   \   000030   6011         JZ        ??zcl_registerCmdList_1
    848            {
    849              gpCmdList = pNewItem;
    850            }
    851            else
    852            {
    853              // Look for end of list
    854              pLoop = gpCmdList;
   \   000032   12....       LCALL     ?Subroutine179 & 0xFFFF
   \                     ??CrossCallReturnLabel_312:
   \   000035   8003         SJMP      ??zcl_registerCmdList_2
    855              while ( pLoop->pNext != NULL )
    856              {
    857                pLoop = pLoop->pNext;
   \                     ??zcl_registerCmdList_3:
   \   000037   EA           MOV       A,R2
   \   000038   FC           MOV       R4,A
   \   000039   EB           MOV       A,R3
    858              }
   \                     ??zcl_registerCmdList_2:
   \   00003A   12....       LCALL     ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_353:
   \   00003D   70F8         JNZ       ??zcl_registerCmdList_3
    859          
    860              // Put new item at end of list
    861              pLoop->pNext = pNewItem;
   \   00003F   8C82         MOV       DPL,R4
   \   000041   8D83         MOV       DPH,R5
    862            }
   \                     ??zcl_registerCmdList_1:
   \   000043   12....       LCALL     ?Subroutine28 & 0xFFFF
    863          
    864            return ( ZSuccess );
   \                     ??CrossCallReturnLabel_25:
   \   000046   02....       LJMP      ??Subroutine203_0 & 0xFFFF
    865          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   12....       LCALL     ?Subroutine153 & 0xFFFF
   \                     ??CrossCallReturnLabel_275:
   \   000003   8882         MOV       DPL,R0
   \   000005   8983         MOV       DPH,R1
   \   000007   A3           INC       DPTR
   \   000008   A3           INC       DPTR
   \   000009   12....       LCALL     ?Subroutine152 & 0xFFFF
   \                     ??CrossCallReturnLabel_273:
   \   00000C   22           RET
    866          #endif  // ZCL_DISCOVER
    867          
    868          /*********************************************************************
    869           * @fn          zcl_registerAttrList
    870           *
    871           * @brief       Register an Attribute List with ZCL Foundation
    872           *
    873           * @param       endpoint - endpoint the attribute list belongs to
    874           * @param       numAttr - number of attributes in list
    875           * @param       newAttrList - array of Attribute records.
    876           *                            NOTE: THE ATTRIBUTE IDs (FOR A CLUSTER) MUST BE IN
    877           *                            ASCENDING ORDER. OTHERWISE, THE DISCOVERY RESPONSE
    878           *                            COMMAND WILL NOT HAVE THE RIGHT ATTRIBUTE INFO
    879           *
    880           * @return      ZSuccess if OK
    881           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    882          ZStatus_t zcl_registerAttrList( uint8 endpoint, uint8 numAttr, CONST zclAttrRec_t newAttrList[] )
   \                     zcl_registerAttrList:
    883          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V0,R1
   \   000007   8A..         MOV       ?V1,R2
   \   000009   EC           MOV       A,R4
   \   00000A   FE           MOV       R6,A
   \   00000B   ED           MOV       A,R5
   \   00000C   FF           MOV       R7,A
    884            zclAttrRecsList *pNewItem;
    885            zclAttrRecsList *pLoop;
    886          
    887            // Fill in the new profile list
    888            pNewItem = zcl_mem_alloc( sizeof( zclAttrRecsList ) );
   \   00000D                ; Setup parameters for call to function osal_mem_alloc
   \   00000D   7A0A         MOV       R2,#0xa
   \   00000F   7B00         MOV       R3,#0x0
   \   000011   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000014   8A..         MOV       ?V2,R2
   \   000016   8B..         MOV       ?V3,R3
   \   000018   A8..         MOV       R0,?V2
   \   00001A   A9..         MOV       R1,?V3
    889            if ( pNewItem == NULL )
   \   00001C   E8           MOV       A,R0
   \   00001D   49           ORL       A,R1
   \   00001E   7004         JNZ       ??zcl_registerAttrList_0
    890            {
    891              return (ZMemError);
   \   000020   7910         MOV       R1,#0x10
   \   000022   803A         SJMP      ??CrossCallReturnLabel_26
    892            }
    893          
    894            pNewItem->next = (zclAttrRecsList *)NULL;
   \                     ??zcl_registerAttrList_0:
   \   000024   12....       LCALL     ?Subroutine27 & 0xFFFF
    895            pNewItem->endpoint = endpoint;
    896            pNewItem->pfnReadWriteCB = NULL;
   \                     ??CrossCallReturnLabel_23:
   \   000027   8882         MOV       DPL,R0
   \   000029   8983         MOV       DPH,R1
   \   00002B   A3           INC       DPTR
   \   00002C   A3           INC       DPTR
   \   00002D   A3           INC       DPTR
   \   00002E   E4           CLR       A
   \   00002F   F0           MOVX      @DPTR,A
   \   000030   A3           INC       DPTR
   \   000031   12....       LCALL     ?Subroutine30 & 0xFFFF
    897            pNewItem->numAttributes = numAttr;
   \                     ??CrossCallReturnLabel_30:
   \   000034   E5..         MOV       A,?V1
   \   000036   12....       LCALL     ?Subroutine30 & 0xFFFF
    898            pNewItem->attrs = newAttrList;
   \                     ??CrossCallReturnLabel_31:
   \   000039   A3           INC       DPTR
   \   00003A   EE           MOV       A,R6
   \   00003B   F0           MOVX      @DPTR,A
   \   00003C   A3           INC       DPTR
   \   00003D   EF           MOV       A,R7
   \   00003E   F0           MOVX      @DPTR,A
    899          
    900            // Find spot in list
    901            if ( attrList == NULL )
   \   00003F   90....       MOV       DPTR,#attrList
   \   000042   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_360:
   \   000045   90....       MOV       DPTR,#attrList
   \   000048   6011         JZ        ??zcl_registerAttrList_1
    902            {
    903              attrList = pNewItem;
    904            }
    905            else
    906            {
    907              // Look for end of list
    908              pLoop = attrList;
   \   00004A   12....       LCALL     ?Subroutine179 & 0xFFFF
   \                     ??CrossCallReturnLabel_313:
   \   00004D   8003         SJMP      ??zcl_registerAttrList_2
    909              while ( pLoop->next != NULL )
    910              {
    911                pLoop = pLoop->next;
   \                     ??zcl_registerAttrList_3:
   \   00004F   EA           MOV       A,R2
   \   000050   FC           MOV       R4,A
   \   000051   EB           MOV       A,R3
    912              }
   \                     ??zcl_registerAttrList_2:
   \   000052   12....       LCALL     ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_354:
   \   000055   70F8         JNZ       ??zcl_registerAttrList_3
    913          
    914              // Put new item at end of list
    915              pLoop->next = pNewItem;
   \   000057   8C82         MOV       DPL,R4
   \   000059   8D83         MOV       DPH,R5
    916            }
   \                     ??zcl_registerAttrList_1:
   \   00005B   12....       LCALL     ?Subroutine28 & 0xFFFF
    917          
    918            return ( ZSuccess );
   \                     ??CrossCallReturnLabel_26:
   \   00005E   02....       LJMP      ??Subroutine203_0 & 0xFFFF
    919          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   12....       LCALL     ?Subroutine156 & 0xFFFF
   \                     ??CrossCallReturnLabel_279:
   \   000003   A3           INC       DPTR
   \   000004   A3           INC       DPTR
   \   000005   22           RET
    920          
    921          /*********************************************************************
    922           * @fn          zcl_registerClusterOptionList
    923           *
    924           * @brief       Register a Cluster Option List with ZCL Foundation
    925           *
    926           * @param       endpoint - endpoint the option list belongs to
    927           * @param       numOption - number of options in list
    928           * @param       optionList - array of cluster option records.
    929           *
    930           *              NOTE: This API should be called to enable 'Application
    931           *                    Link Key' security and/or 'APS ACK' for a specific
    932           *                    Cluster. The 'Application Link Key' is discarded
    933           *                    if security isn't enabled on the device.
    934           *                    The default behavior is 'Network Key' when security
    935           *                    is enabled and no 'APS ACK' for the ZCL messages.
    936           *
    937           * @return      ZSuccess if OK
    938           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    939          ZStatus_t zcl_registerClusterOptionList( uint8 endpoint, uint8 numOption, zclOptionRec_t optionList[] )
   \                     zcl_registerClusterOptionList:
    940          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V0,R1
   \   000007   8A..         MOV       ?V1,R2
   \   000009   EC           MOV       A,R4
   \   00000A   FE           MOV       R6,A
   \   00000B   ED           MOV       A,R5
   \   00000C   FF           MOV       R7,A
    941            zclClusterOptionList *pNewItem;
    942            zclClusterOptionList *pLoop;
    943          
    944            // Fill in the new profile list
    945            pNewItem = zcl_mem_alloc( sizeof( zclClusterOptionList ) );
   \   00000D                ; Setup parameters for call to function osal_mem_alloc
   \   00000D   7A06         MOV       R2,#0x6
   \   00000F   7B00         MOV       R3,#0x0
   \   000011   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000014   8A..         MOV       ?V2,R2
   \   000016   8B..         MOV       ?V3,R3
   \   000018   A8..         MOV       R0,?V2
   \   00001A   A9..         MOV       R1,?V3
    946            if ( pNewItem == NULL )
   \   00001C   E8           MOV       A,R0
   \   00001D   49           ORL       A,R1
   \   00001E   7004         JNZ       ??zcl_registerClusterOptionList_0
    947            {
    948              return (ZMemError);
   \   000020   7910         MOV       R1,#0x10
   \   000022   8022         SJMP      ??CrossCallReturnLabel_27
    949            }
    950          
    951            pNewItem->next = (zclClusterOptionList *)NULL;
   \                     ??zcl_registerClusterOptionList_0:
   \   000024   12....       LCALL     ?Subroutine15 & 0xFFFF
    952            pNewItem->endpoint = endpoint;
    953            pNewItem->numOptions = numOption;
    954            pNewItem->options = optionList;
    955          
    956            // Find spot in list
    957            if ( clusterOptionList == NULL )
   \                     ??CrossCallReturnLabel_3:
   \   000027   90....       MOV       DPTR,#clusterOptionList
   \   00002A   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_361:
   \   00002D   90....       MOV       DPTR,#clusterOptionList
   \   000030   6011         JZ        ??zcl_registerClusterOptionList_1
    958            {
    959              clusterOptionList = pNewItem;
    960            }
    961            else
    962            {
    963              // Look for end of list
    964              pLoop = clusterOptionList;
   \   000032   12....       LCALL     ?Subroutine179 & 0xFFFF
   \                     ??CrossCallReturnLabel_314:
   \   000035   8003         SJMP      ??zcl_registerClusterOptionList_2
    965              while ( pLoop->next != NULL )
    966              {
    967                pLoop = pLoop->next;
   \                     ??zcl_registerClusterOptionList_3:
   \   000037   EA           MOV       A,R2
   \   000038   FC           MOV       R4,A
   \   000039   EB           MOV       A,R3
    968              }
   \                     ??zcl_registerClusterOptionList_2:
   \   00003A   12....       LCALL     ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_355:
   \   00003D   70F8         JNZ       ??zcl_registerClusterOptionList_3
    969          
    970              // Put new item at end of list
    971              pLoop->next = pNewItem;
   \   00003F   8C82         MOV       DPL,R4
   \   000041   8D83         MOV       DPH,R5
    972            }
   \                     ??zcl_registerClusterOptionList_1:
   \   000043   12....       LCALL     ?Subroutine28 & 0xFFFF
    973          
    974            return ( ZSuccess );
   \                     ??CrossCallReturnLabel_27:
   \   000046   80..         SJMP      ??Subroutine203_0
    975          }
    976          
    977          /*********************************************************************
    978           * @fn          zcl_registerValidateAttrData
    979           *
    980           * @brief       Add a validation function for attribute data
    981           *
    982           * @param       pfnValidateAttrData - function pointer to validate routine
    983           *
    984           * @return      ZSuccess if OK
    985           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    986          ZStatus_t zcl_registerValidateAttrData( zclValidateAttrData_t pfnValidateAttrData )
   \                     zcl_registerValidateAttrData:
    987          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    988            zcl_ValidateAttrDataCB = pfnValidateAttrData;
   \   000004   90....       MOV       DPTR,#zcl_ValidateAttrDataCB
   \   000007   12....       LCALL     ??Subroutine250_0 & 0xFFFF
    989          
    990            return ( ZSuccess );
   \                     ??CrossCallReturnLabel_582:
   \   00000A   7900         MOV       R1,#0x0
   \   00000C                REQUIRE ?Subroutine0
   \   00000C                ; // Fall through to label ?Subroutine0
    991          }
    992          
    993          /*********************************************************************
    994           * @fn          zcl_registerReadWriteCB
    995           *
    996           * @brief       Register the application's callback function to read/write
    997           *              attribute data, and authorize read/write operation.
    998           *
    999           *              Note: The pfnReadWriteCB callback function is only required
   1000           *                    when the attribute data format is unknown to ZCL. The
   1001           *                    callback function gets called when the pointer 'dataPtr'
   1002           *                    to the attribute value is NULL in the attribute database
   1003           *                    registered with the ZCL.
   1004           *
   1005           *              Note: The pfnAuthorizeCB callback function is only required
   1006           *                    when the Read/Write operation on an attribute requires
   1007           *                    authorization (i.e., attributes with ACCESS_CONTROL_AUTH_READ
   1008           *                    or ACCESS_CONTROL_AUTH_WRITE access permissions).
   1009           *
   1010           * @param       endpoint - application's endpoint
   1011           * @param       pfnReadWriteCB - function pointer to read/write routine
   1012           * @param       pfnAuthorizeCB - function pointer to authorize read/write operation
   1013           *
   1014           * @return      ZSuccess if successful. ZFailure, otherwise.
   1015           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1016          ZStatus_t zcl_registerReadWriteCB( uint8 endpoint, zclReadWriteCB_t pfnReadWriteCB,
   \                     zcl_registerReadWriteCB:
   1017                                             zclAuthorizeCB_t pfnAuthorizeCB )
   1018          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV       A,#-0xe
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
   \   000009   8C..         MOV       ?V0,R4
   \   00000B   8D..         MOV       ?V1,R5
   1019            zclAttrRecsList *pRec = zclFindAttrRecsList( endpoint );
   \   00000D                ; Setup parameters for call to function zclFindAttrRecsList
   \   00000D   12....       LCALL     `??zclFindAttrRecsList::?relay`; Banked call to: zclFindAttrRecsList
   \   000010   8A..         MOV       ?V4,R2
   \   000012   8B..         MOV       ?V5,R3
   \   000014   A8..         MOV       R0,?V4
   \   000016   A9..         MOV       R1,?V5
   1020          
   1021            if ( pRec != NULL )
   \   000018   E8           MOV       A,R0
   \   000019   49           ORL       A,R1
   \   00001A   6019         JZ        ??zcl_registerReadWriteCB_0
   1022            {
   1023              pRec->pfnReadWriteCB = pfnReadWriteCB;
   \   00001C   8882         MOV       DPL,R0
   \   00001E   8983         MOV       DPH,R1
   \   000020   A3           INC       DPTR
   \   000021   A3           INC       DPTR
   \   000022   A3           INC       DPTR
   \   000023   EE           MOV       A,R6
   \   000024   F0           MOVX      @DPTR,A
   \   000025   A3           INC       DPTR
   \   000026   EF           MOV       A,R7
   \   000027   12....       LCALL     ?Subroutine36 & 0xFFFF
   1024              pRec->pfnAuthorizeCB = pfnAuthorizeCB;
   \                     ??CrossCallReturnLabel_44:
   \   00002A   E5..         MOV       A,?V0
   \   00002C   F0           MOVX      @DPTR,A
   \   00002D   A3           INC       DPTR
   \   00002E   E5..         MOV       A,?V1
   \   000030   F0           MOVX      @DPTR,A
   1025          
   1026              return ( ZSuccess );
   \   000031   7900         MOV       R1,#0x0
   \   000033   8002         SJMP      ??zcl_registerReadWriteCB_1
   1027            }
   1028          
   1029            return ( ZFailure );
   \                     ??zcl_registerReadWriteCB_0:
   \   000035   7901         MOV       R1,#0x1
   \                     ??zcl_registerReadWriteCB_1:
   \   000037   02....       LJMP      ?Subroutine3 & 0xFFFF
   1030          }
   1031          
   1032          /*********************************************************************
   1033           * @fn      zcl_DeviceOperational
   1034           *
   1035           * @brief   Used to see whether or not the device can send or respond
   1036           *          to application level commands.
   1037           *
   1038           * @param   srcEP - source endpoint
   1039           * @param   clusterID - cluster ID
   1040           * @param   frameType - command type
   1041           * @param   cmd - command ID
   1042           *
   1043           * @return  TRUE if device is operational, FALSE otherwise
   1044           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   12....       LCALL     ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine203_0
   \   000003                ; // Fall through to label ??Subroutine203_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1045          static uint8 zcl_DeviceOperational( uint8 srcEP, uint16 clusterID,
   \                     zcl_DeviceOperational:
   1046                                              uint8 frameType, uint8 cmd, uint16 profileID )
   1047          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV       A,#-0x9
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   E9           MOV       A,R1
   \   00000B   FE           MOV       R6,A
   \   00000C   EC           MOV       A,R4
   \   00000D   FF           MOV       R7,A
   1048            zclAttrRec_t attrRec;
   1049            uint8 deviceEnabled = DEVICE_ENABLED; // default value
   \   00000E   85..82       MOV       DPL,?XSP + 0
   \   000011   85..83       MOV       DPH,?XSP + 1
   \   000014   7401         MOV       A,#0x1
   \   000016   F0           MOVX      @DPTR,A
   1050          
   1051            (void)profileID;  // Intentionally unreferenced parameter
   1052          
   1053            // If the device is Disabled (DeviceEnabled attribute is set to Disabled), it
   1054            // cannot send or respond to application level commands, other than commands
   1055            // to read or write attributes. Note that the Identify cluster cannot be
   1056            // disabled, and remains functional regardless of this setting.
   1057            if ( zcl_ProfileCmd( frameType ) && cmd <= ZCL_CMD_WRITE_NO_RSP )
   \   000017   EF           MOV       A,R7
   \   000018   7006         JNZ       ??zcl_DeviceOperational_0
   \   00001A   ED           MOV       A,R5
   \   00001B   C3           CLR       C
   \   00001C   9406         SUBB      A,#0x6
   \   00001E   4050         JC        ??zcl_DeviceOperational_1
   1058            {
   1059              return ( TRUE );
   1060            }
   1061          
   1062            if ( clusterID == ZCL_CLUSTER_ID_GEN_IDENTIFY )
   \                     ??zcl_DeviceOperational_0:
   \   000020   7403         MOV       A,#0x3
   \   000022   6A           XRL       A,R2
   \   000023   4B           ORL       A,R3
   \   000024   604A         JZ        ??zcl_DeviceOperational_1
   1063            {
   1064              return ( TRUE );
   1065            }
   1066          
   1067            // Is device enabled?
   1068            if ( zclFindAttrRec( srcEP, ZCL_CLUSTER_ID_GEN_BASIC,
   1069                                 ATTRID_BASIC_DEVICE_ENABLED, &attrRec ) )
   \   000026                ; Setup parameters for call to function zclFindAttrRec
   \   000026   7401         MOV       A,#0x1
   \   000028   12....       LCALL     ?XSTACK_DISP100_8
   \   00002B   88..         MOV       ?V2,R0
   \   00002D   89..         MOV       ?V3,R1
   \   00002F   78..         MOV       R0,#?V2
   \   000031   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000034   7C12         MOV       R4,#0x12
   \   000036   7D00         MOV       R5,#0x0
   \   000038   7A00         MOV       R2,#0x0
   \   00003A   7B00         MOV       R3,#0x0
   \   00003C   EE           MOV       A,R6
   \   00003D   F9           MOV       R1,A
   \   00003E   12....       LCALL     `??zclFindAttrRec::?relay`; Banked call to: zclFindAttrRec
   \   000041   7402         MOV       A,#0x2
   \   000043   12....       LCALL     ?DEALLOC_XSTACK8
   \   000046   E9           MOV       A,R1
   \   000047   601C         JZ        ??zcl_DeviceOperational_2
   1070            {
   1071          #ifdef ZCL_READ
   1072              zclReadAttrData( &deviceEnabled, &attrRec, NULL );
   \   000049                ; Setup parameters for call to function zclReadAttrData
   \   000049   E4           CLR       A
   \   00004A   F5..         MOV       ?V2,A
   \   00004C   F5..         MOV       ?V3,A
   \   00004E   78..         MOV       R0,#?V2
   \   000050   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000053   7403         MOV       A,#0x3
   \   000055   12....       LCALL     ?XSTACK_DISP102_8
   \   000058   7402         MOV       A,#0x2
   \   00005A   12....       LCALL     ?XSTACK_DISP101_8
   \   00005D   12....       LCALL     `??zclReadAttrData::?relay`; Banked call to: zclReadAttrData
   \   000060   7402         MOV       A,#0x2
   \   000062   12....       LCALL     ?DEALLOC_XSTACK8
   1073          #endif
   1074            }
   1075          
   1076            return ( deviceEnabled == DEVICE_ENABLED ? TRUE : FALSE );
   \                     ??zcl_DeviceOperational_2:
   \   000065   85..82       MOV       DPL,?XSP + 0
   \   000068   85..83       MOV       DPH,?XSP + 1
   \   00006B   E0           MOVX      A,@DPTR
   \   00006C   6401         XRL       A,#0x1
   \   00006E   7004         JNZ       ??zcl_DeviceOperational_3
   \                     ??zcl_DeviceOperational_1:
   \   000070   7901         MOV       R1,#0x1
   \   000072   8002         SJMP      ??zcl_DeviceOperational_4
   \                     ??zcl_DeviceOperational_3:
   \   000074   7900         MOV       R1,#0x0
   \                     ??zcl_DeviceOperational_4:
   \   000076   7409         MOV       A,#0x9
   \   000078   02....       LJMP      ?Subroutine4 & 0xFFFF
   1077          }
   1078          
   1079          /*********************************************************************
   1080           * @fn      zcl_SendCommand
   1081           *
   1082           * @brief   Used to send Profile and Cluster Specific Command messages.
   1083           *
   1084           *          NOTE: The calling application is responsible for incrementing
   1085           *                the Sequence Number.
   1086           *
   1087           * @param   srcEp - source endpoint
   1088           * @param   destAddr - destination address
   1089           * @param   clusterID - cluster ID
   1090           * @param   cmd - command ID
   1091           * @param   specific - whether the command is Cluster Specific
   1092           * @param   direction - client/server direction of the command
   1093           * @param   disableDefaultRsp - disable Default Response command
   1094           * @param   manuCode - manufacturer code for proprietary extensions to a profile
   1095           * @param   seqNumber - identification number for the transaction
   1096           * @param   cmdFormatLen - length of the command to be sent
   1097           * @param   cmdFormat - command to be sent
   1098           *
   1099           * @return  ZSuccess if OK
   1100           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1101          ZStatus_t zcl_SendCommand( uint8 srcEP, afAddrType_t *destAddr,
   \                     zcl_SendCommand:
   1102                                     uint16 clusterID, uint8 cmd, uint8 specific, uint8 direction,
   1103                                     uint8 disableDefaultRsp, uint16 manuCode, uint8 seqNum,
   1104                                     uint16 cmdFormatLen, uint8 *cmdFormat )
   1105          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000                REQUIRE ?V14
   \   000000                REQUIRE ?V15
   \   000000   74E8         MOV       A,#-0x18
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 6
   \   000005   74FA         MOV       A,#-0x6
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   89..         MOV       ?V10,R1
   \   00000C   8A..         MOV       ?V14,R2
   \   00000E   8B..         MOV       ?V15,R3
   \   000010   8C..         MOV       ?V0,R4
   \   000012   8D..         MOV       ?V1,R5
   1106            endPointDesc_t *epDesc;
   1107            zclFrameHdr_t hdr;
   1108            uint8 *msgBuf;
   1109            uint16 msgLen;
   1110            uint8 *pBuf;
   1111            uint8 options;
   1112            ZStatus_t status;
   1113          
   1114            epDesc = afFindEndPointDesc( srcEP );
   \   000014                ; Setup parameters for call to function afFindEndPointDesc
   \   000014   12....       LCALL     `??afFindEndPointDesc::?relay`; Banked call to: afFindEndPointDesc
   \   000017   8A..         MOV       ?V12,R2
   \   000019   8B..         MOV       ?V13,R3
   1115            if ( epDesc == NULL )
   \   00001B   EA           MOV       A,R2
   \   00001C   45..         ORL       A,?V13
   \   00001E   7005         JNZ       ??zcl_SendCommand_0
   1116            {
   1117              return ( ZInvalidParameter ); // EMBEDDED RETURN
   \   000020   7902         MOV       R1,#0x2
   \   000022   02....       LJMP      ??zcl_SendCommand_1 & 0xFFFF
   1118            }
   1119          
   1120          #if defined ( INTER_PAN )
   1121            if ( StubAPS_InterPan( destAddr->panId, destAddr->endPoint ) )
   1122            {
   1123              options = AF_TX_OPTIONS_NONE;
   1124            }
   1125            else
   1126          #endif
   1127            {
   1128              options = zclGetClusterOption( srcEP, clusterID );
   \                     ??zcl_SendCommand_0:
   \   000025                ; Setup parameters for call to function zclGetClusterOption
   \   000025   AA..         MOV       R2,?V0
   \   000027   AB..         MOV       R3,?V1
   \   000029   A9..         MOV       R1,?V10
   \   00002B   12....       LCALL     `??zclGetClusterOption::?relay`; Banked call to: zclGetClusterOption
   \   00002E   E9           MOV       A,R1
   \   00002F   F5..         MOV       ?V7,A
   1129          
   1130              // The cluster might not have been defined to use security but if this message
   1131              // is in response to another message that was using APS security this message
   1132              // will be sent with APS security
   1133              if ( !( options & AF_EN_SECURITY ) )
   \   000031   A2E6         MOV       C,0xE0 /* A   */.6
   \   000033   401C         JC        ??zcl_SendCommand_2
   1134              {
   1135                afIncomingMSGPacket_t *origPkt = zcl_getRawAFMsg();
   \   000035   90....       MOV       DPTR,#rawAFMsg
   \   000038   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   1136          
   1137                if ( ( origPkt != NULL ) && ( origPkt->SecurityUse == TRUE ) )
   \                     ??CrossCallReturnLabel_435:
   \   00003B   6014         JZ        ??zcl_SendCommand_2
   \   00003D   E8           MOV       A,R0
   \   00003E   2419         ADD       A,#0x19
   \   000040   F582         MOV       DPL,A
   \   000042   E4           CLR       A
   \   000043   39           ADDC      A,R1
   \   000044   F583         MOV       DPH,A
   \   000046   E0           MOVX      A,@DPTR
   \   000047   6401         XRL       A,#0x1
   \   000049   7006         JNZ       ??zcl_SendCommand_2
   1138                {
   1139                  options |= AF_EN_SECURITY;
   \   00004B   E5..         MOV       A,?V7
   \   00004D   D2E6         SETB      0xE0 /* A   */.6
   \   00004F   F5..         MOV       ?V7,A
   1140                }
   1141              }
   1142            }
   1143          
   1144            zcl_memset( &hdr, 0, sizeof( zclFrameHdr_t ) );
   \                     ??zcl_SendCommand_2:
   \   000051                ; Setup parameters for call to function osal_memset
   \   000051   7C06         MOV       R4,#0x6
   \   000053   7D00         MOV       R5,#0x0
   \   000055   7900         MOV       R1,#0x0
   \   000057   AA..         MOV       R2,?XSP + 0
   \   000059   AB..         MOV       R3,?XSP + 1
   \   00005B   12....       LCALL     `??osal_memset::?relay`; Banked call to: osal_memset
   1145          
   1146            // Not Profile wide command (like READ, WRITE)
   1147            if ( specific )
   \   00005E   741F         MOV       A,#0x1f
   \   000060   12....       LCALL     ?XSTACK_DISP0_8
   \   000063   12....       LCALL     ?Subroutine126 & 0xFFFF
   \                     ??CrossCallReturnLabel_218:
   \   000066   6009         JZ        ??zcl_SendCommand_3
   1148            {
   1149              hdr.fc.type = ZCL_FRAME_TYPE_SPECIFIC_CMD;
   \   000068   E0           MOVX      A,@DPTR
   \   000069   54FC         ANL       A,#0xfc
   \   00006B   F0           MOVX      @DPTR,A
   \   00006C   E0           MOVX      A,@DPTR
   \   00006D   4401         ORL       A,#0x1
   \   00006F   8003         SJMP      ??zcl_SendCommand_4
   1150            }
   1151            else
   1152            {
   1153              hdr.fc.type = ZCL_FRAME_TYPE_PROFILE_CMD;
   \                     ??zcl_SendCommand_3:
   \   000071   E0           MOVX      A,@DPTR
   \   000072   54FC         ANL       A,#0xfc
   1154            }
   \                     ??zcl_SendCommand_4:
   \   000074   12....       LCALL     ?Subroutine196 & 0xFFFF
   1155          
   1156            if ( ( epDesc->simpleDesc == NULL ) ||
   1157                 ( zcl_DeviceOperational( srcEP, clusterID, hdr.fc.type,
   1158                                          cmd, epDesc->simpleDesc->AppProfId ) == FALSE ) )
   \                     ??CrossCallReturnLabel_338:
   \   000077   A3           INC       DPTR
   \   000078   12....       LCALL     ??Subroutine220_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_446:
   \   00007B   602B         JZ        ??zcl_SendCommand_5
   \   00007D   741E         MOV       A,#0x1e
   \   00007F   12....       LCALL     ?XSTACK_DISP0_8
   \   000082   E0           MOVX      A,@DPTR
   \   000083   FE           MOV       R6,A
   \   000084                ; Setup parameters for call to function zcl_DeviceOperational
   \   000084   8882         MOV       DPL,R0
   \   000086   8983         MOV       DPH,R1
   \   000088   A3           INC       DPTR
   \   000089   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   00008C   EE           MOV       A,R6
   \   00008D   FD           MOV       R5,A
   \   00008E   7402         MOV       A,#0x2
   \   000090   12....       LCALL     ?XSTACK_DISP0_8
   \   000093   E0           MOVX      A,@DPTR
   \   000094   5403         ANL       A,#0x3
   \   000096   FC           MOV       R4,A
   \   000097   AA..         MOV       R2,?V0
   \   000099   AB..         MOV       R3,?V1
   \   00009B   A9..         MOV       R1,?V10
   \   00009D   12....       LCALL     `??zcl_DeviceOperational::?relay`; Banked call to: zcl_DeviceOperational
   \   0000A0   7402         MOV       A,#0x2
   \   0000A2   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000A5   E9           MOV       A,R1
   \   0000A6   7005         JNZ       ??zcl_SendCommand_6
   1159            {
   1160              return ( ZFailure ); // EMBEDDED RETURN
   \                     ??zcl_SendCommand_5:
   \   0000A8   7901         MOV       R1,#0x1
   \   0000AA   02....       LJMP      ??zcl_SendCommand_1 & 0xFFFF
   1161            }
   \                     ??zcl_SendCommand_6:
   \   0000AD   7422         MOV       A,#0x22
   \   0000AF   12....       LCALL     ?XSTACK_DISP0_8
   \   0000B2   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   1162          
   1163            // Fill in the Maufacturer Code
   1164            if ( manuCode != 0 )
   \                     ??CrossCallReturnLabel_436:
   \   0000B5   6012         JZ        ??CrossCallReturnLabel_511
   1165            {
   1166              hdr.fc.manuSpecific = 1;
   \   0000B7   85..82       MOV       DPL,?XSP + 0
   \   0000BA   85..83       MOV       DPH,?XSP + 1
   \   0000BD   E0           MOVX      A,@DPTR
   \   0000BE   4404         ORL       A,#0x4
   \   0000C0   F0           MOVX      @DPTR,A
   1167              hdr.manuCode = manuCode;
   \   0000C1   7402         MOV       A,#0x2
   \   0000C3   12....       LCALL     ?XSTACK_DISP0_8
   \   0000C6   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   1168            }
   1169          
   1170            // Set the Command Direction
   1171            if ( direction )
   \                     ??CrossCallReturnLabel_511:
   \   0000C9   7420         MOV       A,#0x20
   \   0000CB   12....       LCALL     ?XSTACK_DISP0_8
   \   0000CE   12....       LCALL     ?Subroutine126 & 0xFFFF
   \                     ??CrossCallReturnLabel_219:
   \   0000D1   6005         JZ        ??zcl_SendCommand_7
   1172            {
   1173              hdr.fc.direction = ZCL_FRAME_SERVER_CLIENT_DIR;
   \   0000D3   E0           MOVX      A,@DPTR
   \   0000D4   4408         ORL       A,#0x8
   \   0000D6   8003         SJMP      ??zcl_SendCommand_8
   1174            }
   1175            else
   1176            {
   1177              hdr.fc.direction = ZCL_FRAME_CLIENT_SERVER_DIR;
   \                     ??zcl_SendCommand_7:
   \   0000D8   E0           MOVX      A,@DPTR
   \   0000D9   54F7         ANL       A,#0xf7
   \                     ??zcl_SendCommand_8:
   \   0000DB   F0           MOVX      @DPTR,A
   1178            }
   1179          
   1180            // Set the Disable Default Response field
   1181            if ( disableDefaultRsp )
   \   0000DC   7421         MOV       A,#0x21
   \   0000DE   12....       LCALL     ?XSTACK_DISP0_8
   \   0000E1   12....       LCALL     ?Subroutine126 & 0xFFFF
   \                     ??CrossCallReturnLabel_220:
   \   0000E4   6005         JZ        ??zcl_SendCommand_9
   1182            {
   1183              hdr.fc.disableDefaultRsp = 1;
   \   0000E6   E0           MOVX      A,@DPTR
   \   0000E7   4410         ORL       A,#0x10
   \   0000E9   8003         SJMP      ??zcl_SendCommand_10
   1184            }
   1185            else
   1186            {
   1187              hdr.fc.disableDefaultRsp = 0;
   \                     ??zcl_SendCommand_9:
   \   0000EB   E0           MOVX      A,@DPTR
   \   0000EC   54EF         ANL       A,#0xef
   \                     ??zcl_SendCommand_10:
   \   0000EE   F0           MOVX      @DPTR,A
   1188            }
   1189          
   1190            // Fill in the Transaction Sequence Number
   1191            hdr.transSeqNum = seqNum;
   \   0000EF   7424         MOV       A,#0x24
   \   0000F1   12....       LCALL     ?XSTACK_DISP0_8
   \   0000F4   E0           MOVX      A,@DPTR
   \   0000F5   C0E0         PUSH      A
   \   0000F7   7404         MOV       A,#0x4
   \   0000F9   12....       LCALL     ?XSTACK_DISP0_8
   \   0000FC   D0E0         POP       A
   \   0000FE   F0           MOVX      @DPTR,A
   1192          
   1193            // Fill in the command
   1194            hdr.commandID = cmd;
   \   0000FF   7405         MOV       A,#0x5
   \   000101   12....       LCALL     ?XSTACK_DISP0_8
   \   000104   EE           MOV       A,R6
   \   000105   F0           MOVX      @DPTR,A
   1195          
   1196            // calculate the needed buffer size
   1197            msgLen = zclCalcHdrSize( &hdr );
   \   000106   7803         MOV       R0,#0x3
   \   000108   85..82       MOV       DPL,?XSP + 0
   \   00010B   85..83       MOV       DPH,?XSP + 1
   \   00010E   E0           MOVX      A,@DPTR
   \   00010F   5404         ANL       A,#0x4
   \   000111   6002         JZ        ??zcl_SendCommand_11
   \   000113   7805         MOV       R0,#0x5
   \                     ??zcl_SendCommand_11:
   \   000115   7425         MOV       A,#0x25
   \   000117   12....       LCALL     ?XSTACK_DISP0_8
   \   00011A   12....       LCALL     ?Subroutine122 & 0xFFFF
   1198            msgLen += cmdFormatLen;
   \                     ??CrossCallReturnLabel_213:
   \   00011D   25..         ADD       A,?V8
   \   00011F   FE           MOV       R6,A
   \   000120   E4           CLR       A
   \   000121   35..         ADDC      A,?V9
   \   000123   FF           MOV       R7,A
   1199          
   1200            // Allocate the buffer needed
   1201            msgBuf = zcl_mem_alloc( msgLen );
   \   000124                ; Setup parameters for call to function osal_mem_alloc
   \   000124   EE           MOV       A,R6
   \   000125   FA           MOV       R2,A
   \   000126   EF           MOV       A,R7
   \   000127   FB           MOV       R3,A
   \   000128   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   00012B   8A..         MOV       ?V2,R2
   \   00012D   8B..         MOV       ?V3,R3
   1202            if ( msgBuf != NULL )
   \   00012F   EA           MOV       A,R2
   \   000130   45..         ORL       A,?V3
   \   000132   6068         JZ        ??zcl_SendCommand_12
   1203            {
   1204              // Fill in the ZCL Header
   1205              pBuf = zclBuildHdr( &hdr, msgBuf );
   \   000134                ; Setup parameters for call to function zclBuildHdr
   \   000134   AC..         MOV       R4,?V2
   \   000136   AD..         MOV       R5,?V3
   \   000138   AA..         MOV       R2,?XSP + 0
   \   00013A   AB..         MOV       R3,?XSP + 1
   \   00013C   12....       LCALL     `??zclBuildHdr::?relay`; Banked call to: zclBuildHdr
   1206          
   1207              // Fill in the command frame
   1208              zcl_memcpy( pBuf, cmdFormat, cmdFormatLen );
   \   00013F                ; Setup parameters for call to function osal_memcpy
   \   00013F   7427         MOV       A,#0x27
   \   000141   12....       LCALL     ?XSTACK_DISP0_8
   \   000144   12....       LCALL     ?Subroutine64 & 0xFFFF
   \                     ??CrossCallReturnLabel_105:
   \   000147   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   00014A   AC..         MOV       R4,?V8
   \   00014C   AD..         MOV       R5,?V9
   \   00014E   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000151   7403         MOV       A,#0x3
   \   000153   12....       LCALL     ?DEALLOC_XSTACK8
   1209          
   1210              status = AF_DataRequest( destAddr, epDesc, clusterID, msgLen, msgBuf,
   1211                                       &APS_Counter, options, zcl_radius );
   \   000156                ; Setup parameters for call to function AF_DataRequest
   \   000156   90....       MOV       DPTR,#zcl_radius
   \   000159   E0           MOVX      A,@DPTR
   \   00015A   F5..         MOV       ?V4,A
   \   00015C   78..         MOV       R0,#?V4
   \   00015E   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000161   75....       MOV       ?V4,#APS_Counter & 0xff
   \   000164   75....       MOV       ?V5,#(APS_Counter >> 8) & 0xff
   \   000167   78..         MOV       R0,#?V4
   \   000169   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00016C   78..         MOV       R0,#?V2
   \   00016E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000171   8E..         MOV       ?V4,R6
   \   000173   8F..         MOV       ?V5,R7
   \   000175   78..         MOV       R0,#?V4
   \   000177   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00017A   78..         MOV       R0,#?V0
   \   00017C   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00017F   A9..         MOV       R1,?V7
   \   000181   AC..         MOV       R4,?V12
   \   000183   AD..         MOV       R5,?V13
   \   000185   AA..         MOV       R2,?V14
   \   000187   AB..         MOV       R3,?V15
   \   000189   12....       LCALL     `??AF_DataRequest::?relay`; Banked call to: AF_DataRequest
   \   00018C   7409         MOV       A,#0x9
   \   00018E   12....       LCALL     ?DEALLOC_XSTACK8
   \   000191   E9           MOV       A,R1
   \   000192   FE           MOV       R6,A
   1212              zcl_mem_free ( msgBuf );
   \   000193                ; Setup parameters for call to function osal_mem_free
   \   000193   AA..         MOV       R2,?V2
   \   000195   AB..         MOV       R3,?V3
   \   000197   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   00019A   8002         SJMP      ??zcl_SendCommand_13
   1213            }
   1214            else
   1215            {
   1216              status = ZMemError;
   \                     ??zcl_SendCommand_12:
   \   00019C   7E10         MOV       R6,#0x10
   1217            }
   1218          
   1219            return ( status );
   \                     ??zcl_SendCommand_13:
   \   00019E   EE           MOV       A,R6
   \   00019F   F9           MOV       R1,A
   \                     ??zcl_SendCommand_1:
   \   0001A0   7406         MOV       A,#0x6
   \   0001A2   02....       LJMP      ?Subroutine5 & 0xFFFF
   1220          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine126:
   \   000000   12....       LCALL     ?Subroutine197 & 0xFFFF
   \                     ??CrossCallReturnLabel_341:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine197:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   85..82       MOV       DPL,?XSP + 0
   \   000004   85..83       MOV       DPH,?XSP + 1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine196:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   85..82       MOV       DPL,?V12
   \   000004   85..83       MOV       DPH,?V13
   \   000007   A3           INC       DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine171:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V4,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   F5..         MOV       ?V5,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine220_0:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002                REQUIRE ??Subroutine221_0
   \   000002                ; // Fall through to label ??Subroutine221_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine64:
   \   000000   12....       LCALL     ?Subroutine171 & 0xFFFF
   \                     ??CrossCallReturnLabel_302:
   \   000003   75..00       MOV       ?V6,#0x0
   \   000006   78..         MOV       R0,#?V4
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine233_0:
   \   000000   E8           MOV       A,R0
   \   000001                REQUIRE ??Subroutine234_0
   \   000001                ; // Fall through to label ??Subroutine234_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine234_0:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   A3           INC       DPTR
   \   000002   E9           MOV       A,R1
   \   000003   F0           MOVX      @DPTR,A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   12....       LCALL     ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine244_0
   \   000003                ; // Fall through to label ??Subroutine244_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine244_0:
   \   000000   7F10         MOV       R7,#0x10
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA
   1221          
   1222          #ifdef ZCL_READ
   1223          /*********************************************************************
   1224           * @fn      zcl_SendRead
   1225           *
   1226           * @brief   Send a Read command
   1227           *
   1228           * @param   srcEP - Application's endpoint
   1229           * @param   dstAddr - destination address
   1230           * @param   clusterID - cluster ID
   1231           * @param   readCmd - read command to be sent
   1232           * @param   direction - direction of the command
   1233           * @param   seqNum - transaction sequence number
   1234           *
   1235           * @return  ZSuccess if OK
   1236           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1237          ZStatus_t zcl_SendRead( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendRead:
   1238                                  uint16 clusterID, zclReadCmd_t *readCmd,
   1239                                  uint8 direction, uint8 disableDefaultRsp, uint8 seqNum)
   1240          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000   74EC         MOV       A,#-0x14
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V2,R1
   \   000007   8A..         MOV       ?V8,R2
   \   000009   8B..         MOV       ?V9,R3
   \   00000B   EC           MOV       A,R4
   \   00000C   FE           MOV       R6,A
   \   00000D   ED           MOV       A,R5
   \   00000E   FF           MOV       R7,A
   \   00000F   7414         MOV       A,#0x14
   \   000011   12....       LCALL     ?XSTACK_DISP0_8
   \   000014   12....       LCALL     ?Subroutine60 & 0xFFFF
   1241            uint16 dataLen;
   1242            uint8 *buf;
   1243            uint8 *pBuf;
   1244            ZStatus_t status;
   1245          
   1246            dataLen = readCmd->numAttr * 2; // Attribute ID
   \                     ??CrossCallReturnLabel_86:
   \   000017   25E0         ADD       A,0xE0 /* A   */
   \   000019   F5..         MOV       ?V6,A
   \   00001B   E4           CLR       A
   \   00001C   33           RLC       A
   \   00001D   F5..         MOV       ?V7,A
   1247          
   1248            buf = zcl_mem_alloc( dataLen );
   \   00001F                ; Setup parameters for call to function osal_mem_alloc
   \   00001F   AA..         MOV       R2,?V6
   \   000021   FB           MOV       R3,A
   \   000022   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000025   8A..         MOV       ?V0,R2
   \   000027   8B..         MOV       ?V1,R3
   1249            if ( buf != NULL )
   \   000029   EA           MOV       A,R2
   \   00002A   45..         ORL       A,?V1
   \   00002C   7003         JNZ       $+5
   \   00002E   02....       LJMP      ??zcl_SendRead_0 & 0xFFFF
   1250            {
   1251              uint8 i;
   1252          
   1253              // Load the buffer - serially
   1254              pBuf = buf;
   \   000031   A8..         MOV       R0,?V0
   \   000033   A9..         MOV       R1,?V1
   1255              for (i = 0; i < readCmd->numAttr; i++)
   \   000035   7C00         MOV       R4,#0x0
   \   000037   801D         SJMP      ??zcl_SendRead_1
   1256              {
   1257                *pBuf++ = LO_UINT16( readCmd->attrID[i] );
   \                     ??zcl_SendRead_2:
   \   000039   EC           MOV       A,R4
   \   00003A   25E0         ADD       A,0xE0 /* A   */
   \   00003C   FA           MOV       R2,A
   \   00003D   E4           CLR       A
   \   00003E   33           RLC       A
   \   00003F   FB           MOV       R3,A
   \   000040   12....       LCALL     ?Subroutine186 & 0xFFFF
   1258                *pBuf++ = HI_UINT16( readCmd->attrID[i] );
   1259              }
   \                     ??CrossCallReturnLabel_328:
   \   000043   AA82         MOV       R2,DPL
   \   000045   AB83         MOV       R3,DPH
   \   000047   12....       LCALL     ?Subroutine112 & 0xFFFF
   \                     ??CrossCallReturnLabel_194:
   \   00004A   12....       LCALL     ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   00004D   F0           MOVX      @DPTR,A
   \   00004E   E8           MOV       A,R0
   \   00004F   2402         ADD       A,#0x2
   \   000051   F8           MOV       R0,A
   \   000052   5001         JNC       ??zcl_SendRead_3
   \   000054   09           INC       R1
   \                     ??zcl_SendRead_3:
   \   000055   0C           INC       R4
   \                     ??zcl_SendRead_1:
   \   000056   85..82       MOV       DPL,?V4
   \   000059   85..83       MOV       DPH,?V5
   \   00005C   E0           MOVX      A,@DPTR
   \   00005D   FA           MOV       R2,A
   \   00005E   EC           MOV       A,R4
   \   00005F   C3           CLR       C
   \   000060   9A           SUBB      A,R2
   \   000061   40D6         JC        ??zcl_SendRead_2
   1260          
   1261              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_READ, FALSE,
   1262                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   \   000063                ; Setup parameters for call to function zcl_SendCommand
   \   000063   78..         MOV       R0,#?V0
   \   000065   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000068   78..         MOV       R0,#?V6
   \   00006A   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00006D   741C         MOV       A,#0x1c
   \   00006F   12....       LCALL     ?XSTACK_DISP0_8
   \   000072   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   000075   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000078   E4           CLR       A
   \   000079   F5..         MOV       ?V4,A
   \   00007B   F5..         MOV       ?V5,A
   \   00007D   78..         MOV       R0,#?V4
   \   00007F   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000082   741E         MOV       A,#0x1e
   \   000084   12....       LCALL     ?XSTACK_DISP0_8
   \   000087   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   00008A   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00008D   741E         MOV       A,#0x1e
   \   00008F   12....       LCALL     ?XSTACK_DISP0_8
   \   000092   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_73:
   \   000095   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000098   75..00       MOV       ?V3,#0x0
   \   00009B   78..         MOV       R0,#?V3
   \   00009D   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000A0   78..         MOV       R0,#?V3
   \   0000A2   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000A5   EE           MOV       A,R6
   \   0000A6   FC           MOV       R4,A
   \   0000A7   EF           MOV       A,R7
   \   0000A8   FD           MOV       R5,A
   \   0000A9   AA..         MOV       R2,?V8
   \   0000AB   AB..         MOV       R3,?V9
   \   0000AD   A9..         MOV       R1,?V2
   \   0000AF   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0000B2   740B         MOV       A,#0xb
   \   0000B4   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000B7   E9           MOV       A,R1
   \   0000B8   FE           MOV       R6,A
   1263              zcl_mem_free( buf );
   \   0000B9                ; Setup parameters for call to function osal_mem_free
   \   0000B9   AA..         MOV       R2,?V0
   \   0000BB   AB..         MOV       R3,?V1
   \   0000BD   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0000C0   8002         SJMP      ??zcl_SendRead_4
   1264            }
   1265            else
   1266            {
   1267              status = ZMemError;
   \                     ??zcl_SendRead_0:
   \   0000C2   7E10         MOV       R6,#0x10
   1268            }
   1269          
   1270            return ( status );
   \                     ??zcl_SendRead_4:
   \   0000C4                REQUIRE ?Subroutine10
   \   0000C4                ; // Fall through to label ?Subroutine10
   1271          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   EE           MOV       A,R6
   \   000001   F9           MOV       R1,A
   \   000002   02....       LJMP      ??Subroutine243_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine60:
   \   000000   12....       LCALL     ?Subroutine169 & 0xFFFF
   \                     ??CrossCallReturnLabel_296:
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   12....       LCALL     ?Subroutine154 & 0xFFFF
   \                     ??CrossCallReturnLabel_430:
   \   000003   A3           INC       DPTR
   \   000004   12....       LCALL     ?Subroutine170 & 0xFFFF
   \                     ??CrossCallReturnLabel_300:
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine170:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   8882         MOV       DPL,R0
   \   000003   8983         MOV       DPH,R1
   \   000005   A3           INC       DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine56:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V3,A
   \   000003   78..         MOV       R0,#?V3
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine186:
   \   000000   E5..         MOV       A,?V4
   \   000002   2A           ADD       A,R2
   \   000003   F582         MOV       DPL,A
   \   000005   E5..         MOV       A,?V5
   \   000007   3B           ADDC      A,R3
   \   000008   F583         MOV       DPH,A
   \   00000A   A3           INC       DPTR
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine112:
   \   000000   12....       LCALL     ?Subroutine178 & 0xFFFF
   \                     ??CrossCallReturnLabel_371:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine178:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   8882         MOV       DPL,R0
   \   000003   8983         MOV       DPH,R1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine169:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V4,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   F5..         MOV       ?V5,A
   \   000007   85..82       MOV       DPL,?V4
   \   00000A   F583         MOV       DPH,A
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine243_0:
   \   000000   7F0C         MOV       R7,#0xc
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA
   1272          
   1273          /*********************************************************************
   1274           * @fn      zcl_SendReadRsp
   1275           *
   1276           * @brief   Send a Read Response command.
   1277           *
   1278           * @param   srcEP - Application's endpoint
   1279           * @param   dstAddr - destination address
   1280           * @param   clusterID - cluster ID
   1281           * @param   readRspCmd - read response command to be sent
   1282           * @param   direction - direction of the command
   1283           * @param   seqNum - transaction sequence number
   1284           *
   1285           * @return  ZSuccess if OK
   1286           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1287          ZStatus_t zcl_SendReadRsp( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendReadRsp:
   1288                                     uint16 clusterID, zclReadRspCmd_t *readRspCmd,
   1289                                     uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1290          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000   74EA         MOV       A,#-0x16
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV       A,#-0x2
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   89..         MOV       ?V3,R1
   \   00000C   8A..         MOV       ?V12,R2
   \   00000E   8B..         MOV       ?V13,R3
   \   000010   8C..         MOV       ?V6,R4
   \   000012   8D..         MOV       ?V7,R5
   1291            uint8 *buf;
   1292            uint16 len = 0;
   \   000014   7E00         MOV       R6,#0x0
   \   000016   7F00         MOV       R7,#0x0
   1293            ZStatus_t status;
   1294            uint8 i;
   1295          
   1296            // calculate the size of the command
   1297            for ( i = 0; i < readRspCmd->numAttr; i++ )
   \   000018   75..00       MOV       ?V2,#0x0
   \   00001B   7418         MOV       A,#0x18
   \   00001D   12....       LCALL     ?XSTACK_DISP0_8
   \   000020   12....       LCALL     ??Subroutine235_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_524:
   \   000023   8011         SJMP      ??zcl_SendReadRsp_0
   1298            {
   1299              zclReadRspStatus_t *statusRec = &(readRspCmd->attrList[i]);
   1300          
   1301              len += 2 + 1; // Attribute ID + Status
   1302          
   1303              if ( statusRec->status == ZCL_STATUS_SUCCESS )
   1304              {
   1305                len++; // Attribute Data Type length
   1306          
   1307                // Attribute Data length
   1308                if ( statusRec->data != NULL )
   1309                {
   1310                  len += zclGetAttrDataLength( statusRec->dataType, statusRec->data );
   1311                }
   1312                else
   1313                {
   1314                  len += zclGetAttrDataLengthUsingCB( srcEP, clusterID, statusRec->attrID );
   \                     ??zcl_SendReadRsp_1:
   \   000025                ; Setup parameters for call to function zclGetAttrDataLengthUsingCB
   \   000025   12....       LCALL     ?Subroutine95 & 0xFFFF
   1315                }
   \                     ??CrossCallReturnLabel_163:
   \   000028   12....       LCALL     `??zclGetAttrDataLengthUsingCB::?relay`; Banked call to: zclGetAttrDataLengthUsingCB
   \                     ??zcl_SendReadRsp_2:
   \   00002B   8B..         MOV       ?V1,R3
   \   00002D   EE           MOV       A,R6
   \   00002E   2A           ADD       A,R2
   \   00002F   FE           MOV       R6,A
   \   000030   EF           MOV       A,R7
   \   000031   35..         ADDC      A,?V1
   \   000033   FF           MOV       R7,A
   \                     ??zcl_SendReadRsp_3:
   \   000034   05..         INC       ?V2
   \                     ??zcl_SendReadRsp_0:
   \   000036   12....       LCALL     ?Subroutine71 & 0xFFFF
   \                     ??CrossCallReturnLabel_508:
   \   000039   5033         JNC       ??zcl_SendReadRsp_4
   \   00003B   E5..         MOV       A,?V2
   \   00003D   75F006       MOV       B,#0x6
   \   000040   12....       LCALL     ?Subroutine144 & 0xFFFF
   \                     ??CrossCallReturnLabel_258:
   \   000043   2403         ADD       A,#0x3
   \   000045   FE           MOV       R6,A
   \   000046   E4           CLR       A
   \   000047   3F           ADDC      A,R7
   \   000048   FF           MOV       R7,A
   \   000049   A3           INC       DPTR
   \   00004A   A3           INC       DPTR
   \   00004B   E0           MOVX      A,@DPTR
   \   00004C   70E6         JNZ       ??zcl_SendReadRsp_3
   \   00004E   0E           INC       R6
   \   00004F   EE           MOV       A,R6
   \   000050   7001         JNZ       ??zcl_SendReadRsp_5
   \   000052   0F           INC       R7
   \                     ??zcl_SendReadRsp_5:
   \   000053   8882         MOV       DPL,R0
   \   000055   8983         MOV       DPH,R1
   \   000057   A3           INC       DPTR
   \   000058   A3           INC       DPTR
   \   000059   A3           INC       DPTR
   \   00005A   A3           INC       DPTR
   \   00005B   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_362:
   \   00005E   8882         MOV       DPL,R0
   \   000060   8983         MOV       DPH,R1
   \   000062   60C1         JZ        ??zcl_SendReadRsp_1
   \   000064                ; Setup parameters for call to function zclGetAttrDataLength
   \   000064   A3           INC       DPTR
   \   000065   A3           INC       DPTR
   \   000066   A3           INC       DPTR
   \   000067   E0           MOVX      A,@DPTR
   \   000068   F9           MOV       R1,A
   \   000069   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   00006C   80BD         SJMP      ??zcl_SendReadRsp_2
   1316              }
   1317            }
   1318          
   1319            buf = zcl_mem_alloc( len );
   \                     ??zcl_SendReadRsp_4:
   \   00006E                ; Setup parameters for call to function osal_mem_alloc
   \   00006E   EE           MOV       A,R6
   \   00006F   FA           MOV       R2,A
   \   000070   EF           MOV       A,R7
   \   000071   FB           MOV       R3,A
   \   000072   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000075   8A..         MOV       ?V0,R2
   \   000077   8B..         MOV       ?V1,R3
   \   000079   8A..         MOV       ?V4,R2
   \   00007B   8B..         MOV       ?V5,R3
   1320            if ( buf != NULL )
   \   00007D   EA           MOV       A,R2
   \   00007E   45..         ORL       A,?V5
   \   000080   7003         JNZ       $+5
   \   000082   02....       LJMP      ??zcl_SendReadRsp_6 & 0xFFFF
   1321            {
   1322              // Load the buffer - serially
   1323              uint8 *pBuf = buf;
   1324          
   1325              for ( i = 0; i < readRspCmd->numAttr; i++ )
   \   000085   75..00       MOV       ?V2,#0x0
   \   000088   8030         SJMP      ??zcl_SendReadRsp_7
   1326              {
   1327                zclReadRspStatus_t *statusRec = &(readRspCmd->attrList[i]);
   1328          
   1329                *pBuf++ = LO_UINT16( statusRec->attrID );
   1330                *pBuf++ = HI_UINT16( statusRec->attrID );
   1331                *pBuf++ = statusRec->status;
   1332          
   1333                if ( statusRec->status == ZCL_STATUS_SUCCESS )
   1334                {
   1335                  *pBuf++ = statusRec->dataType;
   1336          
   1337                  if ( statusRec->data != NULL )
   1338                  {
   1339                    // Copy attribute data to the buffer to be sent out
   1340                    pBuf = zclSerializeData( statusRec->dataType, statusRec->data, pBuf );
   1341                  }
   1342                  else
   1343                  {
   1344                    uint16 dataLen;
   1345          
   1346                    // Read attribute data directly into the buffer to be sent out
   1347                    zclReadAttrDataUsingCB( srcEP, clusterID, statusRec->attrID, pBuf, &dataLen );
   \                     ??zcl_SendReadRsp_8:
   \   00008A                ; Setup parameters for call to function zclReadAttrDataUsingCB
   \   00008A   A8..         MOV       R0,?XSP + 0
   \   00008C   A9..         MOV       R1,?XSP + 1
   \   00008E   88..         MOV       ?V10,R0
   \   000090   89..         MOV       ?V11,R1
   \   000092   78..         MOV       R0,#?V10
   \   000094   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000097   78..         MOV       R0,#?V0
   \   000099   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00009C   8A82         MOV       DPL,R2
   \   00009E   8B83         MOV       DPH,R3
   \   0000A0   12....       LCALL     ?Subroutine95 & 0xFFFF
   \                     ??CrossCallReturnLabel_164:
   \   0000A3   12....       LCALL     `??zclReadAttrDataUsingCB::?relay`; Banked call to: zclReadAttrDataUsingCB
   \   0000A6   7404         MOV       A,#0x4
   \   0000A8   12....       LCALL     ?DEALLOC_XSTACK8
   1348                    pBuf += dataLen;
   \   0000AB   12....       LCALL     ?Subroutine106 & 0xFFFF
   1349                  }
   \                     ??CrossCallReturnLabel_488:
   \   0000AE   E5..         MOV       A,?V0
   \   0000B0   28           ADD       A,R0
   \   0000B1   F5..         MOV       ?V0,A
   \   0000B3   E5..         MOV       A,?V1
   \   0000B5   39           ADDC      A,R1
   \   0000B6   F5..         MOV       ?V1,A
   \                     ??zcl_SendReadRsp_9:
   \   0000B8   05..         INC       ?V2
   \                     ??zcl_SendReadRsp_7:
   \   0000BA   12....       LCALL     ?Subroutine71 & 0xFFFF
   \                     ??CrossCallReturnLabel_509:
   \   0000BD   506F         JNC       ??zcl_SendReadRsp_10
   \   0000BF   E5..         MOV       A,?V2
   \   0000C1   75F006       MOV       B,#0x6
   \   0000C4   12....       LCALL     ?Subroutine187 & 0xFFFF
   \                     ??CrossCallReturnLabel_330:
   \   0000C7   12....       LCALL     ?Subroutine145 & 0xFFFF
   \                     ??CrossCallReturnLabel_260:
   \   0000CA   12....       LCALL     ?Subroutine198 & 0xFFFF
   \                     ??CrossCallReturnLabel_343:
   \   0000CD   12....       LCALL     ?Subroutine38 & 0xFFFF
   \                     ??CrossCallReturnLabel_47:
   \   0000D0   12....       LCALL     ?Subroutine127 & 0xFFFF
   \                     ??CrossCallReturnLabel_221:
   \   0000D3   F0           MOVX      @DPTR,A
   \   0000D4   12....       LCALL     ?Subroutine131 & 0xFFFF
   \                     ??CrossCallReturnLabel_229:
   \   0000D7   12....       LCALL     ?Subroutine127 & 0xFFFF
   \                     ??CrossCallReturnLabel_222:
   \   0000DA   A3           INC       DPTR
   \   0000DB   F0           MOVX      @DPTR,A
   \   0000DC   E5..         MOV       A,?V0
   \   0000DE   2403         ADD       A,#0x3
   \   0000E0   F5..         MOV       ?V0,A
   \   0000E2   5002         JNC       ??zcl_SendReadRsp_11
   \   0000E4   05..         INC       ?V1
   \                     ??zcl_SendReadRsp_11:
   \   0000E6   8882         MOV       DPL,R0
   \   0000E8   8983         MOV       DPH,R1
   \   0000EA   E0           MOVX      A,@DPTR
   \   0000EB   70CB         JNZ       ??zcl_SendReadRsp_9
   \   0000ED   EA           MOV       A,R2
   \   0000EE   2403         ADD       A,#0x3
   \   0000F0   08           INC       R0
   \   0000F1   E4           CLR       A
   \   0000F2   3B           ADDC      A,R3
   \   0000F3   F9           MOV       R1,A
   \   0000F4   8882         MOV       DPL,R0
   \   0000F6   8983         MOV       DPH,R1
   \   0000F8   12....       LCALL     ?Subroutine198 & 0xFFFF
   \                     ??CrossCallReturnLabel_344:
   \   0000FB   F0           MOVX      @DPTR,A
   \   0000FC   A3           INC       DPTR
   \   0000FD   8582..       MOV       ?V0,DPL
   \   000100   8583..       MOV       ?V1,DPH
   \   000103   8A82         MOV       DPL,R2
   \   000105   8B83         MOV       DPH,R3
   \   000107   12....       LCALL     ?Subroutine110 & 0xFFFF
   \                     ??CrossCallReturnLabel_464:
   \   00010A   8C82         MOV       DPL,R4
   \   00010C   8D83         MOV       DPH,R5
   \   00010E   E582         MOV       A,DPL
   \   000110   4583         ORL       A,DPH
   \   000112   7003         JNZ       $+5
   \   000114   02....       LJMP      ??zcl_SendReadRsp_8 & 0xFFFF
   \   000117                ; Setup parameters for call to function zclSerializeData
   \   000117   AC..         MOV       R4,?V0
   \   000119   AD..         MOV       R5,?V1
   \   00011B   AA82         MOV       R2,DPL
   \   00011D   AB83         MOV       R3,DPH
   \   00011F   8882         MOV       DPL,R0
   \   000121   8983         MOV       DPH,R1
   \   000123   E0           MOVX      A,@DPTR
   \   000124   F9           MOV       R1,A
   \   000125   12....       LCALL     `??zclSerializeData::?relay`; Banked call to: zclSerializeData
   \   000128   8A..         MOV       ?V0,R2
   \   00012A   8B..         MOV       ?V1,R3
   \   00012C   808A         SJMP      ??zcl_SendReadRsp_9
   1350                }
   1351              } // for loop
   1352          
   1353              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_READ_RSP, FALSE,
   1354                                        direction, disableDefaultRsp, 0, seqNum, len, buf );
   \                     ??zcl_SendReadRsp_10:
   \   00012E                ; Setup parameters for call to function zcl_SendCommand
   \   00012E   78..         MOV       R0,#?V4
   \   000130   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000133   8E..         MOV       ?V0,R6
   \   000135   8F..         MOV       ?V1,R7
   \   000137   78..         MOV       R0,#?V0
   \   000139   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00013C   7420         MOV       A,#0x20
   \   00013E   12....       LCALL     ?XSTACK_DISP0_8
   \   000141   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_89:
   \   000144   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000147   E4           CLR       A
   \   000148   F5..         MOV       ?V0,A
   \   00014A   F5..         MOV       ?V1,A
   \   00014C   78..         MOV       R0,#?V0
   \   00014E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000151   7422         MOV       A,#0x22
   \   000153   12....       LCALL     ?XSTACK_DISP0_8
   \   000156   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_90:
   \   000159   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00015C   7422         MOV       A,#0x22
   \   00015E   12....       LCALL     ?XSTACK_DISP0_8
   \   000161   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_91:
   \   000164   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000167   75..00       MOV       ?V0,#0x0
   \   00016A   78..         MOV       R0,#?V0
   \   00016C   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00016F   75..01       MOV       ?V0,#0x1
   \   000172   78..         MOV       R0,#?V0
   \   000174   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000177   AC..         MOV       R4,?V6
   \   000179   AD..         MOV       R5,?V7
   \   00017B   AA..         MOV       R2,?V12
   \   00017D   AB..         MOV       R3,?V13
   \   00017F   A9..         MOV       R1,?V3
   \   000181   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   000184   740B         MOV       A,#0xb
   \   000186   12....       LCALL     ?DEALLOC_XSTACK8
   \   000189   E9           MOV       A,R1
   \   00018A   FE           MOV       R6,A
   1355              zcl_mem_free( buf );
   \   00018B                ; Setup parameters for call to function osal_mem_free
   \   00018B   AA..         MOV       R2,?V4
   \   00018D   AB..         MOV       R3,?V5
   \   00018F   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   000192   8002         SJMP      ??zcl_SendReadRsp_12
   1356            }
   1357            else
   1358            {
   1359              status = ZMemError;
   \                     ??zcl_SendReadRsp_6:
   \   000194   7E10         MOV       R6,#0x10
   1360            }
   1361          
   1362            return ( status );
   \                     ??zcl_SendReadRsp_12:
   \   000196   EE           MOV       A,R6
   \   000197   F9           MOV       R1,A
   \   000198   02....       LJMP      ?Subroutine7 & 0xFFFF
   1363          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine127:
   \   000000   12....       LCALL     ?Subroutine181 & 0xFFFF
   \                     ??CrossCallReturnLabel_320:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine181:
   \   000000   12....       LCALL     ?Subroutine198 & 0xFFFF
   \                     ??CrossCallReturnLabel_345:
   \   000003   A3           INC       DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine198:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   85..82       MOV       DPL,?V0
   \   000004   85..83       MOV       DPH,?V1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine95:
   \   000000   12....       LCALL     ??Subroutine248_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_575:
   \   000003   AA..         MOV       R2,?V6
   \   000005   AB..         MOV       R3,?V7
   \   000007   A9..         MOV       R1,?V3
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine144:
   \   000000   12....       LCALL     ?Subroutine187 & 0xFFFF
   \                     ??CrossCallReturnLabel_333:
   \   000003   12....       LCALL     ?Subroutine185 & 0xFFFF
   \                     ??CrossCallReturnLabel_327:
   \   000006   EE           MOV       A,R6
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine187:
   \   000000   A4           MUL       AB
   \   000001   F8           MOV       R0,A
   \   000002   A9F0         MOV       R1,B
   \   000004   E5..         MOV       A,?V8
   \   000006   28           ADD       A,R0
   \   000007   F582         MOV       DPL,A
   \   000009   E5..         MOV       A,?V9
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine38:
   \   000000   12....       LCALL     ?Subroutine154 & 0xFFFF
   \                     ??CrossCallReturnLabel_431:
   \   000003   A3           INC       DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine185:
   \   000000   12....       LCALL     ?Subroutine201 & 0xFFFF
   \                     ??CrossCallReturnLabel_351:
   \   000003   A882         MOV       R0,DPL
   \   000005   A983         MOV       R1,DPH
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   7402         MOV       A,#0x2
   \   000002   12....       LCALL     ?DEALLOC_XSTACK8
   \   000005                REQUIRE ??Subroutine206_0
   \   000005                ; // Fall through to label ??Subroutine206_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine206_0:
   \   000000   7F0E         MOV       R7,#0xe
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine61:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V0,A
   \   000003   78..         MOV       R0,#?V0
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine131:
   \   000000   EA           MOV       A,R2
   \   000001   2402         ADD       A,#0x2
   \   000003   F8           MOV       R0,A
   \   000004   E4           CLR       A
   \   000005   3B           ADDC      A,R3
   \   000006   F9           MOV       R1,A
   \   000007   8882         MOV       DPL,R0
   \   000009   8983         MOV       DPH,R1
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine110:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002                REQUIRE ??Subroutine225_0
   \   000002                ; // Fall through to label ??Subroutine225_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine225_0:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002                REQUIRE ??Subroutine226_0
   \   000002                ; // Fall through to label ??Subroutine226_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine226_0:
   \   000000   12....       LCALL     ??Subroutine248_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_580:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine201:
   \   000000   39           ADDC      A,R1
   \   000001   F583         MOV       DPH,A
   \   000003   A3           INC       DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine145:
   \   000000   12....       LCALL     ?Subroutine201 & 0xFFFF
   \                     ??CrossCallReturnLabel_350:
   \   000003   AA82         MOV       R2,DPL
   \   000005   AB83         MOV       R3,DPH
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine106:
   \   000000   85..82       MOV       DPL,?XSP + 0
   \   000003   85..83       MOV       DPH,?XSP + 1
   \   000006                REQUIRE ??Subroutine230_0
   \   000006                ; // Fall through to label ??Subroutine230_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine71:
   \   000000   85..82       MOV       DPL,?V8
   \   000003   85..83       MOV       DPH,?V9
   \   000006                REQUIRE ??Subroutine232_0
   \   000006                ; // Fall through to label ??Subroutine232_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine232_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F8           MOV       R0,A
   \   000002   E5..         MOV       A,?V2
   \   000004   C3           CLR       C
   \   000005   98           SUBB      A,R0
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine235_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V8,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   F5..         MOV       ?V9,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine248_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   FC           MOV       R4,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   FD           MOV       R5,A
   \   000005   22           RET
   1364          #endif // ZCL_READ
   1365          
   1366          #ifdef ZCL_WRITE
   1367          /*********************************************************************
   1368           * @fn      sendWriteRequest
   1369           *
   1370           * @brief   Send a Write command
   1371           *
   1372           * @param   dstAddr - destination address
   1373           * @param   clusterID - cluster ID
   1374           * @param   writeCmd - write command to be sent
   1375           * @param   cmd - ZCL_CMD_WRITE, ZCL_CMD_WRITE_UNDIVIDED or ZCL_CMD_WRITE_NO_RSP
   1376           * @param   direction - direction of the command
   1377           * @param   seqNum - transaction sequence number
   1378           *
   1379           * @return  ZSuccess if OK
   1380           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1381          ZStatus_t zcl_SendWriteRequest( uint8 srcEP, afAddrType_t *dstAddr, uint16 clusterID,
   \                     zcl_SendWriteRequest:
   1382                                          zclWriteCmd_t *writeCmd, uint8 cmd, uint8 direction,
   1383                                          uint8 disableDefaultRsp, uint8 seqNum )
   1384          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000   74EA         MOV       A,#-0x16
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V3,R1
   \   000007   8A..         MOV       ?V8,R2
   \   000009   8B..         MOV       ?V9,R3
   \   00000B   8C..         MOV       ?V6,R4
   \   00000D   8D..         MOV       ?V7,R5
   1385            uint8 *buf;
   1386            uint16 dataLen = 0;
   \   00000F   7E00         MOV       R6,#0x0
   \   000011   7F00         MOV       R7,#0x0
   1387            ZStatus_t status;
   1388            uint8 i;
   1389          
   1390            for ( i = 0; i < writeCmd->numAttr; i++ )
   \   000013   75..00       MOV       ?V2,#0x0
   \   000016   7416         MOV       A,#0x16
   \   000018   12....       LCALL     ?XSTACK_DISP0_8
   \   00001B   12....       LCALL     ?Subroutine108 & 0xFFFF
   \                     ??CrossCallReturnLabel_185:
   \   00001E   8009         SJMP      ??CrossCallReturnLabel_248
   1391            {
   1392              zclWriteRec_t *statusRec = &(writeCmd->attrList[i]);
   \                     ??zcl_SendWriteRequest_0:
   \   000020   12....       LCALL     ?Subroutine80 & 0xFFFF
   1393          
   1394              dataLen += 2 + 1; // Attribute ID + Attribute Type
   1395          
   1396              // Attribute Data
   1397              dataLen += zclGetAttrDataLength( statusRec->dataType, statusRec->attrData );
   1398            }
   \                     ??CrossCallReturnLabel_138:
   \   000023   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   000026   12....       LCALL     ?Subroutine139 & 0xFFFF
   \                     ??CrossCallReturnLabel_248:
   \   000029   85..82       MOV       DPL,?V4
   \   00002C   85..83       MOV       DPH,?V5
   \   00002F   12....       LCALL     ??Subroutine232_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_505:
   \   000032   40EC         JC        ??zcl_SendWriteRequest_0
   1399          
   1400            buf = zcl_mem_alloc( dataLen );
   \   000034                ; Setup parameters for call to function osal_mem_alloc
   \   000034   EE           MOV       A,R6
   \   000035   FA           MOV       R2,A
   \   000036   EF           MOV       A,R7
   \   000037   FB           MOV       R3,A
   \   000038   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   00003B   8A..         MOV       ?V0,R2
   \   00003D   8B..         MOV       ?V1,R3
   1401            if ( buf != NULL )
   \   00003F   EA           MOV       A,R2
   \   000040   45..         ORL       A,?V1
   \   000042   7003         JNZ       $+5
   \   000044   02....       LJMP      ??zcl_SendWriteRequest_1 & 0xFFFF
   1402            {
   1403              // Load the buffer - serially
   1404              uint8 *pBuf = buf;
   \   000047   A8..         MOV       R0,?V0
   \   000049   A9..         MOV       R1,?V1
   1405              for ( i = 0; i < writeCmd->numAttr; i++ )
   \   00004B   75..00       MOV       ?V2,#0x0
   \   00004E   8010         SJMP      ??zcl_SendWriteRequest_2
   1406              {
   1407                zclWriteRec_t *statusRec = &(writeCmd->attrList[i]);
   \                     ??zcl_SendWriteRequest_3:
   \   000050   12....       LCALL     ?Subroutine14 & 0xFFFF
   1408          
   1409                *pBuf++ = LO_UINT16( statusRec->attrID );
   1410                *pBuf++ = HI_UINT16( statusRec->attrID );
   1411                *pBuf++ = statusRec->dataType;
   1412          
   1413                pBuf = zclSerializeData( statusRec->dataType, statusRec->attrData, pBuf );
   1414              }
   \                     ??CrossCallReturnLabel_0:
   \   000053   12....       LCALL     `??zclSerializeData::?relay`; Banked call to: zclSerializeData
   \   000056   8A..         MOV       ?V10,R2
   \   000058   8B..         MOV       ?V11,R3
   \   00005A   A8..         MOV       R0,?V10
   \   00005C   A9..         MOV       R1,?V11
   \   00005E   05..         INC       ?V2
   \                     ??zcl_SendWriteRequest_2:
   \   000060   85..82       MOV       DPL,?V4
   \   000063   85..83       MOV       DPH,?V5
   \   000066   E0           MOVX      A,@DPTR
   \   000067   FA           MOV       R2,A
   \   000068   E5..         MOV       A,?V2
   \   00006A   C3           CLR       C
   \   00006B   9A           SUBB      A,R2
   \   00006C   40E2         JC        ??zcl_SendWriteRequest_3
   1415          
   1416              status = zcl_SendCommand( srcEP, dstAddr, clusterID, cmd, FALSE,
   1417                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   \   00006E                ; Setup parameters for call to function zcl_SendCommand
   \   00006E   78..         MOV       R0,#?V0
   \   000070   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000073   8E..         MOV       ?V4,R6
   \   000075   8F..         MOV       ?V5,R7
   \   000077   78..         MOV       R0,#?V4
   \   000079   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00007C   741F         MOV       A,#0x1f
   \   00007E   12....       LCALL     ?XSTACK_DISP0_8
   \   000081   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_390:
   \   000084   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000087   E4           CLR       A
   \   000088   F5..         MOV       ?V4,A
   \   00008A   F5..         MOV       ?V5,A
   \   00008C   78..         MOV       R0,#?V4
   \   00008E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000091   7421         MOV       A,#0x21
   \   000093   12....       LCALL     ?XSTACK_DISP0_8
   \   000096   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_391:
   \   000099   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00009C   7421         MOV       A,#0x21
   \   00009E   12....       LCALL     ?XSTACK_DISP0_8
   \   0000A1   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_392:
   \   0000A4   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000A7   75..00       MOV       ?V2,#0x0
   \   0000AA   78..         MOV       R0,#?V2
   \   0000AC   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000AF   7422         MOV       A,#0x22
   \   0000B1   12....       LCALL     ?XSTACK_DISP0_8
   \   0000B4   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_393:
   \   0000B7   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000BA   AC..         MOV       R4,?V6
   \   0000BC   AD..         MOV       R5,?V7
   \   0000BE   AA..         MOV       R2,?V8
   \   0000C0   AB..         MOV       R3,?V9
   \   0000C2   A9..         MOV       R1,?V3
   \   0000C4   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0000C7   740B         MOV       A,#0xb
   \   0000C9   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000CC   E9           MOV       A,R1
   \   0000CD   FE           MOV       R6,A
   1418              zcl_mem_free( buf );
   \   0000CE                ; Setup parameters for call to function osal_mem_free
   \   0000CE   AA..         MOV       R2,?V0
   \   0000D0   AB..         MOV       R3,?V1
   \   0000D2   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0000D5   8002         SJMP      ??zcl_SendWriteRequest_4
   1419            }
   1420            else
   1421            {
   1422              status = ZMemError;
   \                     ??zcl_SendWriteRequest_1:
   \   0000D7   7E10         MOV       R6,#0x10
   1423            }
   1424          
   1425            return ( status);
   \                     ??zcl_SendWriteRequest_4:
   \   0000D9                REQUIRE ?Subroutine12
   \   0000D9                ; // Fall through to label ?Subroutine12
   1426          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   EE           MOV       A,R6
   \   000001   F9           MOV       R1,A
   \   000002   02....       LJMP      ??Subroutine206_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine139:
   \   000000   8B..         MOV       ?V1,R3
   \   000002   EA           MOV       A,R2
   \   000003   2403         ADD       A,#0x3
   \   000005   F8           MOV       R0,A
   \   000006   E4           CLR       A
   \   000007   35..         ADDC      A,?V1
   \   000009   F9           MOV       R1,A
   \   00000A   EE           MOV       A,R6
   \   00000B   28           ADD       A,R0
   \   00000C   FE           MOV       R6,A
   \   00000D   EF           MOV       A,R7
   \   00000E   39           ADDC      A,R1
   \   00000F   FF           MOV       R7,A
   \   000010   05..         INC       ?V2
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine80:
   \   000000   E5..         MOV       A,?V2
   \   000002   75F005       MOV       B,#0x5
   \   000005   A4           MUL       AB
   \   000006   F8           MOV       R0,A
   \   000007   A9F0         MOV       R1,B
   \   000009   E5..         MOV       A,?V4
   \   00000B   28           ADD       A,R0
   \   00000C   F582         MOV       DPL,A
   \   00000E   E5..         MOV       A,?V5
   \   000010   12....       LCALL     ?Subroutine185 & 0xFFFF
   \                     ??CrossCallReturnLabel_326:
   \   000013                ; Setup parameters for call to function zclGetAttrDataLength
   \   000013                ; Setup parameters for call to function zclGetAttrDataLength
   \   000013   A3           INC       DPTR
   \   000014   A3           INC       DPTR
   \   000015   A3           INC       DPTR
   \   000016   12....       LCALL     ?Subroutine176 & 0xFFFF
   \                     ??CrossCallReturnLabel_310:
   \   000019   A3           INC       DPTR
   \   00001A   A3           INC       DPTR
   \   00001B   E0           MOVX      A,@DPTR
   \   00001C   F9           MOV       R1,A
   \   00001D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   E5..         MOV       A,?V2
   \   000002   75F005       MOV       B,#0x5
   \   000005   A4           MUL       AB
   \   000006   FA           MOV       R2,A
   \   000007   ABF0         MOV       R3,B
   \   000009   12....       LCALL     ?Subroutine186 & 0xFFFF
   \                     ??CrossCallReturnLabel_329:
   \   00000C   8582..       MOV       ?V12,DPL
   \   00000F   8583..       MOV       ?V13,DPH
   \   000012   12....       LCALL     ?Subroutine178 & 0xFFFF
   \                     ??CrossCallReturnLabel_369:
   \   000015   12....       LCALL     ?Subroutine157 & 0xFFFF
   \                     ??CrossCallReturnLabel_281:
   \   000018   8882         MOV       DPL,R0
   \   00001A   8983         MOV       DPH,R1
   \   00001C   A3           INC       DPTR
   \   00001D   F0           MOVX      @DPTR,A
   \   00001E   E5..         MOV       A,?V12
   \   000020   2402         ADD       A,#0x2
   \   000022   FA           MOV       R2,A
   \   000023   E4           CLR       A
   \   000024   35..         ADDC      A,?V13
   \   000026   FB           MOV       R3,A
   \   000027   8A..         MOV       ?V10,R2
   \   000029   8B..         MOV       ?V11,R3
   \   00002B   8A82         MOV       DPL,R2
   \   00002D   F583         MOV       DPH,A
   \   00002F   12....       LCALL     ?Subroutine170 & 0xFFFF
   \                     ??CrossCallReturnLabel_298:
   \   000032   A3           INC       DPTR
   \   000033   F0           MOVX      @DPTR,A
   \   000034                ; Setup parameters for call to function zclSerializeData
   \   000034                ; Setup parameters for call to function zclSerializeData
   \   000034   E8           MOV       A,R0
   \   000035   2403         ADD       A,#0x3
   \   000037   FC           MOV       R4,A
   \   000038   E4           CLR       A
   \   000039   39           ADDC      A,R1
   \   00003A   FD           MOV       R5,A
   \   00003B   85..82       MOV       DPL,?V12
   \   00003E   85..83       MOV       DPH,?V13
   \   000041   12....       LCALL     ??Subroutine240_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_620:
   \   000044   85..82       MOV       DPL,?V10
   \   000047   85..83       MOV       DPH,?V11
   \   00004A   E0           MOVX      A,@DPTR
   \   00004B   F9           MOV       R1,A
   \   00004C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine210_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V2,A
   \   000003   78..         MOV       R0,#?V2
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine157:
   \   000000   12....       LCALL     ?Subroutine196 & 0xFFFF
   \                     ??CrossCallReturnLabel_339:
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine108:
   \   000000   12....       LCALL     ?Subroutine171 & 0xFFFF
   \                     ??CrossCallReturnLabel_304:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine240_0:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003                REQUIRE ??Subroutine241_0
   \   000003                ; // Fall through to label ??Subroutine241_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine176:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   FA           MOV       R2,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   FB           MOV       R3,A
   \   000005   8882         MOV       DPL,R0
   \   000007   8983         MOV       DPH,R1
   \   000009   22           RET
   1427          
   1428          /*********************************************************************
   1429           * @fn      zcl_SendWriteRsp
   1430           *
   1431           * @brief   Send a Write Response command
   1432           *
   1433           * @param   dstAddr - destination address
   1434           * @param   clusterID - cluster ID
   1435           * @param   wrtieRspCmd - write response command to be sent
   1436           * @param   direction - direction of the command
   1437           * @param   seqNum - transaction sequence number
   1438           *
   1439           * @return  ZSuccess if OK
   1440           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1441          ZStatus_t zcl_SendWriteRsp( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendWriteRsp:
   1442                                      uint16 clusterID, zclWriteRspCmd_t *writeRspCmd,
   1443                                      uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1444          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000   74EC         MOV       A,#-0x14
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V2,R1
   \   000007   8A..         MOV       ?V8,R2
   \   000009   8B..         MOV       ?V9,R3
   \   00000B   EC           MOV       A,R4
   \   00000C   FE           MOV       R6,A
   \   00000D   ED           MOV       A,R5
   \   00000E   FF           MOV       R7,A
   \   00000F   7414         MOV       A,#0x14
   \   000011   12....       LCALL     ?XSTACK_DISP0_8
   \   000014   12....       LCALL     ?Subroutine60 & 0xFFFF
   1445            uint16 dataLen;
   1446            uint8 *buf;
   1447            ZStatus_t status;
   1448          
   1449            dataLen = writeRspCmd->numAttr * ( 1 + 2 ); // status + attribute id
   \                     ??CrossCallReturnLabel_87:
   \   000017   75F003       MOV       B,#0x3
   \   00001A   A4           MUL       AB
   \   00001B   F5..         MOV       ?V6,A
   \   00001D   E5F0         MOV       A,B
   \   00001F   F5..         MOV       ?V7,A
   1450          
   1451            buf = zcl_mem_alloc( dataLen );
   \   000021                ; Setup parameters for call to function osal_mem_alloc
   \   000021   AA..         MOV       R2,?V6
   \   000023   FB           MOV       R3,A
   \   000024   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000027   8A..         MOV       ?V0,R2
   \   000029   8B..         MOV       ?V1,R3
   1452            if ( buf != NULL )
   \   00002B   EA           MOV       A,R2
   \   00002C   45..         ORL       A,?V1
   \   00002E   7003         JNZ       $+5
   \   000030   02....       LJMP      ??zcl_SendWriteRsp_0 & 0xFFFF
   1453            {
   1454              // Load the buffer - serially
   1455              uint8 i;
   1456              uint8 *pBuf = buf;
   \   000033   A8..         MOV       R0,?V0
   \   000035   A9..         MOV       R1,?V1
   1457              for ( i = 0; i < writeRspCmd->numAttr; i++ )
   \   000037   7C00         MOV       R4,#0x0
   \   000039   8034         SJMP      ??zcl_SendWriteRsp_1
   1458              {
   1459                *pBuf++ = writeRspCmd->attrList[i].status;
   \                     ??zcl_SendWriteRsp_2:
   \   00003B   EC           MOV       A,R4
   \   00003C   75F003       MOV       B,#0x3
   \   00003F   A4           MUL       AB
   \   000040   FA           MOV       R2,A
   \   000041   ABF0         MOV       R3,B
   \   000043   E5..         MOV       A,?V4
   \   000045   2A           ADD       A,R2
   \   000046   FA           MOV       R2,A
   \   000047   E5..         MOV       A,?V5
   \   000049   3B           ADDC      A,R3
   \   00004A   FB           MOV       R3,A
   \   00004B   8A82         MOV       DPL,R2
   \   00004D   8B83         MOV       DPH,R3
   \   00004F   A3           INC       DPTR
   \   000050   12....       LCALL     ??Subroutine205_0 & 0xFFFF
   1460                *pBuf++ = LO_UINT16( writeRspCmd->attrList[i].attrID );
   \                     ??CrossCallReturnLabel_365:
   \   000053   EA           MOV       A,R2
   \   000054   2402         ADD       A,#0x2
   \   000056   FA           MOV       R2,A
   \   000057   5001         JNC       ??zcl_SendWriteRsp_3
   \   000059   0B           INC       R3
   \                     ??zcl_SendWriteRsp_3:
   \   00005A   8A82         MOV       DPL,R2
   \   00005C   8B83         MOV       DPH,R3
   \   00005E   12....       LCALL     ?Subroutine112 & 0xFFFF
   1461                *pBuf++ = HI_UINT16( writeRspCmd->attrList[i].attrID );
   1462              }
   \                     ??CrossCallReturnLabel_195:
   \   000061   A3           INC       DPTR
   \   000062   12....       LCALL     ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   000065   A3           INC       DPTR
   \   000066   F0           MOVX      @DPTR,A
   \   000067   E8           MOV       A,R0
   \   000068   2403         ADD       A,#0x3
   \   00006A   F8           MOV       R0,A
   \   00006B   5001         JNC       ??zcl_SendWriteRsp_4
   \   00006D   09           INC       R1
   \                     ??zcl_SendWriteRsp_4:
   \   00006E   0C           INC       R4
   \                     ??zcl_SendWriteRsp_1:
   \   00006F   85..82       MOV       DPL,?V4
   \   000072   85..83       MOV       DPH,?V5
   \   000075   E0           MOVX      A,@DPTR
   \   000076   FA           MOV       R2,A
   \   000077   EC           MOV       A,R4
   \   000078   C3           CLR       C
   \   000079   9A           SUBB      A,R2
   \   00007A   40BF         JC        ??zcl_SendWriteRsp_2
   1463          
   1464              // If there's only a single status record and its status field is set to
   1465              // SUCCESS then omit the attribute ID field.
   1466              if ( writeRspCmd->numAttr == 1 && writeRspCmd->attrList[0].status == ZCL_STATUS_SUCCESS )
   \   00007C   7401         MOV       A,#0x1
   \   00007E   6A           XRL       A,R2
   \   00007F   700A         JNZ       ??zcl_SendWriteRsp_5
   \   000081   A3           INC       DPTR
   \   000082   E0           MOVX      A,@DPTR
   \   000083   7006         JNZ       ??zcl_SendWriteRsp_5
   1467              {
   1468                dataLen = 1;
   \   000085   75..01       MOV       ?V6,#0x1
   \   000088   75..00       MOV       ?V7,#0x0
   1469              }
   1470          
   1471              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_WRITE_RSP, FALSE,
   1472                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   \                     ??zcl_SendWriteRsp_5:
   \   00008B                ; Setup parameters for call to function zcl_SendCommand
   \   00008B   78..         MOV       R0,#?V0
   \   00008D   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000090   78..         MOV       R0,#?V6
   \   000092   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000095   741C         MOV       A,#0x1c
   \   000097   12....       LCALL     ?XSTACK_DISP0_8
   \   00009A   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_74:
   \   00009D   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000A0   E4           CLR       A
   \   0000A1   F5..         MOV       ?V4,A
   \   0000A3   F5..         MOV       ?V5,A
   \   0000A5   78..         MOV       R0,#?V4
   \   0000A7   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000AA   741E         MOV       A,#0x1e
   \   0000AC   12....       LCALL     ?XSTACK_DISP0_8
   \   0000AF   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_75:
   \   0000B2   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000B5   741E         MOV       A,#0x1e
   \   0000B7   12....       LCALL     ?XSTACK_DISP0_8
   \   0000BA   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_76:
   \   0000BD   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000C0   75..00       MOV       ?V3,#0x0
   \   0000C3   78..         MOV       R0,#?V3
   \   0000C5   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000C8   75..04       MOV       ?V3,#0x4
   \   0000CB   78..         MOV       R0,#?V3
   \   0000CD   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000D0   EE           MOV       A,R6
   \   0000D1   FC           MOV       R4,A
   \   0000D2   EF           MOV       A,R7
   \   0000D3   FD           MOV       R5,A
   \   0000D4   AA..         MOV       R2,?V8
   \   0000D6   AB..         MOV       R3,?V9
   \   0000D8   A9..         MOV       R1,?V2
   \   0000DA   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0000DD   740B         MOV       A,#0xb
   \   0000DF   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000E2   E9           MOV       A,R1
   \   0000E3   FE           MOV       R6,A
   1473              zcl_mem_free( buf );
   \   0000E4                ; Setup parameters for call to function osal_mem_free
   \   0000E4   AA..         MOV       R2,?V0
   \   0000E6   AB..         MOV       R3,?V1
   \   0000E8   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0000EB   8002         SJMP      ??zcl_SendWriteRsp_6
   1474            }
   1475            else
   1476            {
   1477              status = ZMemError;
   \                     ??zcl_SendWriteRsp_0:
   \   0000ED   7E10         MOV       R6,#0x10
   1478            }
   1479          
   1480            return ( status );
   \                     ??zcl_SendWriteRsp_6:
   \   0000EF   02....       LJMP      ?Subroutine10 & 0xFFFF
   1481          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine205_0:
   \   000000   12....       LCALL     ?Subroutine178 & 0xFFFF
   \                     ??CrossCallReturnLabel_372:
   \   000003   F0           MOVX      @DPTR,A
   \   000004   22           RET
   1482          #endif // ZCL_WRITE
   1483          
   1484          #ifdef ZCL_REPORT_CONFIGURING_DEVICE
   1485          /*********************************************************************
   1486           * @fn      zcl_SendConfigReportCmd
   1487           *
   1488           * @brief   Send a Configure Reporting command
   1489           *
   1490           * @param   dstAddr - destination address
   1491           * @param   clusterID - cluster ID
   1492           * @param   cfgReportCmd - configure reporting command to be sent
   1493           * @param   direction - direction of the command
   1494           * @param   seqNum - transaction sequence number
   1495           *
   1496           * @return  ZSuccess if OK
   1497           */
   1498          ZStatus_t zcl_SendConfigReportCmd( uint8 srcEP, afAddrType_t *dstAddr,
   1499                                    uint16 clusterID, zclCfgReportCmd_t *cfgReportCmd,
   1500                                    uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1501          {
   1502            uint8 *buf;
   1503            uint16 dataLen = 0;
   1504            ZStatus_t status;
   1505            uint8 i;
   1506          
   1507            // Find out the data length
   1508            for ( i = 0; i < cfgReportCmd->numAttr; i++ )
   1509            {
   1510              zclCfgReportRec_t *reportRec = &(cfgReportCmd->attrList[i]);
   1511          
   1512              dataLen += 1 + 2; // Direction + Attribute ID
   1513          
   1514              if ( reportRec->direction == ZCL_SEND_ATTR_REPORTS )
   1515              {
   1516                dataLen += 1 + 2 + 2; // Data Type + Min + Max Reporting Intervals
   1517          
   1518                // Find out the size of the Reportable Change field (for Analog data types)
   1519                if ( zclAnalogDataType( reportRec->dataType ) )
   1520                {
   1521                  dataLen += zclGetDataTypeLength( reportRec->dataType );
   1522                }
   1523              }
   1524              else
   1525              {
   1526                dataLen += 2; // Timeout Period
   1527              }
   1528            }
   1529          
   1530            buf = zcl_mem_alloc( dataLen );
   1531            if ( buf != NULL )
   1532            {
   1533              // Load the buffer - serially
   1534              uint8 *pBuf = buf;
   1535          
   1536              for ( i = 0; i < cfgReportCmd->numAttr; i++ )
   1537              {
   1538                zclCfgReportRec_t *reportRec = &(cfgReportCmd->attrList[i]);
   1539          
   1540                *pBuf++ = reportRec->direction;
   1541                *pBuf++ = LO_UINT16( reportRec->attrID );
   1542                *pBuf++ = HI_UINT16( reportRec->attrID );
   1543          
   1544                if ( reportRec->direction == ZCL_SEND_ATTR_REPORTS )
   1545                {
   1546                  *pBuf++ = reportRec->dataType;
   1547                  *pBuf++ = LO_UINT16( reportRec->minReportInt );
   1548                  *pBuf++ = HI_UINT16( reportRec->minReportInt );
   1549                  *pBuf++ = LO_UINT16( reportRec->maxReportInt );
   1550                  *pBuf++ = HI_UINT16( reportRec->maxReportInt );
   1551          
   1552                  if ( zclAnalogDataType( reportRec->dataType ) )
   1553                  {
   1554                    pBuf = zclSerializeData( reportRec->dataType, reportRec->reportableChange, pBuf );
   1555                  }
   1556                }
   1557                else
   1558                {
   1559                  *pBuf++ = LO_UINT16( reportRec->timeoutPeriod );
   1560                  *pBuf++ = HI_UINT16( reportRec->timeoutPeriod );
   1561                }
   1562              } // for loop
   1563          
   1564              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_CONFIG_REPORT, FALSE,
   1565                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   1566              zcl_mem_free( buf );
   1567            }
   1568            else
   1569            {
   1570              status = ZMemError;
   1571            }
   1572          
   1573            return ( status );
   1574          }
   1575          #endif
   1576          
   1577          #ifdef ZCL_REPORTING_DEVICE
   1578          /*********************************************************************
   1579           * @fn      zcl_SendConfigReportRspCmd
   1580           *
   1581           * @brief   Send a Configure Reporting Response command
   1582           *
   1583           * @param   dstAddr - destination address
   1584           * @param   clusterID - cluster ID
   1585           * @param   cfgReportRspCmd - configure reporting response command to be sent
   1586           * @param   direction - direction of the command
   1587           * @param   seqNum - transaction sequence number
   1588           *
   1589           * @return  ZSuccess if OK
   1590           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1591          ZStatus_t zcl_SendConfigReportRspCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendConfigReportRspCmd:
   1592                              uint16 clusterID, zclCfgReportRspCmd_t *cfgReportRspCmd,
   1593                              uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1594          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000   74EC         MOV       A,#-0x14
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V2,R1
   \   000007   8A..         MOV       ?V8,R2
   \   000009   8B..         MOV       ?V9,R3
   \   00000B   EC           MOV       A,R4
   \   00000C   FE           MOV       R6,A
   \   00000D   ED           MOV       A,R5
   \   00000E   FF           MOV       R7,A
   \   00000F   7414         MOV       A,#0x14
   \   000011   12....       LCALL     ?XSTACK_DISP0_8
   \   000014   12....       LCALL     ?Subroutine60 & 0xFFFF
   1595            uint16 dataLen;
   1596            uint8 *buf;
   1597            ZStatus_t status;
   1598          
   1599            // Atrribute list (Status, Direction and Attribute ID)
   1600            dataLen = cfgReportRspCmd->numAttr * ( 1 + 1 + 2 );
   \                     ??CrossCallReturnLabel_88:
   \   000017   F5..         MOV       ?V0,A
   \   000019   75..00       MOV       ?V1,#0x0
   \   00001C   7402         MOV       A,#0x2
   \   00001E   78..         MOV       R0,#?V0
   \   000020   12....       LCALL     ?S_SHL
   \   000023   85....       MOV       ?V6,?V0
   \   000026   85....       MOV       ?V7,?V1
   1601          
   1602            buf = zcl_mem_alloc( dataLen );
   \   000029                ; Setup parameters for call to function osal_mem_alloc
   \   000029   AA..         MOV       R2,?V6
   \   00002B   AB..         MOV       R3,?V7
   \   00002D   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000030   8A..         MOV       ?V0,R2
   \   000032   8B..         MOV       ?V1,R3
   1603            if ( buf != NULL )
   \   000034   EA           MOV       A,R2
   \   000035   45..         ORL       A,?V1
   \   000037   7003         JNZ       $+5
   \   000039   02....       LJMP      ??zcl_SendConfigReportRspCmd_0 & 0xFFFF
   1604            {
   1605              // Load the buffer - serially
   1606              uint8 *pBuf = buf;
   1607              uint8 i;
   1608          
   1609              for ( i = 0; i < cfgReportRspCmd->numAttr; i++ )
   \   00003C   7900         MOV       R1,#0x0
   \   00003E   803E         SJMP      ??zcl_SendConfigReportRspCmd_1
   1610              {
   1611                *pBuf++ = cfgReportRspCmd->attrList[i].status;
   \                     ??zcl_SendConfigReportRspCmd_2:
   \   000040   E9           MOV       A,R1
   \   000041   F5..         MOV       ?V10,A
   \   000043   75..00       MOV       ?V11,#0x0
   \   000046   7402         MOV       A,#0x2
   \   000048   78..         MOV       R0,#?V10
   \   00004A   12....       LCALL     ?S_SHL
   \   00004D   E5..         MOV       A,?V4
   \   00004F   25..         ADD       A,?V10
   \   000051   FC           MOV       R4,A
   \   000052   E5..         MOV       A,?V5
   \   000054   35..         ADDC      A,?V11
   \   000056   FD           MOV       R5,A
   \   000057   8C82         MOV       DPL,R4
   \   000059   8D83         MOV       DPH,R5
   \   00005B   A3           INC       DPTR
   \   00005C   12....       LCALL     ??Subroutine208_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_384:
   \   00005F   12....       LCALL     ??Subroutine211_0 & 0xFFFF
   1612                *pBuf++ = cfgReportRspCmd->attrList[i].direction;
   \                     ??CrossCallReturnLabel_408:
   \   000062   A3           INC       DPTR
   \   000063   12....       LCALL     ??Subroutine208_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_385:
   \   000066   A3           INC       DPTR
   \   000067   F0           MOVX      @DPTR,A
   1613                *pBuf++ = LO_UINT16( cfgReportRspCmd->attrList[i].attrID );
   \   000068   EC           MOV       A,R4
   \   000069   2403         ADD       A,#0x3
   \   00006B   FC           MOV       R4,A
   \   00006C   5001         JNC       ??zcl_SendConfigReportRspCmd_3
   \   00006E   0D           INC       R5
   \                     ??zcl_SendConfigReportRspCmd_3:
   \   00006F   8C82         MOV       DPL,R4
   \   000071   8D83         MOV       DPH,R5
   \   000073   E0           MOVX      A,@DPTR
   \   000074   12....       LCALL     ?Subroutine42 & 0xFFFF
   1614                *pBuf++ = HI_UINT16( cfgReportRspCmd->attrList[i].attrID );
   1615              }
   \                     ??CrossCallReturnLabel_406:
   \   000077   12....       LCALL     ?Subroutine83 & 0xFFFF
   \                     ??CrossCallReturnLabel_142:
   \   00007A   5001         JNC       ??zcl_SendConfigReportRspCmd_4
   \   00007C   0B           INC       R3
   \                     ??zcl_SendConfigReportRspCmd_4:
   \   00007D   09           INC       R1
   \                     ??zcl_SendConfigReportRspCmd_1:
   \   00007E   85..82       MOV       DPL,?V4
   \   000081   85..83       MOV       DPH,?V5
   \   000084   E0           MOVX      A,@DPTR
   \   000085   F8           MOV       R0,A
   \   000086   E9           MOV       A,R1
   \   000087   C3           CLR       C
   \   000088   98           SUBB      A,R0
   \   000089   40B5         JC        ??zcl_SendConfigReportRspCmd_2
   1616          
   1617              // If there's only a single status record and its status field is set to
   1618              // SUCCESS then omit the attribute ID field.
   1619              if ( cfgReportRspCmd->numAttr == 1 && cfgReportRspCmd->attrList[0].status == ZCL_STATUS_SUCCESS )
   \   00008B   7401         MOV       A,#0x1
   \   00008D   68           XRL       A,R0
   \   00008E   700A         JNZ       ??zcl_SendConfigReportRspCmd_5
   \   000090   A3           INC       DPTR
   \   000091   E0           MOVX      A,@DPTR
   \   000092   7006         JNZ       ??zcl_SendConfigReportRspCmd_5
   1620              {
   1621                dataLen = 1;
   \   000094   75..01       MOV       ?V6,#0x1
   \   000097   75..00       MOV       ?V7,#0x0
   1622              }
   1623          
   1624              status = zcl_SendCommand( srcEP, dstAddr, clusterID,
   1625                                        ZCL_CMD_CONFIG_REPORT_RSP, FALSE, direction,
   1626                                        disableDefaultRsp, 0, seqNum, dataLen, buf );
   \                     ??zcl_SendConfigReportRspCmd_5:
   \   00009A                ; Setup parameters for call to function zcl_SendCommand
   \   00009A   78..         MOV       R0,#?V0
   \   00009C   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00009F   78..         MOV       R0,#?V6
   \   0000A1   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000A4   741C         MOV       A,#0x1c
   \   0000A6   12....       LCALL     ?XSTACK_DISP0_8
   \   0000A9   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   0000AC   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000AF   E4           CLR       A
   \   0000B0   F5..         MOV       ?V4,A
   \   0000B2   F5..         MOV       ?V5,A
   \   0000B4   78..         MOV       R0,#?V4
   \   0000B6   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000B9   741E         MOV       A,#0x1e
   \   0000BB   12....       LCALL     ?XSTACK_DISP0_8
   \   0000BE   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   0000C1   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000C4   741E         MOV       A,#0x1e
   \   0000C6   12....       LCALL     ?XSTACK_DISP0_8
   \   0000C9   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   0000CC   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000CF   75..00       MOV       ?V3,#0x0
   \   0000D2   78..         MOV       R0,#?V3
   \   0000D4   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000D7   75..07       MOV       ?V3,#0x7
   \   0000DA   78..         MOV       R0,#?V3
   \   0000DC   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000DF   EE           MOV       A,R6
   \   0000E0   FC           MOV       R4,A
   \   0000E1   EF           MOV       A,R7
   \   0000E2   FD           MOV       R5,A
   \   0000E3   AA..         MOV       R2,?V8
   \   0000E5   AB..         MOV       R3,?V9
   \   0000E7   A9..         MOV       R1,?V2
   \   0000E9   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0000EC   740B         MOV       A,#0xb
   \   0000EE   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000F1   E9           MOV       A,R1
   \   0000F2   FE           MOV       R6,A
   1627              zcl_mem_free( buf );
   \   0000F3                ; Setup parameters for call to function osal_mem_free
   \   0000F3   AA..         MOV       R2,?V0
   \   0000F5   AB..         MOV       R3,?V1
   \   0000F7   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0000FA   8002         SJMP      ??zcl_SendConfigReportRspCmd_6
   1628            }
   1629            else
   1630            {
   1631              status = ZMemError;
   \                     ??zcl_SendConfigReportRspCmd_0:
   \   0000FC   7E10         MOV       R6,#0x10
   1632            }
   1633          
   1634            return ( status );
   \                     ??zcl_SendConfigReportRspCmd_6:
   \   0000FE   02....       LJMP      ?Subroutine10 & 0xFFFF
   1635          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine208_0:
   \   000000   12....       LCALL     ??Subroutine224_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_459:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine83:
   \   000000   12....       LCALL     ??Subroutine224_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_455:
   \   000003   A3           INC       DPTR
   \   000004   A3           INC       DPTR
   \   000005   A3           INC       DPTR
   \   000006   F0           MOVX      @DPTR,A
   \   000007   EA           MOV       A,R2
   \   000008   2404         ADD       A,#0x4
   \   00000A   FA           MOV       R2,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine42:
   \   000000   8A82         MOV       DPL,R2
   \   000002   8B83         MOV       DPH,R3
   \   000004   A3           INC       DPTR
   \   000005   A3           INC       DPTR
   \   000006                REQUIRE ??Subroutine211_0
   \   000006                ; // Fall through to label ??Subroutine211_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine211_0:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   8C82         MOV       DPL,R4
   \   000003   8D83         MOV       DPH,R5
   \   000005   A3           INC       DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine224_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   8A82         MOV       DPL,R2
   \   000003   8B83         MOV       DPH,R3
   \   000005   22           RET
   1636          #endif
   1637          
   1638          #ifdef ZCL_REPORT_CONFIGURING_DEVICE
   1639          /*********************************************************************
   1640           * @fn      zcl_SendReadReportCfgCmd
   1641           *
   1642           * @brief   Send a Read Reporting Configuration command
   1643           *
   1644           * @param   dstAddr - destination address
   1645           * @param   clusterID - cluster ID
   1646           * @param   readReportCfgCmd - read reporting configuration command to be sent
   1647           * @param   direction - direction of the command
   1648           * @param   seqNum - transaction sequence number
   1649           *
   1650           * @return  ZSuccess if OK
   1651           */
   1652          ZStatus_t zcl_SendReadReportCfgCmd( uint8 srcEP, afAddrType_t *dstAddr,
   1653                            uint16 clusterID, zclReadReportCfgCmd_t *readReportCfgCmd,
   1654                            uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1655          {
   1656            uint16 dataLen;
   1657            uint8 *buf;
   1658            ZStatus_t status;
   1659          
   1660            dataLen = readReportCfgCmd->numAttr * ( 1 + 2 ); // Direction + Atrribute ID
   1661          
   1662            buf = zcl_mem_alloc( dataLen );
   1663            if ( buf != NULL )
   1664            {
   1665              // Load the buffer - serially
   1666              uint8 *pBuf = buf;
   1667              uint8 i;
   1668          
   1669              for ( i = 0; i < readReportCfgCmd->numAttr; i++ )
   1670              {
   1671                *pBuf++ = readReportCfgCmd->attrList[i].direction;
   1672                *pBuf++ = LO_UINT16( readReportCfgCmd->attrList[i].attrID );
   1673                *pBuf++ = HI_UINT16( readReportCfgCmd->attrList[i].attrID );
   1674              }
   1675          
   1676              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_READ_REPORT_CFG, FALSE,
   1677                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   1678              zcl_mem_free( buf );
   1679            }
   1680            else
   1681            {
   1682              status = ZMemError;
   1683            }
   1684          
   1685            return ( status );
   1686          }
   1687          #endif
   1688          
   1689          #ifdef ZCL_REPORTING_DEVICE
   1690          /*********************************************************************
   1691           * @fn      zcl_SendReadReportCfgRspCmd
   1692           *
   1693           * @brief   Send a Read Reporting Configuration Response command
   1694           *
   1695           * @param   dstAddr - destination address
   1696           * @param   clusterID - cluster ID
   1697           * @param   readReportCfgRspCmd - read reporting configuration response command to be sent
   1698           * @param   direction - direction of the command
   1699           * @param   seqNum - transaction sequence number
   1700           *
   1701           * @return  ZSuccess if OK
   1702           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1703          ZStatus_t zcl_SendReadReportCfgRspCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendReadReportCfgRspCmd:
   1704                       uint16 clusterID, zclReadReportCfgRspCmd_t *readReportCfgRspCmd,
   1705                       uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1706          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000                REQUIRE ?V14
   \   000000                REQUIRE ?V15
   \   000000   74E8         MOV       A,#-0x18
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV       A,#-0x2
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   85..82       MOV       DPL,?XSP + 0
   \   00000D   85..83       MOV       DPH,?XSP + 1
   \   000010   12....       LCALL     ??Subroutine250_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_583:
   \   000013   89..         MOV       ?V1,R1
   \   000015   8C..         MOV       ?V12,R4
   \   000017   8D..         MOV       ?V13,R5
   1707            uint8 *buf;
   1708            uint16 dataLen = 0;
   \   000019   7E00         MOV       R6,#0x0
   \   00001B   7F00         MOV       R7,#0x0
   1709            ZStatus_t status;
   1710            uint8 i;
   1711          
   1712            // Find out the data length
   1713            for ( i = 0; i < readReportCfgRspCmd->numAttr; i++ )
   \   00001D   75..00       MOV       ?V0,#0x0
   \   000020   741A         MOV       A,#0x1a
   \   000022   12....       LCALL     ?XSTACK_DISP0_8
   \   000025   12....       LCALL     ??Subroutine235_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_525:
   \   000028   8009         SJMP      ??zcl_SendReadReportCfgRspCmd_0
   1714            {
   1715              zclReportCfgRspRec_t *reportRspRec = &(readReportCfgRspCmd->attrList[i]);
   1716          
   1717              dataLen += 1 + 1 + 2 ; // Status, Direction and Atrribute ID
   1718          
   1719              if ( reportRspRec->status == ZCL_STATUS_SUCCESS )
   1720              {
   1721                if ( reportRspRec->direction == ZCL_SEND_ATTR_REPORTS )
   1722                {
   1723                  dataLen += 1 + 2 + 2; // Data Type + Min + Max Reporting Intervals
   1724          
   1725                  // Find out the size of the Reportable Change field (for Analog data types)
   1726                  if ( zclAnalogDataType( reportRspRec->dataType ) )
   1727                  {
   1728                    dataLen += zclGetDataTypeLength( reportRspRec->dataType );
   1729                  }
   1730                }
   1731                else
   1732                {
   1733                  dataLen += 2; // Timeout Period
   \                     ??zcl_SendReadReportCfgRspCmd_1:
   \   00002A   EE           MOV       A,R6
   \   00002B   2402         ADD       A,#0x2
   \                     ??zcl_SendReadReportCfgRspCmd_2:
   \   00002D   FE           MOV       R6,A
   \   00002E   E4           CLR       A
   \   00002F   3F           ADDC      A,R7
   \   000030   FF           MOV       R7,A
   1734                }
   \                     ??zcl_SendReadReportCfgRspCmd_3:
   \   000031   05..         INC       ?V0
   \                     ??zcl_SendReadReportCfgRspCmd_0:
   \   000033   12....       LCALL     ?Subroutine87 & 0xFFFF
   \                     ??CrossCallReturnLabel_642:
   \   000036   5041         JNC       ??zcl_SendReadReportCfgRspCmd_4
   \   000038   E5..         MOV       A,?V0
   \   00003A   75F00D       MOV       B,#0xd
   \   00003D   12....       LCALL     ?Subroutine144 & 0xFFFF
   \                     ??CrossCallReturnLabel_259:
   \   000040   2404         ADD       A,#0x4
   \   000042   FE           MOV       R6,A
   \   000043   E4           CLR       A
   \   000044   3F           ADDC      A,R7
   \   000045   FF           MOV       R7,A
   \   000046   E0           MOVX      A,@DPTR
   \   000047   70E8         JNZ       ??zcl_SendReadReportCfgRspCmd_3
   \   000049   A3           INC       DPTR
   \   00004A   E0           MOVX      A,@DPTR
   \   00004B   70DD         JNZ       ??zcl_SendReadReportCfgRspCmd_1
   \   00004D   EE           MOV       A,R6
   \   00004E   2405         ADD       A,#0x5
   \   000050   FE           MOV       R6,A
   \   000051   E4           CLR       A
   \   000052   3F           ADDC      A,R7
   \   000053   FF           MOV       R7,A
   \   000054   E8           MOV       A,R0
   \   000055   2404         ADD       A,#0x4
   \   000057   F5..         MOV       ?V2,A
   \   000059   E4           CLR       A
   \   00005A   39           ADDC      A,R1
   \   00005B   F5..         MOV       ?V3,A
   \   00005D                ; Setup parameters for call to function zclAnalogDataType
   \   00005D   85..82       MOV       DPL,?V2
   \   000060   F583         MOV       DPH,A
   \   000062   E0           MOVX      A,@DPTR
   \   000063   F9           MOV       R1,A
   \   000064   12....       LCALL     `??zclAnalogDataType::?relay`; Banked call to: zclAnalogDataType
   \   000067   E9           MOV       A,R1
   \   000068   60C7         JZ        ??zcl_SendReadReportCfgRspCmd_3
   \   00006A                ; Setup parameters for call to function zclGetDataTypeLength
   \   00006A   85..82       MOV       DPL,?V2
   \   00006D   85..83       MOV       DPH,?V3
   \   000070   E0           MOVX      A,@DPTR
   \   000071   F9           MOV       R1,A
   \   000072   12....       LCALL     `??zclGetDataTypeLength::?relay`; Banked call to: zclGetDataTypeLength
   \   000075   EE           MOV       A,R6
   \   000076   29           ADD       A,R1
   \   000077   80B4         SJMP      ??zcl_SendReadReportCfgRspCmd_2
   1735              }
   1736            }
   1737          
   1738            buf = zcl_mem_alloc( dataLen );
   \                     ??zcl_SendReadReportCfgRspCmd_4:
   \   000079                ; Setup parameters for call to function osal_mem_alloc
   \   000079   EE           MOV       A,R6
   \   00007A   FA           MOV       R2,A
   \   00007B   EF           MOV       A,R7
   \   00007C   FB           MOV       R3,A
   \   00007D   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000080   8A..         MOV       ?V2,R2
   \   000082   8B..         MOV       ?V3,R3
   1739            if ( buf != NULL )
   \   000084   EA           MOV       A,R2
   \   000085   45..         ORL       A,?V3
   \   000087   7003         JNZ       $+5
   \   000089   02....       LJMP      ??zcl_SendReadReportCfgRspCmd_5 & 0xFFFF
   1740            {
   1741              // Load the buffer - serially
   1742              uint8 *pBuf = buf;
   \   00008C   8A..         MOV       ?V6,R2
   \   00008E   8B..         MOV       ?V7,R3
   1743          
   1744              for ( i = 0; i < readReportCfgRspCmd->numAttr; i++ )
   \   000090   75..00       MOV       ?V0,#0x0
   \   000093   801C         SJMP      ??zcl_SendReadReportCfgRspCmd_6
   1745              {
   1746                zclReportCfgRspRec_t *reportRspRec = &(readReportCfgRspCmd->attrList[i]);
   1747          
   1748                *pBuf++ = reportRspRec->status;
   1749                *pBuf++ = reportRspRec->direction;
   1750                *pBuf++ = LO_UINT16( reportRspRec->attrID );
   1751                *pBuf++ = HI_UINT16( reportRspRec->attrID );
   1752          
   1753                if ( reportRspRec->status == ZCL_STATUS_SUCCESS )
   1754                {
   1755                  if ( reportRspRec->direction == ZCL_SEND_ATTR_REPORTS )
   1756                  {
   1757                    *pBuf++ = reportRspRec->dataType;
   1758                    *pBuf++ = LO_UINT16( reportRspRec->minReportInt );
   1759                    *pBuf++ = HI_UINT16( reportRspRec->minReportInt );
   1760                    *pBuf++ = LO_UINT16( reportRspRec->maxReportInt );
   1761                    *pBuf++ = HI_UINT16( reportRspRec->maxReportInt );
   1762          
   1763                    if ( zclAnalogDataType( reportRspRec->dataType ) )
   1764                    {
   1765                      pBuf = zclSerializeData( reportRspRec->dataType,
   1766                                               reportRspRec->reportableChange, pBuf );
   1767                    }
   1768                  }
   1769                  else
   1770                  {
   1771                    *pBuf++ = LO_UINT16( reportRspRec->timeoutPeriod );
   \                     ??zcl_SendReadReportCfgRspCmd_7:
   \   000095   E5..         MOV       A,?V4
   \   000097   2409         ADD       A,#0x9
   \   000099   FA           MOV       R2,A
   \   00009A   E4           CLR       A
   \   00009B   35..         ADDC      A,?V5
   \   00009D   FB           MOV       R3,A
   \   00009E   8A82         MOV       DPL,R2
   \   0000A0   8B83         MOV       DPH,R3
   \   0000A2   12....       LCALL     ?Subroutine183 & 0xFFFF
   1772                    *pBuf++ = HI_UINT16( reportRspRec->timeoutPeriod );
   1773                  }
   \                     ??CrossCallReturnLabel_323:
   \   0000A5   12....       LCALL     ?Subroutine38 & 0xFFFF
   \                     ??CrossCallReturnLabel_48:
   \   0000A8   12....       LCALL     ??Subroutine205_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_366:
   \   0000AB   8C..         MOV       ?V6,R4
   \   0000AD   8D..         MOV       ?V7,R5
   \                     ??zcl_SendReadReportCfgRspCmd_8:
   \   0000AF   05..         INC       ?V0
   \                     ??zcl_SendReadReportCfgRspCmd_6:
   \   0000B1   12....       LCALL     ?Subroutine87 & 0xFFFF
   \                     ??CrossCallReturnLabel_643:
   \   0000B4   4003         JC        $+5
   \   0000B6   02....       LJMP      ??zcl_SendReadReportCfgRspCmd_9 & 0xFFFF
   \   0000B9   E5..         MOV       A,?V0
   \   0000BB   75F00D       MOV       B,#0xd
   \   0000BE   12....       LCALL     ?Subroutine187 & 0xFFFF
   \                     ??CrossCallReturnLabel_331:
   \   0000C1   12....       LCALL     ?Subroutine201 & 0xFFFF
   \                     ??CrossCallReturnLabel_346:
   \   0000C4   8582..       MOV       ?V4,DPL
   \   0000C7   8583..       MOV       ?V5,DPH
   \   0000CA   12....       LCALL     ?Subroutine128 & 0xFFFF
   \                     ??CrossCallReturnLabel_223:
   \   0000CD   85..82       MOV       DPL,?V4
   \   0000D0   85..83       MOV       DPH,?V5
   \   0000D3   A3           INC       DPTR
   \   0000D4   AA82         MOV       R2,DPL
   \   0000D6   AB83         MOV       R3,DPH
   \   0000D8   12....       LCALL     ?Subroutine129 & 0xFFFF
   \                     ??CrossCallReturnLabel_225:
   \   0000DB   F0           MOVX      @DPTR,A
   \   0000DC   E5..         MOV       A,?V4
   \   0000DE   2402         ADD       A,#0x2
   \   0000E0   F8           MOV       R0,A
   \   0000E1   E4           CLR       A
   \   0000E2   35..         ADDC      A,?V5
   \   0000E4   F9           MOV       R1,A
   \   0000E5   8882         MOV       DPL,R0
   \   0000E7   8983         MOV       DPH,R1
   \   0000E9   12....       LCALL     ?Subroutine183 & 0xFFFF
   \                     ??CrossCallReturnLabel_324:
   \   0000EC   12....       LCALL     ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   0000EF   F0           MOVX      @DPTR,A
   \   0000F0   E5..         MOV       A,?V6
   \   0000F2   2404         ADD       A,#0x4
   \   0000F4   F5..         MOV       ?V6,A
   \   0000F6   5002         JNC       ??zcl_SendReadReportCfgRspCmd_10
   \   0000F8   05..         INC       ?V7
   \                     ??zcl_SendReadReportCfgRspCmd_10:
   \   0000FA   85..82       MOV       DPL,?V4
   \   0000FD   85..83       MOV       DPH,?V5
   \   000100   E0           MOVX      A,@DPTR
   \   000101   70AC         JNZ       ??zcl_SendReadReportCfgRspCmd_8
   \   000103   E5..         MOV       A,?V6
   \   000105   2402         ADD       A,#0x2
   \   000107   FC           MOV       R4,A
   \   000108   E4           CLR       A
   \   000109   35..         ADDC      A,?V7
   \   00010B   FD           MOV       R5,A
   \   00010C   85..82       MOV       DPL,?V6
   \   00010F   85..83       MOV       DPH,?V7
   \   000112   A3           INC       DPTR
   \   000113   A882         MOV       R0,DPL
   \   000115   A983         MOV       R1,DPH
   \   000117   8A82         MOV       DPL,R2
   \   000119   8B83         MOV       DPH,R3
   \   00011B   E0           MOVX      A,@DPTR
   \   00011C   6003         JZ        $+5
   \   00011E   02....       LJMP      ??zcl_SendReadReportCfgRspCmd_7 & 0xFFFF
   \   000121   E5..         MOV       A,?V4
   \   000123   2404         ADD       A,#0x4
   \   000125   F5..         MOV       ?V10,A
   \   000127   E4           CLR       A
   \   000128   35..         ADDC      A,?V5
   \   00012A   F5..         MOV       ?V11,A
   \   00012C   85..82       MOV       DPL,?V10
   \   00012F   F583         MOV       DPH,A
   \   000131   12....       LCALL     ?Subroutine128 & 0xFFFF
   \                     ??CrossCallReturnLabel_224:
   \   000134   E5..         MOV       A,?V4
   \   000136   2405         ADD       A,#0x5
   \   000138   F5..         MOV       ?V14,A
   \   00013A   E4           CLR       A
   \   00013B   35..         ADDC      A,?V5
   \   00013D   F5..         MOV       ?V15,A
   \   00013F   85..82       MOV       DPL,?V14
   \   000142   12....       LCALL     ?Subroutine89 & 0xFFFF
   \                     ??CrossCallReturnLabel_367:
   \   000145   85..82       MOV       DPL,?V14
   \   000148   85..83       MOV       DPH,?V15
   \   00014B   12....       LCALL     ??Subroutine222_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_451:
   \   00014E   F0           MOVX      @DPTR,A
   \   00014F   E5..         MOV       A,?V4
   \   000151   2407         ADD       A,#0x7
   \   000153   F8           MOV       R0,A
   \   000154   E4           CLR       A
   \   000155   35..         ADDC      A,?V5
   \   000157   F9           MOV       R1,A
   \   000158   8882         MOV       DPL,R0
   \   00015A   8983         MOV       DPH,R1
   \   00015C   12....       LCALL     ?Subroutine129 & 0xFFFF
   \                     ??CrossCallReturnLabel_226:
   \   00015F   12....       LCALL     ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   000162   A3           INC       DPTR
   \   000163   F0           MOVX      @DPTR,A
   \   000164   E5..         MOV       A,?V6
   \   000166   2405         ADD       A,#0x5
   \   000168   F5..         MOV       ?V6,A
   \   00016A   5002         JNC       ??zcl_SendReadReportCfgRspCmd_11
   \   00016C   05..         INC       ?V7
   \                     ??zcl_SendReadReportCfgRspCmd_11:
   \   00016E                ; Setup parameters for call to function zclAnalogDataType
   \   00016E   85..82       MOV       DPL,?V10
   \   000171   85..83       MOV       DPH,?V11
   \   000174   E0           MOVX      A,@DPTR
   \   000175   F9           MOV       R1,A
   \   000176   12....       LCALL     `??zclAnalogDataType::?relay`; Banked call to: zclAnalogDataType
   \   000179   E9           MOV       A,R1
   \   00017A   7003         JNZ       $+5
   \   00017C   02....       LJMP      ??zcl_SendReadReportCfgRspCmd_8 & 0xFFFF
   \   00017F                ; Setup parameters for call to function zclSerializeData
   \   00017F   AC..         MOV       R4,?V6
   \   000181   AD..         MOV       R5,?V7
   \   000183   E5..         MOV       A,?V4
   \   000185   240B         ADD       A,#0xb
   \   000187   F582         MOV       DPL,A
   \   000189   E4           CLR       A
   \   00018A   35..         ADDC      A,?V5
   \   00018C   F583         MOV       DPH,A
   \   00018E   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   1774                }
   1775              }
   \                     ??CrossCallReturnLabel_542:
   \   000191   85..82       MOV       DPL,?V10
   \   000194   85..83       MOV       DPH,?V11
   \   000197   E0           MOVX      A,@DPTR
   \   000198   F9           MOV       R1,A
   \   000199   12....       LCALL     `??zclSerializeData::?relay`; Banked call to: zclSerializeData
   \   00019C   8A..         MOV       ?V6,R2
   \   00019E   8B..         MOV       ?V7,R3
   \   0001A0   02....       LJMP      ??zcl_SendReadReportCfgRspCmd_8 & 0xFFFF
   1776          
   1777              status = zcl_SendCommand( srcEP, dstAddr, clusterID,
   1778                                        ZCL_CMD_READ_REPORT_CFG_RSP, FALSE,
   1779                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   \                     ??zcl_SendReadReportCfgRspCmd_9:
   \   0001A3                ; Setup parameters for call to function zcl_SendCommand
   \   0001A3   78..         MOV       R0,#?V2
   \   0001A5   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0001A8   8E..         MOV       ?V4,R6
   \   0001AA   8F..         MOV       ?V5,R7
   \   0001AC   78..         MOV       R0,#?V4
   \   0001AE   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0001B1   7422         MOV       A,#0x22
   \   0001B3   12....       LCALL     ?XSTACK_DISP0_8
   \   0001B6   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_92:
   \   0001B9   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001BC   E4           CLR       A
   \   0001BD   F5..         MOV       ?V4,A
   \   0001BF   F5..         MOV       ?V5,A
   \   0001C1   78..         MOV       R0,#?V4
   \   0001C3   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0001C6   7424         MOV       A,#0x24
   \   0001C8   12....       LCALL     ?XSTACK_DISP0_8
   \   0001CB   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_93:
   \   0001CE   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001D1   7424         MOV       A,#0x24
   \   0001D3   12....       LCALL     ?XSTACK_DISP0_8
   \   0001D6   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_94:
   \   0001D9   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001DC   75..00       MOV       ?V0,#0x0
   \   0001DF   78..         MOV       R0,#?V0
   \   0001E1   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001E4   75..09       MOV       ?V0,#0x9
   \   0001E7   78..         MOV       R0,#?V0
   \   0001E9   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001EC   AC..         MOV       R4,?V12
   \   0001EE   AD..         MOV       R5,?V13
   \   0001F0   740B         MOV       A,#0xb
   \   0001F2   12....       LCALL     ?XSTACK_DISP0_8
   \   0001F5   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_543:
   \   0001F8   A9..         MOV       R1,?V1
   \   0001FA   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0001FD   740B         MOV       A,#0xb
   \   0001FF   12....       LCALL     ?DEALLOC_XSTACK8
   \   000202   E9           MOV       A,R1
   \   000203   FE           MOV       R6,A
   1780              zcl_mem_free( buf );
   \   000204                ; Setup parameters for call to function osal_mem_free
   \   000204   AA..         MOV       R2,?V2
   \   000206   AB..         MOV       R3,?V3
   \   000208   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   00020B   8002         SJMP      ??zcl_SendReadReportCfgRspCmd_12
   1781            }
   1782            else
   1783            {
   1784              status = ZMemError;
   \                     ??zcl_SendReadReportCfgRspCmd_5:
   \   00020D   7E10         MOV       R6,#0x10
   1785            }
   1786          
   1787            return ( status );
   \                     ??zcl_SendReadReportCfgRspCmd_12:
   \   00020F   EE           MOV       A,R6
   \   000210   F9           MOV       R1,A
   \   000211   7402         MOV       A,#0x2
   \   000213   02....       LJMP      ?Subroutine5 & 0xFFFF
   1788          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine129:
   \   000000   12....       LCALL     ?Subroutine182 & 0xFFFF
   \                     ??CrossCallReturnLabel_322:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine182:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   85..82       MOV       DPL,?V6
   \   000004   85..83       MOV       DPH,?V7
   \   000007   A3           INC       DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine128:
   \   000000   12....       LCALL     ?Subroutine183 & 0xFFFF
   \                     ??CrossCallReturnLabel_325:
   \   000003   F0           MOVX      @DPTR,A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine183:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   85..82       MOV       DPL,?V6
   \   000004   85..83       MOV       DPH,?V7
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine89:
   \   000000   F583         MOV       DPH,A
   \   000002                REQUIRE ??Subroutine205_0
   \   000002                ; // Fall through to label ??Subroutine205_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   12....       LCALL     ?Subroutine158 & 0xFFFF
   \                     ??CrossCallReturnLabel_378:
   \   000005   12....       LCALL     ?Subroutine182 & 0xFFFF
   \                     ??CrossCallReturnLabel_321:
   \   000008   A3           INC       DPTR
   \   000009   A3           INC       DPTR
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine158:
   \   000000   12....       LCALL     ?Subroutine202 & 0xFFFF
   \                     ??CrossCallReturnLabel_383:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine222_0:
   \   000000   A3           INC       DPTR
   \   000001                REQUIRE ??Subroutine223_0
   \   000001                ; // Fall through to label ??Subroutine223_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine223_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   8C82         MOV       DPL,R4
   \   000003   8D83         MOV       DPH,R5
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine87:
   \   000000   85..82       MOV       DPL,?V8
   \   000003   85..83       MOV       DPH,?V9
   \   000006                REQUIRE ??Subroutine257_0
   \   000006                ; // Fall through to label ??Subroutine257_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine257_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F8           MOV       R0,A
   \   000002   E5..         MOV       A,?V0
   \   000004   C3           CLR       C
   \   000005   98           SUBB      A,R0
   \   000006   22           RET
   1789          
   1790          /*********************************************************************
   1791           * @fn      zcl_SendReportCmd
   1792           *
   1793           * @brief   Send a Report command
   1794           *
   1795           * @param   dstAddr - destination address
   1796           * @param   clusterID - cluster ID
   1797           * @param   reportCmd - report command to be sent
   1798           * @param   direction - direction of the command
   1799           * @param   seqNum - transaction sequence number
   1800           *
   1801           * @return  ZSuccess if OK
   1802           */
   1803          /*
   1804           *  
   1805           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1806          ZStatus_t zcl_SendReportCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendReportCmd:
   1807                                       uint16 clusterID, zclReportCmd_t *reportCmd,
   1808                                       uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1809          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000   74EA         MOV       A,#-0x16
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V3,R1
   \   000007   8A..         MOV       ?V8,R2
   \   000009   8B..         MOV       ?V9,R3
   \   00000B   8C..         MOV       ?V6,R4
   \   00000D   8D..         MOV       ?V7,R5
   1810            uint16 dataLen = 0;
   \   00000F   7E00         MOV       R6,#0x0
   \   000011   7F00         MOV       R7,#0x0
   1811            uint8 *buf;
   1812            ZStatus_t status;
   1813            uint8 i;
   1814          
   1815            // calculate the size of the command
   1816            for ( i = 0; i < reportCmd->numAttr; i++ )
   \   000013   75..00       MOV       ?V2,#0x0
   \   000016   7416         MOV       A,#0x16
   \   000018   12....       LCALL     ?XSTACK_DISP0_8
   \   00001B   12....       LCALL     ?Subroutine108 & 0xFFFF
   \                     ??CrossCallReturnLabel_186:
   \   00001E   8009         SJMP      ??CrossCallReturnLabel_249
   1817            {
   1818              zclReport_t *reportRec = &(reportCmd->attrList[i]);
   \                     ??zcl_SendReportCmd_0:
   \   000020   12....       LCALL     ?Subroutine80 & 0xFFFF
   1819          
   1820              dataLen += 2 + 1; // Attribute ID + data type
   1821          
   1822              // Attribute Data
   1823              dataLen += zclGetAttrDataLength( reportRec->dataType, reportRec->attrData );
   1824            }
   \                     ??CrossCallReturnLabel_139:
   \   000023   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   000026   12....       LCALL     ?Subroutine139 & 0xFFFF
   \                     ??CrossCallReturnLabel_249:
   \   000029   85..82       MOV       DPL,?V4
   \   00002C   85..83       MOV       DPH,?V5
   \   00002F   12....       LCALL     ??Subroutine232_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_506:
   \   000032   40EC         JC        ??zcl_SendReportCmd_0
   1825          
   1826            buf = zcl_mem_alloc( dataLen );
   \   000034                ; Setup parameters for call to function osal_mem_alloc
   \   000034   EE           MOV       A,R6
   \   000035   FA           MOV       R2,A
   \   000036   EF           MOV       A,R7
   \   000037   FB           MOV       R3,A
   \   000038   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   00003B   8A..         MOV       ?V0,R2
   \   00003D   8B..         MOV       ?V1,R3
   1827            if ( buf != NULL )
   \   00003F   EA           MOV       A,R2
   \   000040   45..         ORL       A,?V1
   \   000042   7003         JNZ       $+5
   \   000044   02....       LJMP      ??zcl_SendReportCmd_1 & 0xFFFF
   1828            {
   1829              // Load the buffer - serially
   1830              uint8 *pBuf = buf;
   \   000047   A8..         MOV       R0,?V0
   \   000049   A9..         MOV       R1,?V1
   1831          
   1832              for ( i = 0; i < reportCmd->numAttr; i++ )
   \   00004B   75..00       MOV       ?V2,#0x0
   \   00004E   8010         SJMP      ??zcl_SendReportCmd_2
   1833              {
   1834                zclReport_t *reportRec = &(reportCmd->attrList[i]);
   \                     ??zcl_SendReportCmd_3:
   \   000050   12....       LCALL     ?Subroutine14 & 0xFFFF
   1835          
   1836                *pBuf++ = LO_UINT16( reportRec->attrID );
   1837                *pBuf++ = HI_UINT16( reportRec->attrID );
   1838                *pBuf++ = reportRec->dataType;
   1839          
   1840                pBuf = zclSerializeData( reportRec->dataType, reportRec->attrData, pBuf );
   1841              }
   \                     ??CrossCallReturnLabel_1:
   \   000053   12....       LCALL     `??zclSerializeData::?relay`; Banked call to: zclSerializeData
   \   000056   8A..         MOV       ?V10,R2
   \   000058   8B..         MOV       ?V11,R3
   \   00005A   A8..         MOV       R0,?V10
   \   00005C   A9..         MOV       R1,?V11
   \   00005E   05..         INC       ?V2
   \                     ??zcl_SendReportCmd_2:
   \   000060   85..82       MOV       DPL,?V4
   \   000063   85..83       MOV       DPH,?V5
   \   000066   E0           MOVX      A,@DPTR
   \   000067   FA           MOV       R2,A
   \   000068   E5..         MOV       A,?V2
   \   00006A   C3           CLR       C
   \   00006B   9A           SUBB      A,R2
   \   00006C   40E2         JC        ??zcl_SendReportCmd_3
   1842          
   1843              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_REPORT, FALSE,
   1844                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   \   00006E                ; Setup parameters for call to function zcl_SendCommand
   \   00006E   78..         MOV       R0,#?V0
   \   000070   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000073   8E..         MOV       ?V4,R6
   \   000075   8F..         MOV       ?V5,R7
   \   000077   78..         MOV       R0,#?V4
   \   000079   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00007C   741E         MOV       A,#0x1e
   \   00007E   12....       LCALL     ?XSTACK_DISP0_8
   \   000081   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_394:
   \   000084   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000087   E4           CLR       A
   \   000088   F5..         MOV       ?V4,A
   \   00008A   F5..         MOV       ?V5,A
   \   00008C   78..         MOV       R0,#?V4
   \   00008E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000091   7420         MOV       A,#0x20
   \   000093   12....       LCALL     ?XSTACK_DISP0_8
   \   000096   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_395:
   \   000099   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00009C   7420         MOV       A,#0x20
   \   00009E   12....       LCALL     ?XSTACK_DISP0_8
   \   0000A1   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_396:
   \   0000A4   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000A7   75..00       MOV       ?V2,#0x0
   \   0000AA   78..         MOV       R0,#?V2
   \   0000AC   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000AF   75..0A       MOV       ?V2,#0xa
   \   0000B2   78..         MOV       R0,#?V2
   \   0000B4   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000B7   AC..         MOV       R4,?V6
   \   0000B9   AD..         MOV       R5,?V7
   \   0000BB   AA..         MOV       R2,?V8
   \   0000BD   AB..         MOV       R3,?V9
   \   0000BF   A9..         MOV       R1,?V3
   \   0000C1   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0000C4   740B         MOV       A,#0xb
   \   0000C6   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000C9   E9           MOV       A,R1
   \   0000CA   FE           MOV       R6,A
   1845              zcl_mem_free( buf );
   \   0000CB                ; Setup parameters for call to function osal_mem_free
   \   0000CB   AA..         MOV       R2,?V0
   \   0000CD   AB..         MOV       R3,?V1
   \   0000CF   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0000D2   8002         SJMP      ??zcl_SendReportCmd_4
   1846            }
   1847            else
   1848            {
   1849              status = ZMemError;
   \                     ??zcl_SendReportCmd_1:
   \   0000D4   7E10         MOV       R6,#0x10
   1850            }
   1851          
   1852            return ( status );
   \                     ??zcl_SendReportCmd_4:
   \   0000D6   02....       LJMP      ?Subroutine12 & 0xFFFF
   1853          }
   1854          #endif
   1855          
   1856          /*********************************************************************
   1857           * @fn      zcl_SendDefaultRspCmd
   1858           *
   1859           * @brief   Send a Default Response command
   1860           *
   1861           *          Note: The manufacturer code field should be set if this
   1862           *          command is being sent in response to a manufacturer specific
   1863           *          command.
   1864           *
   1865           * @param   dstAddr - destination address
   1866           * @param   clusterID - cluster ID
   1867           * @param   defaultRspCmd - default response command to be sent
   1868           * @param   direction - direction of the command
   1869           * @param   manuCode - manufacturer code for proprietary extensions to a profile
   1870           * @param   seqNum - transaction sequence number
   1871           *
   1872           * @return  ZSuccess if OK
   1873           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1874          ZStatus_t zcl_SendDefaultRspCmd( uint8 srcEP, afAddrType_t *dstAddr, uint16 clusterID,
   \                     zcl_SendDefaultRspCmd:
   1875                                           zclDefaultRspCmd_t *defaultRspCmd, uint8 direction,
   1876                                           uint8 disableDefaultRsp, uint16 manuCode, uint8 seqNum )
   1877          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV       A,#-0x2
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   E9           MOV       A,R1
   \   00000B   FE           MOV       R6,A
   \   00000C   740C         MOV       A,#0xc
   \   00000E   12....       LCALL     ?XSTACK_DISP0_8
   \   000011   12....       LCALL     ?Subroutine25 & 0xFFFF
   1878            uint8 buf[2]; // Command ID and Status;
   1879          
   1880            // Load the buffer - serially
   1881            buf[0] = defaultRspCmd->commandID;
   1882            buf[1] = defaultRspCmd->statusCode;
   \                     ??CrossCallReturnLabel_373:
   \   000014   C0E0         PUSH      A
   \   000016   7401         MOV       A,#0x1
   \   000018   12....       LCALL     ?XSTACK_DISP0_8
   \   00001B   D0E0         POP       A
   \   00001D   F0           MOVX      @DPTR,A
   1883          
   1884            return ( zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DEFAULT_RSP, FALSE,
   1885                                      direction, disableDefaultRsp, manuCode, seqNum, 2, buf ) );
   \   00001E                ; Setup parameters for call to function zcl_SendCommand
   \   00001E   A8..         MOV       R0,?XSP + 0
   \   000020   A9..         MOV       R1,?XSP + 1
   \   000022   88..         MOV       ?V0,R0
   \   000024   89..         MOV       ?V1,R1
   \   000026   78..         MOV       R0,#?V0
   \   000028   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00002B   75..02       MOV       ?V0,#0x2
   \   00002E   75..00       MOV       ?V1,#0x0
   \   000031   78..         MOV       R0,#?V0
   \   000033   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000036   7416         MOV       A,#0x16
   \   000038   12....       LCALL     ?XSTACK_DISP0_8
   \   00003B   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_95:
   \   00003E   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000041   7415         MOV       A,#0x15
   \   000043   12....       LCALL     ?XSTACK_DISP0_8
   \   000046   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   000049   7416         MOV       A,#0x16
   \   00004B   12....       LCALL     ?XSTACK_DISP0_8
   \   00004E   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   000051   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000054   7416         MOV       A,#0x16
   \   000056   12....       LCALL     ?XSTACK_DISP0_8
   \   000059   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   00005C   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00005F   75..00       MOV       ?V0,#0x0
   \   000062   78..         MOV       R0,#?V0
   \   000064   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000067   75..0B       MOV       ?V0,#0xb
   \   00006A   78..         MOV       R0,#?V0
   \   00006C   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00006F   EE           MOV       A,R6
   \   000070   F9           MOV       R1,A
   \   000071   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   000074   740B         MOV       A,#0xb
   \   000076   12....       LCALL     ?DEALLOC_XSTACK8
   \   000079   7402         MOV       A,#0x2
   \   00007B   12....       LCALL     ?DEALLOC_XSTACK8
   \   00007E   02....       LJMP      ?Subroutine2 & 0xFFFF
   1886          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   12....       LCALL     ?Subroutine163 & 0xFFFF
   \                     ??CrossCallReturnLabel_418:
   \   000003   12....       LCALL     ?Subroutine197 & 0xFFFF
   \                     ??CrossCallReturnLabel_340:
   \   000006                REQUIRE ??Subroutine207_0
   \   000006                ; // Fall through to label ??Subroutine207_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine207_0:
   \   000000   12....       LCALL     ?Subroutine158 & 0xFFFF
   \                     ??CrossCallReturnLabel_379:
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET
   1887          
   1888          #ifdef ZCL_DISCOVER
   1889          /*********************************************************************
   1890           * @fn      zcl_SendDiscoverCmdsCmd
   1891           *
   1892           * @brief   Send a Discover Commands command
   1893           *
   1894           * @param   dstAddr - destination address
   1895           * @param   clusterID - cluster ID
   1896           * @param   cmdType - requesting command ID
   1897           * @param   pDiscoverCmd - discover command to be sent
   1898           * @param   direction - direction of the command
   1899           * @param   seqNum - transaction sequence number
   1900           *
   1901           * @return  ZSuccess if OK
   1902           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1903          ZStatus_t zcl_SendDiscoverCmdsCmd( uint8 srcEP, afAddrType_t *dstAddr, uint16 clusterID,
   \                     zcl_SendDiscoverCmdsCmd:
   1904                                            uint8 cmdType, zclDiscoverCmdsCmd_t *pDiscoverCmd,
   1905                                            uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1906          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV       A,#-0x2
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   E9           MOV       A,R1
   \   00000B   FE           MOV       R6,A
   \   00000C   740F         MOV       A,#0xf
   \   00000E   12....       LCALL     ?XSTACK_DISP0_8
   \   000011   12....       LCALL     ?Subroutine25 & 0xFFFF
   1907            uint8 payload[2]; // size of startCmdID and maxCmdID
   1908            ZStatus_t status;
   1909          
   1910            payload[0] = pDiscoverCmd->startCmdID;
   1911            payload[1] = pDiscoverCmd->maxCmdID;
   \                     ??CrossCallReturnLabel_374:
   \   000014   C0E0         PUSH      A
   \   000016   7401         MOV       A,#0x1
   \   000018   12....       LCALL     ?XSTACK_DISP0_8
   \   00001B   D0E0         POP       A
   \   00001D   F0           MOVX      @DPTR,A
   \   00001E   7411         MOV       A,#0x11
   \   000020   12....       LCALL     ?XSTACK_DISP0_8
   \   000023   E0           MOVX      A,@DPTR
   \   000024   FF           MOV       R7,A
   \   000025   7412         MOV       A,#0x12
   \   000027   12....       LCALL     ?XSTACK_DISP0_8
   \   00002A   E0           MOVX      A,@DPTR
   \   00002B   F5..         MOV       ?V0,A
   \   00002D   7413         MOV       A,#0x13
   \   00002F   12....       LCALL     ?XSTACK_DISP0_8
   \   000032   E0           MOVX      A,@DPTR
   \   000033   F5..         MOV       ?V1,A
   1912          
   1913            // Send message for either commands received or generated
   1914            if ( cmdType == ZCL_CMD_DISCOVER_CMDS_RECEIVED )
   \   000035   740E         MOV       A,#0xe
   \   000037   12....       LCALL     ?XSTACK_DISP0_8
   \   00003A   E0           MOVX      A,@DPTR
   \   00003B   6411         XRL       A,#0x11
   \   00003D   A8..         MOV       R0,?XSP + 0
   \   00003F   A9..         MOV       R1,?XSP + 1
   \   000041   88..         MOV       ?V2,R0
   \   000043   89..         MOV       ?V3,R1
   \   000045   78..         MOV       R0,#?V2
   \   000047   7035         JNZ       ??zcl_SendDiscoverCmdsCmd_0
   1915            {
   1916              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DISCOVER_CMDS_RECEIVED, FALSE,
   1917                                          direction, disableDefaultRsp, 0, seqNum, sizeof(payload), payload );
   \   000049                ; Setup parameters for call to function zcl_SendCommand
   \   000049   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00004C   75..02       MOV       ?V2,#0x2
   \   00004F   75..00       MOV       ?V3,#0x0
   \   000052   78..         MOV       R0,#?V2
   \   000054   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000057   78..         MOV       R0,#?V1
   \   000059   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00005C   E4           CLR       A
   \   00005D   F5..         MOV       ?V2,A
   \   00005F   78..         MOV       R0,#?V2
   \   000061   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000064   78..         MOV       R0,#?V0
   \   000066   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000069   EF           MOV       A,R7
   \   00006A   F5..         MOV       ?V0,A
   \   00006C   78..         MOV       R0,#?V0
   \   00006E   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000071   75..00       MOV       ?V0,#0x0
   \   000074   78..         MOV       R0,#?V0
   \   000076   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000079   75..11       MOV       ?V0,#0x11
   \   00007C   8033         SJMP      ??zcl_SendDiscoverCmdsCmd_1
   1918            }
   1919            else  // generated
   1920            {
   1921              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DISCOVER_CMDS_GEN, FALSE,
   1922                                          direction, disableDefaultRsp, 0, seqNum, sizeof(payload), payload );
   \                     ??zcl_SendDiscoverCmdsCmd_0:
   \   00007E                ; Setup parameters for call to function zcl_SendCommand
   \   00007E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000081   75..02       MOV       ?V2,#0x2
   \   000084   75..00       MOV       ?V3,#0x0
   \   000087   78..         MOV       R0,#?V2
   \   000089   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00008C   78..         MOV       R0,#?V1
   \   00008E   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000091   E4           CLR       A
   \   000092   F5..         MOV       ?V2,A
   \   000094   78..         MOV       R0,#?V2
   \   000096   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000099   78..         MOV       R0,#?V0
   \   00009B   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00009E   EF           MOV       A,R7
   \   00009F   F5..         MOV       ?V0,A
   \   0000A1   78..         MOV       R0,#?V0
   \   0000A3   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000A6   75..00       MOV       ?V0,#0x0
   \   0000A9   78..         MOV       R0,#?V0
   \   0000AB   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000AE   75..13       MOV       ?V0,#0x13
   \                     ??zcl_SendDiscoverCmdsCmd_1:
   \   0000B1   78..         MOV       R0,#?V0
   \   0000B3   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000B6   EE           MOV       A,R6
   \   0000B7   F9           MOV       R1,A
   \   0000B8   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0000BB   740B         MOV       A,#0xb
   \   0000BD   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000C0   E9           MOV       A,R1
   \   0000C1   F9           MOV       R1,A
   1923            }
   1924          
   1925            return ( status );
   \   0000C2   7402         MOV       A,#0x2
   \   0000C4   02....       LJMP      ?Subroutine4 & 0xFFFF
   1926          }
   1927          
   1928          /*********************************************************************
   1929           * @fn      zcl_SendDiscoverCmdsRspCmd
   1930           *
   1931           * @brief   Send a Discover Commands Response command
   1932           *
   1933           * @param   dstAddr - destination address
   1934           * @param   clusterID - cluster ID
   1935           * @param   pDiscoverRspCmd - response command to be sent
   1936           * @param   direction - direction of the command
   1937           * @param   seqNum - transaction sequence number
   1938           *
   1939           * @return  ZSuccess if OK
   1940           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1941          ZStatus_t zcl_SendDiscoverCmdsRspCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendDiscoverCmdsRspCmd:
   1942                                                uint16 clusterID, zclDiscoverCmdsCmdRsp_t *pDiscoverRspCmd,
   1943                                                uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   1944          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000   74EA         MOV       A,#-0x16
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V11,R1
   \   000007   8A..         MOV       ?V8,R2
   \   000009   8B..         MOV       ?V9,R3
   \   00000B   EC           MOV       A,R4
   \   00000C   FE           MOV       R6,A
   \   00000D   ED           MOV       A,R5
   \   00000E   FF           MOV       R7,A
   \   00000F   7416         MOV       A,#0x16
   \   000011   12....       LCALL     ?XSTACK_DISP0_8
   \   000014   12....       LCALL     ??Subroutine255_0 & 0xFFFF
   1945            uint8 payloadSize = ( 1 + pDiscoverRspCmd->numCmd );  // size of discovery complete field plus cmds
   \                     ??CrossCallReturnLabel_629:
   \   000017   E5..         MOV       A,?V2
   \   000019   2402         ADD       A,#0x2
   \   00001B   F5..         MOV       ?V4,A
   \   00001D   E4           CLR       A
   \   00001E   35..         ADDC      A,?V3
   \   000020   F5..         MOV       ?V5,A
   \   000022   85..82       MOV       DPL,?V4
   \   000025   F583         MOV       DPH,A
   \   000027   E0           MOVX      A,@DPTR
   \   000028   04           INC       A
   1946            uint8 *pCmdBuf;
   1947            uint8 i;
   1948            ZStatus_t status = ZSuccess;
   \   000029   75..00       MOV       ?V10,#0x0
   1949          
   1950            // allocate memory
   1951            pCmdBuf = zcl_mem_alloc( payloadSize );
   \   00002C   F5..         MOV       ?V6,A
   \   00002E   75..00       MOV       ?V7,#0x0
   \   000031                ; Setup parameters for call to function osal_mem_alloc
   \   000031   FA           MOV       R2,A
   \   000032   AB..         MOV       R3,?V7
   \   000034   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000037   8A..         MOV       ?V0,R2
   \   000039   8B..         MOV       ?V1,R3
   1952            if ( pCmdBuf != NULL )
   \   00003B   EA           MOV       A,R2
   \   00003C   45..         ORL       A,?V1
   \   00003E   7003         JNZ       $+5
   \   000040   02....       LJMP      ??zcl_SendDiscoverCmdsRspCmd_0 & 0xFFFF
   1953            {
   1954              uint8 *pBuf = pCmdBuf;
   \   000043   A8..         MOV       R0,?V0
   \   000045   A9..         MOV       R1,?V1
   1955          
   1956              // Load the buffer - serially
   1957              *pBuf++ = pDiscoverRspCmd->discComplete;
   \   000047   85..82       MOV       DPL,?V2
   \   00004A   85..83       MOV       DPH,?V3
   \   00004D   12....       LCALL     ?Subroutine46 & 0xFFFF
   1958              for ( i = 0; i < pDiscoverRspCmd->numCmd; i++ )
   \                     ??CrossCallReturnLabel_60:
   \   000050   801D         SJMP      ??zcl_SendDiscoverCmdsRspCmd_1
   1959              {
   1960                *pBuf++ = pDiscoverRspCmd->pCmdID[i];
   \                     ??zcl_SendDiscoverCmdsRspCmd_2:
   \   000052   EA           MOV       A,R2
   \   000053   FC           MOV       R4,A
   \   000054   85..82       MOV       DPL,?V2
   \   000057   85..83       MOV       DPH,?V3
   \   00005A   A3           INC       DPTR
   \   00005B   A3           INC       DPTR
   \   00005C   A3           INC       DPTR
   \   00005D   E0           MOVX      A,@DPTR
   \   00005E   2C           ADD       A,R4
   \   00005F   FB           MOV       R3,A
   \   000060   A3           INC       DPTR
   \   000061   E0           MOVX      A,@DPTR
   \   000062   3400         ADDC      A,#0x0
   \   000064   8B82         MOV       DPL,R3
   \   000066   12....       LCALL     ?Subroutine89 & 0xFFFF
   1961              }
   \                     ??CrossCallReturnLabel_368:
   \   000069   A3           INC       DPTR
   \   00006A   A882         MOV       R0,DPL
   \   00006C   A983         MOV       R1,DPH
   \   00006E   0A           INC       R2
   \                     ??zcl_SendDiscoverCmdsRspCmd_1:
   \   00006F   85..82       MOV       DPL,?V4
   \   000072   85..83       MOV       DPH,?V5
   \   000075   E0           MOVX      A,@DPTR
   \   000076   FB           MOV       R3,A
   \   000077   EA           MOV       A,R2
   \   000078   C3           CLR       C
   \   000079   9B           SUBB      A,R3
   \   00007A   40D6         JC        ??zcl_SendDiscoverCmdsRspCmd_2
   1962          
   1963              // Send response message for either commands received or generated
   1964              if( pDiscoverRspCmd->cmdType == ZCL_CMD_DISCOVER_CMDS_RECEIVED )
   \   00007C   85..82       MOV       DPL,?V2
   \   00007F   85..83       MOV       DPH,?V3
   \   000082   A3           INC       DPTR
   \   000083   E0           MOVX      A,@DPTR
   \   000084   F8           MOV       R0,A
   \   000085   7418         MOV       A,#0x18
   \   000087   12....       LCALL     ?XSTACK_DISP0_8
   \   00008A   E0           MOVX      A,@DPTR
   \   00008B   F9           MOV       R1,A
   \   00008C   7419         MOV       A,#0x19
   \   00008E   12....       LCALL     ?XSTACK_DISP0_8
   \   000091   E0           MOVX      A,@DPTR
   \   000092   FA           MOV       R2,A
   \   000093   741A         MOV       A,#0x1a
   \   000095   12....       LCALL     ?XSTACK_DISP0_8
   \   000098   E0           MOVX      A,@DPTR
   \   000099   FB           MOV       R3,A
   \   00009A   7411         MOV       A,#0x11
   \   00009C   68           XRL       A,R0
   \   00009D   7039         JNZ       ??zcl_SendDiscoverCmdsRspCmd_3
   1965              {
   1966                status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DISCOVER_CMDS_RECEIVED_RSP, FALSE,
   1967                                          direction, disableDefaultRsp, 0, seqNum, payloadSize, pCmdBuf );
   \   00009F                ; Setup parameters for call to function zcl_SendCommand
   \   00009F   78..         MOV       R0,#?V0
   \   0000A1   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000A4   78..         MOV       R0,#?V6
   \   0000A6   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000A9   EB           MOV       A,R3
   \   0000AA   F5..         MOV       ?V2,A
   \   0000AC   78..         MOV       R0,#?V2
   \   0000AE   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000B1   E4           CLR       A
   \   0000B2   F5..         MOV       ?V2,A
   \   0000B4   F5..         MOV       ?V3,A
   \   0000B6   78..         MOV       R0,#?V2
   \   0000B8   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000BB   EA           MOV       A,R2
   \   0000BC   F5..         MOV       ?V2,A
   \   0000BE   78..         MOV       R0,#?V2
   \   0000C0   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000C3   E9           MOV       A,R1
   \   0000C4   F5..         MOV       ?V2,A
   \   0000C6   78..         MOV       R0,#?V2
   \   0000C8   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000CB   75..00       MOV       ?V2,#0x0
   \   0000CE   78..         MOV       R0,#?V2
   \   0000D0   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000D3   75..12       MOV       ?V2,#0x12
   \   0000D6   803C         SJMP      ??zcl_SendDiscoverCmdsRspCmd_4
   1968              }
   1969              else if ( pDiscoverRspCmd->cmdType == ZCL_CMD_DISCOVER_CMDS_GEN )
   \                     ??zcl_SendDiscoverCmdsRspCmd_3:
   \   0000D8   7413         MOV       A,#0x13
   \   0000DA   68           XRL       A,R0
   \   0000DB   7051         JNZ       ??zcl_SendDiscoverCmdsRspCmd_5
   1970              {
   1971                status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DISCOVER_CMDS_GEN_RSP, FALSE,
   1972                                          direction, disableDefaultRsp, 0, seqNum, payloadSize, pCmdBuf );
   \   0000DD                ; Setup parameters for call to function zcl_SendCommand
   \   0000DD   78..         MOV       R0,#?V0
   \   0000DF   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000E2   78..         MOV       R0,#?V6
   \   0000E4   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000E7   EB           MOV       A,R3
   \   0000E8   F5..         MOV       ?V2,A
   \   0000EA   78..         MOV       R0,#?V2
   \   0000EC   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000EF   E4           CLR       A
   \   0000F0   F5..         MOV       ?V2,A
   \   0000F2   F5..         MOV       ?V3,A
   \   0000F4   78..         MOV       R0,#?V2
   \   0000F6   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000F9   EA           MOV       A,R2
   \   0000FA   F5..         MOV       ?V2,A
   \   0000FC   78..         MOV       R0,#?V2
   \   0000FE   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000101   E9           MOV       A,R1
   \   000102   F5..         MOV       ?V2,A
   \   000104   78..         MOV       R0,#?V2
   \   000106   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000109   75..00       MOV       ?V2,#0x0
   \   00010C   78..         MOV       R0,#?V2
   \   00010E   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000111   75..14       MOV       ?V2,#0x14
   \                     ??zcl_SendDiscoverCmdsRspCmd_4:
   \   000114   78..         MOV       R0,#?V2
   \   000116   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000119   EE           MOV       A,R6
   \   00011A   FC           MOV       R4,A
   \   00011B   EF           MOV       A,R7
   \   00011C   FD           MOV       R5,A
   \   00011D   AA..         MOV       R2,?V8
   \   00011F   AB..         MOV       R3,?V9
   \   000121   A9..         MOV       R1,?V11
   \   000123   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   000126   740B         MOV       A,#0xb
   \   000128   12....       LCALL     ?DEALLOC_XSTACK8
   \   00012B   E9           MOV       A,R1
   \   00012C   F5..         MOV       ?V10,A
   1973              }
   1974          
   1975              zcl_mem_free( pCmdBuf );
   \                     ??zcl_SendDiscoverCmdsRspCmd_5:
   \   00012E                ; Setup parameters for call to function osal_mem_free
   \   00012E   AA..         MOV       R2,?V0
   \   000130   AB..         MOV       R3,?V1
   \   000132   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   000135   8003         SJMP      ??zcl_SendDiscoverCmdsRspCmd_6
   1976            }
   1977            else
   1978            {
   1979              status = ZMemError;
   \                     ??zcl_SendDiscoverCmdsRspCmd_0:
   \   000137   75..10       MOV       ?V10,#0x10
   1980            }
   1981          
   1982            return ( status );
   \                     ??zcl_SendDiscoverCmdsRspCmd_6:
   \   00013A   A9..         MOV       R1,?V10
   \   00013C   02....       LJMP      ??Subroutine206_0 & 0xFFFF
   1983          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine46:
   \   000000   12....       LCALL     ?Subroutine178 & 0xFFFF
   \                     ??CrossCallReturnLabel_370:
   \   000003   F0           MOVX      @DPTR,A
   \   000004   A3           INC       DPTR
   \   000005   A882         MOV       R0,DPL
   \   000007   A983         MOV       R1,DPH
   \   000009   7A00         MOV       R2,#0x0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine255_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V2,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   F5..         MOV       ?V3,A
   \   000007   22           RET
   1984          
   1985          /*********************************************************************
   1986           * @fn      zcl_SendDiscoverAttrsCmd
   1987           *
   1988           * @brief   Send a Discover Attributes command
   1989           *
   1990           * @param   dstAddr - destination address
   1991           * @param   clusterID - cluster ID
   1992           * @param   pDiscoverCmd - discover command to be sent
   1993           * @param   direction - direction of the command
   1994           * @param   seqNum - transaction sequence number
   1995           *
   1996           * @return  ZSuccess if OK
   1997           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1998          ZStatus_t zcl_SendDiscoverAttrsCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendDiscoverAttrsCmd:
   1999                                      uint16 clusterID, zclDiscoverAttrsCmd_t *pDiscoverCmd,
   2000                                      uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   2001          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V2,R1
   \   000007   EA           MOV       A,R2
   \   000008   FE           MOV       R6,A
   \   000009   EB           MOV       A,R3
   \   00000A   FF           MOV       R7,A
   \   00000B   8C..         MOV       ?V0,R4
   \   00000D   8D..         MOV       ?V1,R5
   2002            uint8 dataLen = 2 + 1; // Start Attribute ID and Max Attribute IDs
   2003            uint8 *buf;
   2004            ZStatus_t status;
   2005          
   2006            buf = zcl_mem_alloc( dataLen );
   \   00000F                ; Setup parameters for call to function osal_mem_alloc
   \   00000F   7A03         MOV       R2,#0x3
   \   000011   7B00         MOV       R3,#0x0
   \   000013   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000016   8A..         MOV       ?V4,R2
   \   000018   8B..         MOV       ?V5,R3
   2007            if ( buf != NULL )
   \   00001A   EA           MOV       A,R2
   \   00001B   45..         ORL       A,?V5
   \   00001D   7003         JNZ       $+5
   \   00001F   02....       LJMP      ??zcl_SendDiscoverAttrsCmd_0 & 0xFFFF
   \   000022   7410         MOV       A,#0x10
   \   000024   12....       LCALL     ?XSTACK_DISP0_8
   \   000027   12....       LCALL     ?Subroutine103 & 0xFFFF
   2008            {
   2009              // Load the buffer - serially
   2010              uint8 *pBuf = buf;
   2011              *pBuf++ = LO_UINT16(pDiscoverCmd->startAttr);
   \                     ??CrossCallReturnLabel_177:
   \   00002A   12....       LCALL     ??Subroutine208_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_386:
   \   00002D   12....       LCALL     ??Subroutine207_0 & 0xFFFF
   2012              *pBuf++ = HI_UINT16(pDiscoverCmd->startAttr);
   \                     ??CrossCallReturnLabel_376:
   \   000030   8A82         MOV       DPL,R2
   \   000032   8B83         MOV       DPH,R3
   \   000034   A3           INC       DPTR
   \   000035   12....       LCALL     ?Subroutine47 & 0xFFFF
   2013              *pBuf++ = pDiscoverCmd->maxAttrIDs;
   \                     ??CrossCallReturnLabel_62:
   \   000038   8A82         MOV       DPL,R2
   \   00003A   8B83         MOV       DPH,R3
   \   00003C   A3           INC       DPTR
   \   00003D   A3           INC       DPTR
   \   00003E   F0           MOVX      @DPTR,A
   2014          
   2015              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DISCOVER_ATTRS, FALSE,
   2016                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   \   00003F                ; Setup parameters for call to function zcl_SendCommand
   \   00003F   78..         MOV       R0,#?V4
   \   000041   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000044   75..03       MOV       ?V6,#0x3
   \   000047   75..00       MOV       ?V7,#0x0
   \   00004A   78..         MOV       R0,#?V6
   \   00004C   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00004F   7418         MOV       A,#0x18
   \   000051   12....       LCALL     ?XSTACK_DISP0_8
   \   000054   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_80:
   \   000057   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00005A   E4           CLR       A
   \   00005B   F5..         MOV       ?V6,A
   \   00005D   78..         MOV       R0,#?V6
   \   00005F   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000062   741A         MOV       A,#0x1a
   \   000064   12....       LCALL     ?XSTACK_DISP0_8
   \   000067   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_81:
   \   00006A   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00006D   741A         MOV       A,#0x1a
   \   00006F   12....       LCALL     ?XSTACK_DISP0_8
   \   000072   12....       LCALL     ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   000075   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000078   75..00       MOV       ?V3,#0x0
   \   00007B   78..         MOV       R0,#?V3
   \   00007D   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000080   75..0C       MOV       ?V3,#0xc
   \   000083   78..         MOV       R0,#?V3
   \   000085   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000088   AC..         MOV       R4,?V0
   \   00008A   AD..         MOV       R5,?V1
   \   00008C   EE           MOV       A,R6
   \   00008D   FA           MOV       R2,A
   \   00008E   EF           MOV       A,R7
   \   00008F   FB           MOV       R3,A
   \   000090   A9..         MOV       R1,?V2
   \   000092   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   000095   740B         MOV       A,#0xb
   \   000097   12....       LCALL     ?DEALLOC_XSTACK8
   \   00009A   E9           MOV       A,R1
   \   00009B   FE           MOV       R6,A
   2017              zcl_mem_free( buf );
   \   00009C                ; Setup parameters for call to function osal_mem_free
   \   00009C   AA..         MOV       R2,?V4
   \   00009E   AB..         MOV       R3,?V5
   \   0000A0   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0000A3   8002         SJMP      ??zcl_SendDiscoverAttrsCmd_1
   2018            }
   2019            else
   2020            {
   2021              status = ZMemError;
   \                     ??zcl_SendDiscoverAttrsCmd_0:
   \   0000A5   7E10         MOV       R6,#0x10
   2022            }
   2023          
   2024            return ( status );
   \                     ??zcl_SendDiscoverAttrsCmd_1:
   \   0000A7   EE           MOV       A,R6
   \   0000A8   F9           MOV       R1,A
   \   0000A9   02....       LJMP      ??Subroutine219_0 & 0xFFFF
   2025          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine47:
   \   000000   12....       LCALL     ?Subroutine158 & 0xFFFF
   \                     ??CrossCallReturnLabel_380:
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine219_0:
   \   000000   7F08         MOV       R7,#0x8
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA
   2026          
   2027          /*********************************************************************
   2028           * @fn      zcl_SendDiscoverAttrsRspCmd
   2029           *
   2030           * @brief   Send a Discover Attributes Response command
   2031           *
   2032           * @param   dstAddr - destination address
   2033           * @param   clusterID - cluster ID
   2034           * @param   reportRspCmd - report response command to be sent
   2035           * @param   direction - direction of the command
   2036           * @param   seqNum - transaction sequence number
   2037           *
   2038           * @return  ZSuccess if OK
   2039           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2040          ZStatus_t zcl_SendDiscoverAttrsRspCmd( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendDiscoverAttrsRspCmd:
   2041                                    uint16 clusterID, zclDiscoverAttrsRspCmd_t *pDiscoverRspCmd,
   2042                                    uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   2043          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000                REQUIRE ?V14
   \   000000                REQUIRE ?V15
   \   000000   74E8         MOV       A,#-0x18
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V8,R1
   \   000007   8A..         MOV       ?V10,R2
   \   000009   8B..         MOV       ?V11,R3
   \   00000B   EC           MOV       A,R4
   \   00000C   FE           MOV       R6,A
   \   00000D   ED           MOV       A,R5
   \   00000E   FF           MOV       R7,A
   \   00000F   7418         MOV       A,#0x18
   \   000011   12....       LCALL     ?XSTACK_DISP0_8
   \   000014   12....       LCALL     ?Subroutine67 & 0xFFFF
   2044            uint16 dataLen = 1; // Discovery complete
   2045            uint8 *buf;
   2046            ZStatus_t status;
   2047          
   2048            // calculate the size of the command
   2049            dataLen += pDiscoverRspCmd->numAttr * (2 + 1); // Attribute ID and Data Type
   \                     ??CrossCallReturnLabel_114:
   \   000017   75F003       MOV       B,#0x3
   \   00001A   A4           MUL       AB
   \   00001B   A9F0         MOV       R1,B
   \   00001D   2401         ADD       A,#0x1
   \   00001F   F5..         MOV       ?V6,A
   \   000021   E4           CLR       A
   \   000022   39           ADDC      A,R1
   \   000023   F5..         MOV       ?V7,A
   2050          
   2051            buf = zcl_mem_alloc( dataLen );
   \   000025                ; Setup parameters for call to function osal_mem_alloc
   \   000025   AA..         MOV       R2,?V6
   \   000027   FB           MOV       R3,A
   \   000028   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   00002B   8A..         MOV       ?V0,R2
   \   00002D   8B..         MOV       ?V1,R3
   2052            if ( buf != NULL )
   \   00002F   EA           MOV       A,R2
   \   000030   45..         ORL       A,?V1
   \   000032   7003         JNZ       $+5
   \   000034   02....       LJMP      ??zcl_SendDiscoverAttrsRspCmd_0 & 0xFFFF
   2053            {
   2054              // Load the buffer - serially
   2055              uint8 i;
   2056              uint8 *pBuf = buf;
   \   000037   A8..         MOV       R0,?V0
   \   000039   A9..         MOV       R1,?V1
   2057          
   2058              *pBuf++ = pDiscoverRspCmd->discComplete;
   \   00003B   85..82       MOV       DPL,?V4
   \   00003E   85..83       MOV       DPH,?V5
   \   000041   12....       LCALL     ?Subroutine46 & 0xFFFF
   2059          
   2060              for ( i = 0; i < pDiscoverRspCmd->numAttr; i++ )
   \                     ??CrossCallReturnLabel_61:
   \   000044   802E         SJMP      ??zcl_SendDiscoverAttrsRspCmd_1
   2061              {
   2062                *pBuf++ = LO_UINT16(pDiscoverRspCmd->attrList[i].attrID);
   \                     ??zcl_SendDiscoverAttrsRspCmd_2:
   \   000046   EA           MOV       A,R2
   \   000047   75F003       MOV       B,#0x3
   \   00004A   A4           MUL       AB
   \   00004B   FC           MOV       R4,A
   \   00004C   ADF0         MOV       R5,B
   \   00004E   E5..         MOV       A,?V4
   \   000050   2C           ADD       A,R4
   \   000051   FC           MOV       R4,A
   \   000052   E5..         MOV       A,?V5
   \   000054   3D           ADDC      A,R5
   \   000055   12....       LCALL     ?Subroutine130 & 0xFFFF
   2063                *pBuf++ = HI_UINT16(pDiscoverRspCmd->attrList[i].attrID);
   2064                *pBuf++ = pDiscoverRspCmd->attrList[i].dataType;
   2065              }
   \                     ??CrossCallReturnLabel_227:
   \   000058   12....       LCALL     ?Subroutine112 & 0xFFFF
   \                     ??CrossCallReturnLabel_196:
   \   00005B   12....       LCALL     ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   00005E   8882         MOV       DPL,R0
   \   000060   8983         MOV       DPH,R1
   \   000062   12....       LCALL     ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   000065   8882         MOV       DPL,R0
   \   000067   8983         MOV       DPH,R1
   \   000069   A3           INC       DPTR
   \   00006A   A3           INC       DPTR
   \   00006B   F0           MOVX      @DPTR,A
   \   00006C   E8           MOV       A,R0
   \   00006D   2403         ADD       A,#0x3
   \   00006F   F8           MOV       R0,A
   \   000070   5001         JNC       ??zcl_SendDiscoverAttrsRspCmd_3
   \   000072   09           INC       R1
   \                     ??zcl_SendDiscoverAttrsRspCmd_3:
   \   000073   0A           INC       R2
   \                     ??zcl_SendDiscoverAttrsRspCmd_1:
   \   000074   85..82       MOV       DPL,?V2
   \   000077   85..83       MOV       DPH,?V3
   \   00007A   E0           MOVX      A,@DPTR
   \   00007B   FB           MOV       R3,A
   \   00007C   EA           MOV       A,R2
   \   00007D   C3           CLR       C
   \   00007E   9B           SUBB      A,R3
   \   00007F   40C5         JC        ??zcl_SendDiscoverAttrsRspCmd_2
   2066          
   2067              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DISCOVER_ATTRS_RSP, FALSE,
   2068                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   \   000081                ; Setup parameters for call to function zcl_SendCommand
   \   000081   78..         MOV       R0,#?V0
   \   000083   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000086   78..         MOV       R0,#?V6
   \   000088   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00008B   7420         MOV       A,#0x20
   \   00008D   12....       LCALL     ?XSTACK_DISP0_8
   \   000090   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_397:
   \   000093   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000096   E4           CLR       A
   \   000097   F5..         MOV       ?V2,A
   \   000099   F5..         MOV       ?V3,A
   \   00009B   78..         MOV       R0,#?V2
   \   00009D   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000A0   7422         MOV       A,#0x22
   \   0000A2   12....       LCALL     ?XSTACK_DISP0_8
   \   0000A5   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_398:
   \   0000A8   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000AB   7422         MOV       A,#0x22
   \   0000AD   12....       LCALL     ?XSTACK_DISP0_8
   \   0000B0   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_399:
   \   0000B3   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000B6   75..00       MOV       ?V2,#0x0
   \   0000B9   78..         MOV       R0,#?V2
   \   0000BB   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000BE   75..0D       MOV       ?V2,#0xd
   \   0000C1   78..         MOV       R0,#?V2
   \   0000C3   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000C6   EE           MOV       A,R6
   \   0000C7   FC           MOV       R4,A
   \   0000C8   EF           MOV       A,R7
   \   0000C9   FD           MOV       R5,A
   \   0000CA   AA..         MOV       R2,?V10
   \   0000CC   AB..         MOV       R3,?V11
   \   0000CE   A9..         MOV       R1,?V8
   \   0000D0   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0000D3   740B         MOV       A,#0xb
   \   0000D5   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000D8   E9           MOV       A,R1
   \   0000D9   FE           MOV       R6,A
   2069              zcl_mem_free( buf );
   \   0000DA                ; Setup parameters for call to function osal_mem_free
   \   0000DA   AA..         MOV       R2,?V0
   \   0000DC   AB..         MOV       R3,?V1
   \   0000DE   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0000E1   8002         SJMP      ??zcl_SendDiscoverAttrsRspCmd_4
   2070            }
   2071            else
   2072            {
   2073              status = ZMemError;
   \                     ??zcl_SendDiscoverAttrsRspCmd_0:
   \   0000E3   7E10         MOV       R6,#0x10
   2074            }
   2075          
   2076            return ( status );
   \                     ??zcl_SendDiscoverAttrsRspCmd_4:
   \   0000E5                REQUIRE ?Subroutine13
   \   0000E5                ; // Fall through to label ?Subroutine13
   2077          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   EE           MOV       A,R6
   \   000001   F9           MOV       R1,A
   \   000002   02....       LJMP      ??Subroutine244_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine130:
   \   000000   FD           MOV       R5,A
   \   000001   EC           MOV       A,R4
   \   000002   2402         ADD       A,#0x2
   \   000004   F5..         MOV       ?V12,A
   \   000006   E4           CLR       A
   \   000007   3D           ADDC      A,R5
   \   000008   F5..         MOV       ?V13,A
   \   00000A   85..82       MOV       DPL,?V12
   \   00000D   F583         MOV       DPH,A
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine67:
   \   000000   12....       LCALL     ?Subroutine169 & 0xFFFF
   \                     ??CrossCallReturnLabel_297:
   \   000003   A3           INC       DPTR
   \   000004   8582..       MOV       ?V2,DPL
   \   000007   8583..       MOV       ?V3,DPH
   \   00000A   E0           MOVX      A,@DPTR
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine41:
   \   000000   12....       LCALL     ?Subroutine157 & 0xFFFF
   \                     ??CrossCallReturnLabel_282:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine37:
   \   000000   A3           INC       DPTR
   \   000001   F0           MOVX      @DPTR,A
   \   000002   8C82         MOV       DPL,R4
   \   000004   8D83         MOV       DPH,R5
   \   000006   A3           INC       DPTR
   \   000007   A3           INC       DPTR
   \   000008   A3           INC       DPTR
   \   000009   A3           INC       DPTR
   \   00000A   E0           MOVX      A,@DPTR
   \   00000B   22           RET
   2078          
   2079          /*********************************************************************
   2080           * @fn      zcl_SendDiscoverAttrsExt
   2081           *
   2082           * @brief   Send a Discover Attributes Extended command
   2083           *
   2084           * @param   dstAddr - destination address
   2085           * @param   clusterID - cluster ID
   2086           * @param   pDiscoverAttrsExt:
   2087           *            - startAttrID: the first attribute to be selected
   2088           *            - maxAttrIDs: maximum number of returned attributes
   2089           * @param   direction - direction of the command
   2090           * @param   seqNum - transaction sequence number
   2091           *
   2092           * @return  ZSuccess if OK
   2093           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2094          ZStatus_t zcl_SendDiscoverAttrsExt( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendDiscoverAttrsExt:
   2095                                      uint16 clusterID, zclDiscoverAttrsCmd_t *pDiscoverAttrsExt,
   2096                                      uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   2097          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 3
   \   000005   74FD         MOV       A,#-0x3
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   89..         MOV       ?V0,R1
   \   00000C   740F         MOV       A,#0xf
   \   00000E   12....       LCALL     ?XSTACK_DISP0_8
   \   000011   12....       LCALL     ?Subroutine25 & 0xFFFF
   2098            uint8 buf[3];  // Buffer size equal to Start Attribute ID and Max Attribute IDs
   2099            ZStatus_t status;
   2100          
   2101            // Load the buffer - serially
   2102            buf[0] = LO_UINT16(pDiscoverAttrsExt->startAttr);
   2103            buf[1] = HI_UINT16(pDiscoverAttrsExt->startAttr);
   \                     ??CrossCallReturnLabel_375:
   \   000014   C0E0         PUSH      A
   \   000016   7401         MOV       A,#0x1
   \   000018   12....       LCALL     ?XSTACK_DISP0_8
   \   00001B   D0E0         POP       A
   \   00001D   12....       LCALL     ?Subroutine47 & 0xFFFF
   2104            buf[2] = pDiscoverAttrsExt->maxAttrIDs;
   \                     ??CrossCallReturnLabel_63:
   \   000020   C0E0         PUSH      A
   \   000022   7402         MOV       A,#0x2
   \   000024   12....       LCALL     ?XSTACK_DISP0_8
   \   000027   D0E0         POP       A
   \   000029   F0           MOVX      @DPTR,A
   2105          
   2106            status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DISCOVER_ATTRS_EXT, FALSE,
   2107                                      direction, disableDefaultRsp, 0, seqNum, sizeof( buf ), buf );
   2108          
   2109            return ( status );
   \   00002A                ; Setup parameters for call to function zcl_SendCommand
   \   00002A   A8..         MOV       R0,?XSP + 0
   \   00002C   A9..         MOV       R1,?XSP + 1
   \   00002E   88..         MOV       ?V2,R0
   \   000030   89..         MOV       ?V3,R1
   \   000032   78..         MOV       R0,#?V2
   \   000034   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000037   75..03       MOV       ?V2,#0x3
   \   00003A   75..00       MOV       ?V3,#0x0
   \   00003D   78..         MOV       R0,#?V2
   \   00003F   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000042   7417         MOV       A,#0x17
   \   000044   12....       LCALL     ?XSTACK_DISP0_8
   \   000047   E0           MOVX      A,@DPTR
   \   000048   F5..         MOV       ?V1,A
   \   00004A   78..         MOV       R0,#?V1
   \   00004C   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00004F   E4           CLR       A
   \   000050   F5..         MOV       ?V2,A
   \   000052   78..         MOV       R0,#?V2
   \   000054   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000057   7419         MOV       A,#0x19
   \   000059   12....       LCALL     ?XSTACK_DISP0_8
   \   00005C   E0           MOVX      A,@DPTR
   \   00005D   F5..         MOV       ?V1,A
   \   00005F   78..         MOV       R0,#?V1
   \   000061   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000064   7419         MOV       A,#0x19
   \   000066   12....       LCALL     ?XSTACK_DISP0_8
   \   000069   E0           MOVX      A,@DPTR
   \   00006A   F5..         MOV       ?V1,A
   \   00006C   78..         MOV       R0,#?V1
   \   00006E   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000071   75..00       MOV       ?V1,#0x0
   \   000074   78..         MOV       R0,#?V1
   \   000076   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000079   75..15       MOV       ?V1,#0x15
   \   00007C   78..         MOV       R0,#?V1
   \   00007E   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000081   A9..         MOV       R1,?V0
   \   000083   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   000086   740B         MOV       A,#0xb
   \   000088   12....       LCALL     ?DEALLOC_XSTACK8
   \   00008B   7403         MOV       A,#0x3
   \   00008D   02....       LJMP      ?Subroutine4 & 0xFFFF
   2110          }
   2111          
   2112          /*********************************************************************
   2113           * @fn      zcl_SendDiscoverAttrsExtRsp
   2114           *
   2115           * @brief   Send a Discover Attributes Extended Response command
   2116           *
   2117           * @param   dstAddr - destination address
   2118           * @param   clusterID - cluster ID
   2119           * @param   pDiscoverRspCmd:
   2120           *            - discComplete: indicates whether all requested attributes returned
   2121           *            - attrID: attribute ID
   2122           *            - attrDataType: data type of the given attribute
   2123           *            - attrAccessControl: access control of the given attribute
   2124           * @param   direction - direction of the command
   2125           * @param   seqNum - transaction sequence number
   2126           *
   2127           * @return  ZSuccess if OK
   2128           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2129          ZStatus_t zcl_SendDiscoverAttrsExtRsp( uint8 srcEP, afAddrType_t *dstAddr,
   \                     zcl_SendDiscoverAttrsExtRsp:
   2130                                                uint16 clusterID, zclDiscoverAttrsExtRsp_t *pDiscoverRspCmd,
   2131                                                uint8 direction, uint8 disableDefaultRsp, uint8 seqNum )
   2132          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000                REQUIRE ?V14
   \   000000                REQUIRE ?V15
   \   000000   74E8         MOV       A,#-0x18
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V10,R1
   \   000007   8A..         MOV       ?V8,R2
   \   000009   8B..         MOV       ?V9,R3
   \   00000B   EC           MOV       A,R4
   \   00000C   FE           MOV       R6,A
   \   00000D   ED           MOV       A,R5
   \   00000E   FF           MOV       R7,A
   \   00000F   7418         MOV       A,#0x18
   \   000011   12....       LCALL     ?XSTACK_DISP0_8
   \   000014   12....       LCALL     ?Subroutine67 & 0xFFFF
   2133            uint8 *buf;
   2134            uint8 i;
   2135            uint16 dataLen = 1; // Discovery complete
   2136            ZStatus_t status;
   2137          
   2138            // calculate the size of the command
   2139            dataLen += pDiscoverRspCmd->numAttr * (2 + 1 + 1); // Attribute ID, Data Type, and Access Control
   \                     ??CrossCallReturnLabel_115:
   \   000017   F5..         MOV       ?V0,A
   \   000019   75..00       MOV       ?V1,#0x0
   \   00001C   7402         MOV       A,#0x2
   \   00001E   78..         MOV       R0,#?V0
   \   000020   12....       LCALL     ?S_SHL
   \   000023   E5..         MOV       A,?V0
   \   000025   2401         ADD       A,#0x1
   \   000027   F5..         MOV       ?V6,A
   \   000029   E4           CLR       A
   \   00002A   35..         ADDC      A,?V1
   \   00002C   F5..         MOV       ?V7,A
   2140          
   2141            buf = zcl_mem_alloc( dataLen );
   \   00002E                ; Setup parameters for call to function osal_mem_alloc
   \   00002E   AA..         MOV       R2,?V6
   \   000030   FB           MOV       R3,A
   \   000031   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000034   8A..         MOV       ?V0,R2
   \   000036   8B..         MOV       ?V1,R3
   2142            if ( buf != NULL )
   \   000038   EA           MOV       A,R2
   \   000039   45..         ORL       A,?V1
   \   00003B   7003         JNZ       $+5
   \   00003D   02....       LJMP      ??zcl_SendDiscoverAttrsExtRsp_0 & 0xFFFF
   2143            {
   2144              // Load the buffer - serially
   2145              uint8 *pBuf = buf;
   2146              *pBuf++ = pDiscoverRspCmd->discComplete;
   \   000040   85..82       MOV       DPL,?V4
   \   000043   85..83       MOV       DPH,?V5
   \   000046   12....       LCALL     ?Subroutine90 & 0xFFFF
   \                     ??CrossCallReturnLabel_153:
   \   000049   A3           INC       DPTR
   \   00004A   AA82         MOV       R2,DPL
   \   00004C   AB83         MOV       R3,DPH
   2147              for ( i = 0; i < pDiscoverRspCmd->numAttr; i++ )
   \   00004E   7900         MOV       R1,#0x0
   \   000050   8034         SJMP      ??zcl_SendDiscoverAttrsExtRsp_1
   2148              {
   2149                *pBuf++ = LO_UINT16(pDiscoverRspCmd->aExtAttrInfo[i].attrID);
   \                     ??zcl_SendDiscoverAttrsExtRsp_2:
   \   000052   E9           MOV       A,R1
   \   000053   F5..         MOV       ?V12,A
   \   000055   75..00       MOV       ?V13,#0x0
   \   000058   7402         MOV       A,#0x2
   \   00005A   78..         MOV       R0,#?V12
   \   00005C   12....       LCALL     ?S_SHL
   \   00005F   E5..         MOV       A,?V4
   \   000061   25..         ADD       A,?V12
   \   000063   FC           MOV       R4,A
   \   000064   E5..         MOV       A,?V5
   \   000066   35..         ADDC      A,?V13
   \   000068   12....       LCALL     ?Subroutine130 & 0xFFFF
   2150                *pBuf++ = HI_UINT16(pDiscoverRspCmd->aExtAttrInfo[i].attrID);
   2151                *pBuf++ = pDiscoverRspCmd->aExtAttrInfo[i].attrDataType;
   2152                *pBuf++ = pDiscoverRspCmd->aExtAttrInfo[i].attrAccessControl;
   2153              }
   \                     ??CrossCallReturnLabel_228:
   \   00006B   12....       LCALL     ??Subroutine208_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_387:
   \   00006E   12....       LCALL     ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   000071   8A82         MOV       DPL,R2
   \   000073   8B83         MOV       DPH,R3
   \   000075   12....       LCALL     ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   000078   12....       LCALL     ?Subroutine42 & 0xFFFF
   \                     ??CrossCallReturnLabel_407:
   \   00007B   A3           INC       DPTR
   \   00007C   A3           INC       DPTR
   \   00007D   A3           INC       DPTR
   \   00007E   A3           INC       DPTR
   \   00007F   12....       LCALL     ?Subroutine83 & 0xFFFF
   \                     ??CrossCallReturnLabel_143:
   \   000082   5001         JNC       ??zcl_SendDiscoverAttrsExtRsp_3
   \   000084   0B           INC       R3
   \                     ??zcl_SendDiscoverAttrsExtRsp_3:
   \   000085   09           INC       R1
   \                     ??zcl_SendDiscoverAttrsExtRsp_1:
   \   000086   85..82       MOV       DPL,?V2
   \   000089   85..83       MOV       DPH,?V3
   \   00008C   E0           MOVX      A,@DPTR
   \   00008D   F8           MOV       R0,A
   \   00008E   E9           MOV       A,R1
   \   00008F   C3           CLR       C
   \   000090   98           SUBB      A,R0
   \   000091   40BF         JC        ??zcl_SendDiscoverAttrsExtRsp_2
   2154          
   2155              status = zcl_SendCommand( srcEP, dstAddr, clusterID, ZCL_CMD_DISCOVER_ATTRS_EXT_RSP, FALSE,
   2156                                        direction, disableDefaultRsp, 0, seqNum, dataLen, buf );
   \   000093                ; Setup parameters for call to function zcl_SendCommand
   \   000093   78..         MOV       R0,#?V0
   \   000095   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000098   78..         MOV       R0,#?V6
   \   00009A   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00009D   7420         MOV       A,#0x20
   \   00009F   12....       LCALL     ?XSTACK_DISP0_8
   \   0000A2   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_400:
   \   0000A5   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000A8   E4           CLR       A
   \   0000A9   F5..         MOV       ?V2,A
   \   0000AB   F5..         MOV       ?V3,A
   \   0000AD   78..         MOV       R0,#?V2
   \   0000AF   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000B2   7422         MOV       A,#0x22
   \   0000B4   12....       LCALL     ?XSTACK_DISP0_8
   \   0000B7   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_401:
   \   0000BA   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000BD   7422         MOV       A,#0x22
   \   0000BF   12....       LCALL     ?XSTACK_DISP0_8
   \   0000C2   12....       LCALL     ??Subroutine210_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_402:
   \   0000C5   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000C8   75..00       MOV       ?V2,#0x0
   \   0000CB   78..         MOV       R0,#?V2
   \   0000CD   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000D0   75..16       MOV       ?V2,#0x16
   \   0000D3   78..         MOV       R0,#?V2
   \   0000D5   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000D8   EE           MOV       A,R6
   \   0000D9   FC           MOV       R4,A
   \   0000DA   EF           MOV       A,R7
   \   0000DB   FD           MOV       R5,A
   \   0000DC   AA..         MOV       R2,?V8
   \   0000DE   AB..         MOV       R3,?V9
   \   0000E0   A9..         MOV       R1,?V10
   \   0000E2   12....       LCALL     `??zcl_SendCommand::?relay`; Banked call to: zcl_SendCommand
   \   0000E5   740B         MOV       A,#0xb
   \   0000E7   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000EA   E9           MOV       A,R1
   \   0000EB   FE           MOV       R6,A
   2157              zcl_mem_free( buf );
   \   0000EC                ; Setup parameters for call to function osal_mem_free
   \   0000EC   AA..         MOV       R2,?V0
   \   0000EE   AB..         MOV       R3,?V1
   \   0000F0   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   \   0000F3   8002         SJMP      ??zcl_SendDiscoverAttrsExtRsp_4
   2158            }
   2159            else
   2160            {
   2161              status = ZMemError;
   \                     ??zcl_SendDiscoverAttrsExtRsp_0:
   \   0000F5   7E10         MOV       R6,#0x10
   2162            }
   2163          
   2164            return ( status );
   \                     ??zcl_SendDiscoverAttrsExtRsp_4:
   \   0000F7   02....       LJMP      ?Subroutine13 & 0xFFFF
   2165          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine90:
   \   000000   12....       LCALL     ??Subroutine224_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_456:
   \   000003   F0           MOVX      @DPTR,A
   \   000004   22           RET
   2166          #endif // ZCL_DISCOVER
   2167          
   2168          /*********************************************************************
   2169           * @fn      zcl_ProcessMessageMSG
   2170           *
   2171           * @brief   Data message processor callback.  This function processes
   2172           *          any incoming data - probably from other devices.  So, based
   2173           *          on cluster ID, perform the intended action.
   2174           *
   2175           * @param   pkt - incoming message
   2176           *
   2177           * @return  zclProcMsgStatus_t
   2178           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2179          zclProcMsgStatus_t zcl_ProcessMessageMSG( afIncomingMSGPacket_t *pkt )
   \                     zcl_ProcessMessageMSG:
   2180          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000   74F1         MOV       A,#-0xf
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 21
   \   000005   74EB         MOV       A,#-0x15
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   EA           MOV       A,R2
   \   00000B   FE           MOV       R6,A
   \   00000C   EB           MOV       A,R3
   \   00000D   FF           MOV       R7,A
   2181            endPointDesc_t *epDesc;
   2182            zclIncoming_t inMsg;
   2183            zclLibPlugin_t *pInPlugin;
   2184            zclDefaultRspCmd_t defautlRspCmd;
   2185            uint8 options;
   2186            uint8 securityEnable;
   2187            uint8 interPanMsg;
   2188            ZStatus_t status = ZFailure;
   2189            uint8 defaultResponseSent = FALSE;
   \   00000E   C2..         CLR       ?VB.0
   2190          
   2191            if ( pkt->cmd.DataLength < ZCL_VALID_MIN_HEADER_LEN  )
   \   000010   EE           MOV       A,R6
   \   000011   2420         ADD       A,#0x20
   \   000013   F8           MOV       R0,A
   \   000014   E4           CLR       A
   \   000015   3F           ADDC      A,R7
   \   000016   F9           MOV       R1,A
   \   000017   88..         MOV       ?V0,R0
   \   000019   89..         MOV       ?V1,R1
   \   00001B   8882         MOV       DPL,R0
   \   00001D   F583         MOV       DPH,A
   \   00001F   C3           CLR       C
   \   000020   E0           MOVX      A,@DPTR
   \   000021   9403         SUBB      A,#0x3
   \   000023   A3           INC       DPTR
   \   000024   E0           MOVX      A,@DPTR
   \   000025   9400         SUBB      A,#0x0
   \   000027   5005         JNC       ??zcl_ProcessMessageMSG_0
   2192            {
   2193              return ( ZCL_PROC_INVALID );   // Error, ignore the message
   \   000029   7901         MOV       R1,#0x1
   \   00002B   02....       LJMP      ??zcl_ProcessMessageMSG_1 & 0xFFFF
   2194            }
   2195          
   2196            // Initialize
   2197            rawAFMsg = (afIncomingMSGPacket_t *)pkt;
   \                     ??zcl_ProcessMessageMSG_0:
   \   00002E   90....       MOV       DPTR,#rawAFMsg
   \   000031   EE           MOV       A,R6
   \   000032   F0           MOVX      @DPTR,A
   \   000033   A3           INC       DPTR
   \   000034   EF           MOV       A,R7
   \   000035   F0           MOVX      @DPTR,A
   2198            inMsg.msg = pkt;
   \   000036   7402         MOV       A,#0x2
   \   000038   12....       LCALL     ?XSTACK_DISP0_8
   \   00003B   EE           MOV       A,R6
   \   00003C   F0           MOVX      @DPTR,A
   \   00003D   A3           INC       DPTR
   \   00003E   EF           MOV       A,R7
   \   00003F   F0           MOVX      @DPTR,A
   2199            inMsg.attrCmd = NULL;
   \   000040   740E         MOV       A,#0xe
   \   000042   12....       LCALL     ?XSTACK_DISP0_8
   \   000045   E4           CLR       A
   \   000046   F0           MOVX      @DPTR,A
   \   000047   A3           INC       DPTR
   \   000048   F0           MOVX      @DPTR,A
   2200            inMsg.pData = NULL;
   \   000049   740A         MOV       A,#0xa
   \   00004B   12....       LCALL     ?XSTACK_DISP0_8
   \   00004E   E4           CLR       A
   \   00004F   F0           MOVX      @DPTR,A
   \   000050   A3           INC       DPTR
   \   000051   F0           MOVX      @DPTR,A
   2201            inMsg.pDataLen = 0;
   \   000052   740C         MOV       A,#0xc
   \   000054   12....       LCALL     ?XSTACK_DISP0_8
   \   000057   E4           CLR       A
   \   000058   F0           MOVX      @DPTR,A
   \   000059   A3           INC       DPTR
   \   00005A   F0           MOVX      @DPTR,A
   2202          
   2203            inMsg.pData = zclParseHdr( &(inMsg.hdr), pkt->cmd.Data );
   \   00005B   EE           MOV       A,R6
   \   00005C   2422         ADD       A,#0x22
   \   00005E   F8           MOV       R0,A
   \   00005F   E4           CLR       A
   \   000060   3F           ADDC      A,R7
   \   000061   F9           MOV       R1,A
   \   000062   88..         MOV       ?V2,R0
   \   000064   89..         MOV       ?V3,R1
   \   000066                ; Setup parameters for call to function zclParseHdr
   \   000066   8882         MOV       DPL,R0
   \   000068   F583         MOV       DPH,A
   \   00006A   12....       LCALL     ??Subroutine226_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_460:
   \   00006D   7404         MOV       A,#0x4
   \   00006F   12....       LCALL     ?XSTACK_DISP0_8
   \   000072   AA82         MOV       R2,DPL
   \   000074   AB83         MOV       R3,DPH
   \   000076   12....       LCALL     `??zclParseHdr::?relay`; Banked call to: zclParseHdr
   \   000079   8A..         MOV       ?V4,R2
   \   00007B   8B..         MOV       ?V5,R3
   \   00007D   A8..         MOV       R0,?V4
   \   00007F   A9..         MOV       R1,?V5
   \   000081   740A         MOV       A,#0xa
   \   000083   12....       LCALL     ?XSTACK_DISP0_8
   \   000086   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   2204            inMsg.pDataLen = pkt->cmd.DataLength;
   2205            inMsg.pDataLen -= (uint16)(inMsg.pData - pkt->cmd.Data);
   \                     ??CrossCallReturnLabel_512:
   \   000089   85..82       MOV       DPL,?V0
   \   00008C   85..83       MOV       DPH,?V1
   \   00008F   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_544:
   \   000092   EA           MOV       A,R2
   \   000093   C3           CLR       C
   \   000094   98           SUBB      A,R0
   \   000095   F8           MOV       R0,A
   \   000096   EB           MOV       A,R3
   \   000097   99           SUBB      A,R1
   \   000098   F9           MOV       R1,A
   \   000099   85..82       MOV       DPL,?V2
   \   00009C   85..83       MOV       DPH,?V3
   \   00009F   12....       LCALL     ?Subroutine188 & 0xFFFF
   \                     ??CrossCallReturnLabel_413:
   \   0000A2   740C         MOV       A,#0xc
   \   0000A4   12....       LCALL     ?XSTACK_DISP0_8
   \   0000A7   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   2206          
   2207            // Temporary workaround to allow callback functions access to the
   2208            // transaction sequence number.  Callback functions will call
   2209            // zcl_getParsedTransSeqNum() to retrieve this number.
   2210            savedZCLTransSeqNum = inMsg.hdr.transSeqNum;
   \                     ??CrossCallReturnLabel_513:
   \   0000AA   7408         MOV       A,#0x8
   \   0000AC   12....       LCALL     ?XSTACK_DISP0_8
   \   0000AF   E0           MOVX      A,@DPTR
   \   0000B0   90....       MOV       DPTR,#savedZCLTransSeqNum
   \   0000B3   F0           MOVX      @DPTR,A
   2211          
   2212            // Find the wanted endpoint
   2213            epDesc = afFindEndPointDesc( pkt->endPoint );
   \   0000B4   EE           MOV       A,R6
   \   0000B5   2414         ADD       A,#0x14
   \   0000B7   12....       LCALL     ?Subroutine134 & 0xFFFF
   \                     ??CrossCallReturnLabel_234:
   \   0000BA   E0           MOVX      A,@DPTR
   \   0000BB   F9           MOV       R1,A
   \   0000BC   12....       LCALL     `??afFindEndPointDesc::?relay`; Banked call to: afFindEndPointDesc
   \   0000BF   8A82         MOV       DPL,R2
   \   0000C1   8B83         MOV       DPH,R3
   2214            if ( epDesc == NULL )
   \   0000C3   E582         MOV       A,DPL
   \   0000C5   4583         ORL       A,DPH
   \   0000C7   700C         JNZ       ??zcl_ProcessMessageMSG_2
   2215            {
   2216              rawAFMsg = NULL;
   \   0000C9   90....       MOV       DPTR,#rawAFMsg
   \   0000CC   E4           CLR       A
   \   0000CD   F0           MOVX      @DPTR,A
   \   0000CE   A3           INC       DPTR
   \   0000CF   F0           MOVX      @DPTR,A
   2217              return ( ZCL_PROC_EP_NOT_FOUND );   // Error, ignore the message
   \   0000D0   7902         MOV       R1,#0x2
   \   0000D2   02....       LJMP      ??zcl_ProcessMessageMSG_1 & 0xFFFF
   2218            }
   2219          
   2220            if ( ( epDesc->simpleDesc == NULL ) ||
   2221                 ( zcl_DeviceOperational( pkt->endPoint, pkt->clusterId, inMsg.hdr.fc.type,
   2222                                          inMsg.hdr.commandID, epDesc->simpleDesc->AppProfId ) == FALSE ) )
   \                     ??zcl_ProcessMessageMSG_2:
   \   0000D5   12....       LCALL     ?Subroutine59 & 0xFFFF
   \                     ??CrossCallReturnLabel_416:
   \   0000D8   602B         JZ        ??zcl_ProcessMessageMSG_3
   \   0000DA   EE           MOV       A,R6
   \   0000DB   2404         ADD       A,#0x4
   \   0000DD   F5..         MOV       ?V2,A
   \   0000DF   E4           CLR       A
   \   0000E0   3F           ADDC      A,R7
   \   0000E1   F5..         MOV       ?V3,A
   \   0000E3                ; Setup parameters for call to function zcl_DeviceOperational
   \   0000E3   A3           INC       DPTR
   \   0000E4   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   0000E7   740B         MOV       A,#0xb
   \   0000E9   12....       LCALL     ?XSTACK_DISP0_8
   \   0000EC   E0           MOVX      A,@DPTR
   \   0000ED   FD           MOV       R5,A
   \   0000EE   7406         MOV       A,#0x6
   \   0000F0   12....       LCALL     ?XSTACK_DISP0_8
   \   0000F3   E0           MOVX      A,@DPTR
   \   0000F4   5403         ANL       A,#0x3
   \   0000F6   FC           MOV       R4,A
   \   0000F7   12....       LCALL     ?Subroutine62 & 0xFFFF
   \                     ??CrossCallReturnLabel_100:
   \   0000FA   12....       LCALL     `??zcl_DeviceOperational::?relay`; Banked call to: zcl_DeviceOperational
   \   0000FD   7402         MOV       A,#0x2
   \   0000FF   12....       LCALL     ?DEALLOC_XSTACK8
   \   000102   E9           MOV       A,R1
   \   000103   700C         JNZ       ??zcl_ProcessMessageMSG_4
   2223            {
   2224              rawAFMsg = NULL;
   \                     ??zcl_ProcessMessageMSG_3:
   \   000105   90....       MOV       DPTR,#rawAFMsg
   \   000108   E4           CLR       A
   \   000109   F0           MOVX      @DPTR,A
   \   00010A   A3           INC       DPTR
   \   00010B   F0           MOVX      @DPTR,A
   2225              return ( ZCL_PROC_NOT_OPERATIONAL ); // Error, ignore the message
   \   00010C   7903         MOV       R1,#0x3
   \   00010E   02....       LJMP      ??zcl_ProcessMessageMSG_1 & 0xFFFF
   2226            }
   2227          
   2228          #if defined ( INTER_PAN )
   2229            if ( StubAPS_InterPan( pkt->srcAddr.panId, pkt->srcAddr.endPoint ) )
   2230            {
   2231              // No foundation command is supported thru Inter-PAN communication.
   2232              // But the Light Link cluster uses a different Frame Control format
   2233              // for it's Inter-PAN messages, where the messages could be confused
   2234              // with the foundation commands.
   2235              if ( zcl_ProfileCmd( inMsg.hdr.fc.type ) )
   2236              {
   2237                rawAFMsg = NULL;
   2238                return ( ZCL_PROC_INTERPAN_FOUNDATION_CMD );
   2239              }
   2240          
   2241              interPanMsg = TRUE;
   2242              options = AF_TX_OPTIONS_NONE;
   2243            }
   2244            else
   2245          #endif
   2246            {
   2247              interPanMsg = FALSE;
   2248              options = zclGetClusterOption( pkt->endPoint, pkt->clusterId );
   \                     ??zcl_ProcessMessageMSG_4:
   \   000111                ; Setup parameters for call to function zclGetClusterOption
   \   000111   12....       LCALL     ?Subroutine62 & 0xFFFF
   2249            }
   \                     ??CrossCallReturnLabel_101:
   \   000114   12....       LCALL     `??zclGetClusterOption::?relay`; Banked call to: zclGetClusterOption
   \   000117   E9           MOV       A,R1
   \   000118   F5..         MOV       ?V6,A
   2250          
   2251            // Find the appropriate plugin
   2252            pInPlugin = zclFindPlugin( pkt->clusterId, epDesc->simpleDesc->AppProfId );
   \   00011A   85..82       MOV       DPL,?V2
   \   00011D   85..83       MOV       DPH,?V3
   \   000120   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_545:
   \   000123   EA           MOV       A,R2
   \   000124   FC           MOV       R4,A
   \   000125   EB           MOV       A,R3
   \   000126   FD           MOV       R5,A
   \   000127   90....       MOV       DPTR,#plugins
   \   00012A   8004         SJMP      ??zcl_ProcessMessageMSG_5
   \                     ??zcl_ProcessMessageMSG_6:
   \   00012C   8882         MOV       DPL,R0
   \   00012E   8983         MOV       DPH,R1
   \                     ??zcl_ProcessMessageMSG_5:
   \   000130   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_439:
   \   000133   7003         JNZ       $+5
   \   000135   02....       LJMP      ??zcl_ProcessMessageMSG_7 & 0xFFFF
   \   000138   8882         MOV       DPL,R0
   \   00013A   8983         MOV       DPH,R1
   \   00013C   A3           INC       DPTR
   \   00013D   A3           INC       DPTR
   \   00013E   12....       LCALL     ?Subroutine108 & 0xFFFF
   \                     ??CrossCallReturnLabel_187:
   \   000141   C3           CLR       C
   \   000142   EC           MOV       A,R4
   \   000143   95..         SUBB      A,?V4
   \   000145   ED           MOV       A,R5
   \   000146   95..         SUBB      A,?V5
   \   000148   40E2         JC        ??zcl_ProcessMessageMSG_6
   \   00014A   8882         MOV       DPL,R0
   \   00014C   8983         MOV       DPH,R1
   \   00014E   A3           INC       DPTR
   \   00014F   A3           INC       DPTR
   \   000150   A3           INC       DPTR
   \   000151   A3           INC       DPTR
   \   000152   C3           CLR       C
   \   000153   E0           MOVX      A,@DPTR
   \   000154   9C           SUBB      A,R4
   \   000155   A3           INC       DPTR
   \   000156   E0           MOVX      A,@DPTR
   \   000157   9D           SUBB      A,R5
   \   000158   40D2         JC        ??zcl_ProcessMessageMSG_6
   \   00015A   E8           MOV       A,R0
   \   00015B   FC           MOV       R4,A
   \   00015C   E9           MOV       A,R1
   \   00015D   FD           MOV       R5,A
   \   00015E   7404         MOV       A,#0x4
   \   000160   12....       LCALL     ?XSTACK_DISP0_8
   \   000163   E0           MOVX      A,@DPTR
   \   000164   5407         ANL       A,#0x7
   \   000166   700D         JNZ       ??zcl_ProcessMessageMSG_8
   \   000168   7409         MOV       A,#0x9
   \   00016A   12....       LCALL     ?XSTACK_DISP0_8
   \   00016D   E0           MOVX      A,@DPTR
   \   00016E   640B         XRL       A,#0xb
   \   000170   7003         JNZ       $+5
   \   000172   02....       LJMP      ??zcl_ProcessMessageMSG_9 & 0xFFFF
   2253          
   2254            // Local and remote Security options must match except for Default Response command
   2255            if ( ( pInPlugin != NULL ) && !zcl_DefaultRspCmd( inMsg.hdr ) )
   2256            {
   2257              securityEnable = ( options & AF_EN_SECURITY ) ? TRUE : FALSE;
   \                     ??zcl_ProcessMessageMSG_8:
   \   000175   E5..         MOV       A,?V6
   \   000177   A2E6         MOV       C,0xE0 /* A   */.6
   \   000179   4003         JC        $+5
   \   00017B   02....       LJMP      ??zcl_ProcessMessageMSG_9 & 0xFFFF
   \   00017E   EE           MOV       A,R6
   \   00017F   2419         ADD       A,#0x19
   \   000181   F582         MOV       DPL,A
   \   000183   E4           CLR       A
   \   000184   3F           ADDC      A,R7
   \   000185   F583         MOV       DPH,A
   \   000187   E0           MOVX      A,@DPTR
   \   000188   6003         JZ        $+5
   \   00018A   02....       LJMP      ??zcl_ProcessMessageMSG_9 & 0xFFFF
   2258          
   2259              // Make sure that Clusters specifically defined to use security are received secure,
   2260              // any other cluster that wants to use APS security will be allowed
   2261              if ( ( securityEnable == TRUE ) && ( pkt->SecurityUse == FALSE ) )
   2262              {
   2263                if ( UNICAST_MSG( inMsg.msg ) )
   \   00018D   7402         MOV       A,#0x2
   \   00018F   12....       LCALL     ?XSTACK_DISP0_8
   \   000192   12....       LCALL     ?Subroutine74 & 0xFFFF
   \                     ??CrossCallReturnLabel_126:
   \   000195   707F         JNZ       ??zcl_ProcessMessageMSG_10
   \   000197   7402         MOV       A,#0x2
   \   000199   12....       LCALL     ?XSTACK_DISP0_8
   \   00019C   12....       LCALL     ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_447:
   \   00019F   7075         JNZ       ??zcl_ProcessMessageMSG_10
   2264                {
   2265                  // Send a Default Response command back with no Application Link Key security
   2266                  zclSetSecurityOption( pkt->endPoint, pkt->clusterId, FALSE );
   \   0001A1                ; Setup parameters for call to function zclSetSecurityOption
   \   0001A1   7C00         MOV       R4,#0x0
   \   0001A3   85..82       MOV       DPL,?V0
   \   0001A6   85..83       MOV       DPH,?V1
   \   0001A9   E0           MOVX      A,@DPTR
   \   0001AA   F9           MOV       R1,A
   \   0001AB   12....       LCALL     `??zclSetSecurityOption::?relay`; Banked call to: zclSetSecurityOption
   2267          
   2268                  defautlRspCmd.statusCode = status;
   \   0001AE   7401         MOV       A,#0x1
   \   0001B0   12....       LCALL     ?XSTACK_DISP0_8
   \   0001B3   7401         MOV       A,#0x1
   \   0001B5   F0           MOVX      @DPTR,A
   2269                  defautlRspCmd.commandID = inMsg.hdr.commandID;
   \   0001B6   7409         MOV       A,#0x9
   \   0001B8   12....       LCALL     ?XSTACK_DISP0_8
   \   0001BB   12....       LCALL     ?Subroutine99 & 0xFFFF
   2270                  zcl_SendDefaultRspCmd( inMsg.msg->endPoint, &(inMsg.msg->srcAddr),
   2271                                         inMsg.msg->clusterId, &defautlRspCmd,
   2272                                         !inMsg.hdr.fc.direction, true,
   2273                                         inMsg.hdr.manuCode, inMsg.hdr.transSeqNum );
   \                     ??CrossCallReturnLabel_169:
   \   0001BE   12....       LCALL     ?XSTACK_DISP0_8
   \   0001C1   E0           MOVX      A,@DPTR
   \   0001C2   F5..         MOV       ?V4,A
   \   0001C4   78..         MOV       R0,#?V4
   \   0001C6   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001C9   7407         MOV       A,#0x7
   \   0001CB   12....       LCALL     ?XSTACK_DISP0_8
   \   0001CE   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   0001D1   75..01       MOV       ?V4,#0x1
   \   0001D4   78..         MOV       R0,#?V4
   \   0001D6   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001D9   7408         MOV       A,#0x8
   \   0001DB   12....       LCALL     ?XSTACK_DISP0_8
   \   0001DE   12....       LCALL     ??Subroutine252_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_595:
   \   0001E1   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0001E4   7405         MOV       A,#0x5
   \   0001E6   12....       LCALL     ?XSTACK_DISP100_8
   \   0001E9   88..         MOV       ?V4,R0
   \   0001EB   89..         MOV       ?V5,R1
   \   0001ED   78..         MOV       R0,#?V4
   \   0001EF   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0001F2   7409         MOV       A,#0x9
   \   0001F4   12....       LCALL     ?XSTACK_DISP0_8
   \   0001F7   12....       LCALL     ?Subroutine68 & 0xFFFF
   \                     ??CrossCallReturnLabel_116:
   \   0001FA   12....       LCALL     ?XSTACK_DISP0_8
   \   0001FD   12....       LCALL     ?Subroutine98 & 0xFFFF
   \                     ??CrossCallReturnLabel_167:
   \   000200   12....       LCALL     ?XSTACK_DISP0_8
   \   000203   12....       LCALL     ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_108:
   \   000206   12....       LCALL     `??zcl_SendDefaultRspCmd::?relay`; Banked call to: zcl_SendDefaultRspCmd
   \   000209   7407         MOV       A,#0x7
   \   00020B   12....       LCALL     ?DEALLOC_XSTACK8
   2274          
   2275                  zclSetSecurityOption( pkt->endPoint, pkt->clusterId, TRUE );
   \   00020E                ; Setup parameters for call to function zclSetSecurityOption
   \   00020E   7C01         MOV       R4,#0x1
   \   000210   12....       LCALL     ?Subroutine62 & 0xFFFF
   2276                }
   \                     ??CrossCallReturnLabel_102:
   \   000213   12....       LCALL     `??zclSetSecurityOption::?relay`; Banked call to: zclSetSecurityOption
   2277          
   2278                rawAFMsg = NULL;
   \                     ??zcl_ProcessMessageMSG_10:
   \   000216   90....       MOV       DPTR,#rawAFMsg
   \   000219   E4           CLR       A
   \   00021A   F0           MOVX      @DPTR,A
   \   00021B   A3           INC       DPTR
   \   00021C   F0           MOVX      @DPTR,A
   2279                return ( ZCL_PROC_NOT_SECURE );   // Error, ignore the message
   \   00021D   7905         MOV       R1,#0x5
   \   00021F   02....       LJMP      ??zcl_ProcessMessageMSG_1 & 0xFFFF
   2280              }
   2281            }
   \                     ??zcl_ProcessMessageMSG_7:
   \   000222   7C00         MOV       R4,#0x0
   \   000224   7D00         MOV       R5,#0x0
   2282          
   2283            // Is this a foundation type message
   2284            if ( !interPanMsg && zcl_ProfileCmd( inMsg.hdr.fc.type ) )
   \                     ??zcl_ProcessMessageMSG_9:
   \   000226   7404         MOV       A,#0x4
   \   000228   12....       LCALL     ?XSTACK_DISP0_8
   \   00022B   E0           MOVX      A,@DPTR
   \   00022C   F8           MOV       R0,A
   \   00022D   5403         ANL       A,#0x3
   \   00022F   6003         JZ        $+5
   \   000231   02....       LJMP      ??zcl_ProcessMessageMSG_11 & 0xFFFF
   2285            {
   2286              if ( inMsg.hdr.fc.manuSpecific )
   \   000234   E8           MOV       A,R0
   \   000235   5404         ANL       A,#0x4
   \   000237   6005         JZ        ??zcl_ProcessMessageMSG_12
   2287              {
   2288                // We don't support any manufacturer specific command
   2289                status = ZCL_STATUS_UNSUP_MANU_GENERAL_COMMAND;
   \   000239   7E84         MOV       R6,#-0x7c
   \   00023B   02....       LJMP      ??zcl_ProcessMessageMSG_13 & 0xFFFF
   2290              }
   2291              else if ( ( inMsg.hdr.commandID <= ZCL_CMD_MAX ) &&
   2292                        ( zclCmdTable[inMsg.hdr.commandID].pfnParseInProfile != NULL ) )
   \                     ??zcl_ProcessMessageMSG_12:
   \   00023E   7409         MOV       A,#0x9
   \   000240   12....       LCALL     ?XSTACK_DISP0_8
   \   000243   E0           MOVX      A,@DPTR
   \   000244   F8           MOV       R0,A
   \   000245   C3           CLR       C
   \   000246   9417         SUBB      A,#0x17
   \   000248   4003         JC        $+5
   \   00024A   02....       LJMP      ??zcl_ProcessMessageMSG_14 & 0xFFFF
   \   00024D   E8           MOV       A,R0
   \   00024E   F5..         MOV       ?V2,A
   \   000250   75..00       MOV       ?V3,#0x0
   \   000253   7402         MOV       A,#0x2
   \   000255   78..         MOV       R0,#?V2
   \   000257   12....       LCALL     ?S_SHL
   \   00025A   74..         MOV       A,#zclCmdTable & 0xff
   \   00025C   25..         ADD       A,?V2
   \   00025E   F582         MOV       DPL,A
   \   000260   74..         MOV       A,#(zclCmdTable >> 8) & 0xff
   \   000262   35..         ADDC      A,?V3
   \   000264   12....       LCALL     ?Subroutine193 & 0xFFFF
   \                     ??CrossCallReturnLabel_410:
   \   000267   E8           MOV       A,R0
   \   000268   49           ORL       A,R1
   \   000269   7003         JNZ       $+5
   \   00026B   02....       LJMP      ??zcl_ProcessMessageMSG_14 & 0xFFFF
   2293              {
   2294                zclParseCmd_t parseCmd;
   2295          
   2296                parseCmd.endpoint = pkt->endPoint;
   \   00026E   85..82       MOV       DPL,?V0
   \   000271   85..83       MOV       DPH,?V1
   \   000274   E0           MOVX      A,@DPTR
   \   000275   C0E0         PUSH      A
   \   000277   7410         MOV       A,#0x10
   \   000279   12....       LCALL     ?XSTACK_DISP0_8
   \   00027C   D0E0         POP       A
   \   00027E   F0           MOVX      @DPTR,A
   2297                parseCmd.dataLen = inMsg.pDataLen;
   \   00027F   740C         MOV       A,#0xc
   \   000281   12....       LCALL     ?XSTACK_DISP0_8
   \   000284   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_546:
   \   000287   7411         MOV       A,#0x11
   \   000289   12....       LCALL     ?XSTACK_DISP0_8
   \   00028C   12....       LCALL     ??Subroutine250_0 & 0xFFFF
   2298                parseCmd.pData = inMsg.pData;
   \                     ??CrossCallReturnLabel_584:
   \   00028F   740A         MOV       A,#0xa
   \   000291   12....       LCALL     ?XSTACK_DISP0_8
   \   000294   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_547:
   \   000297   7413         MOV       A,#0x13
   \   000299   12....       LCALL     ?XSTACK_DISP0_8
   \   00029C   12....       LCALL     ??Subroutine250_0 & 0xFFFF
   2299          
   2300                // Parse the command, remember that the return value is a pointer to allocated memory
   2301                inMsg.attrCmd = zclParseCmd( inMsg.hdr.commandID, &parseCmd );
   \                     ??CrossCallReturnLabel_585:
   \   00029F                ; Setup parameters for indirect call
   \   00029F   7410         MOV       A,#0x10
   \   0002A1   12....       LCALL     ?XSTACK_DISP101_8
   \   0002A4   8882         MOV       DPL,R0
   \   0002A6   8983         MOV       DPH,R1
   \   0002A8   12....       LCALL     ?CALL_IND
   \   0002AB   8A..         MOV       ?V0,R2
   \   0002AD   8B..         MOV       ?V1,R3
   \   0002AF   A8..         MOV       R0,?V0
   \   0002B1   A9..         MOV       R1,?V1
   \   0002B3   740E         MOV       A,#0xe
   \   0002B5   12....       LCALL     ?XSTACK_DISP0_8
   \   0002B8   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   2302                if ( (inMsg.attrCmd != NULL) && (zclCmdTable[inMsg.hdr.commandID].pfnProcessInProfile != NULL) )
   \                     ??CrossCallReturnLabel_514:
   \   0002BB   E8           MOV       A,R0
   \   0002BC   49           ORL       A,R1
   \   0002BD   6046         JZ        ??zcl_ProcessMessageMSG_15
   \   0002BF   7409         MOV       A,#0x9
   \   0002C1   12....       LCALL     ?XSTACK_DISP0_8
   \   0002C4   E0           MOVX      A,@DPTR
   \   0002C5   F5..         MOV       ?V0,A
   \   0002C7   75..00       MOV       ?V1,#0x0
   \   0002CA   7402         MOV       A,#0x2
   \   0002CC   78..         MOV       R0,#?V0
   \   0002CE   12....       LCALL     ?S_SHL
   \   0002D1   74..         MOV       A,#(zclCmdTable + 2) & 0xff
   \   0002D3   25..         ADD       A,?V0
   \   0002D5   F582         MOV       DPL,A
   \   0002D7   74..         MOV       A,#((zclCmdTable + 2) >> 8) & 0xff
   \   0002D9   35..         ADDC      A,?V1
   \   0002DB   12....       LCALL     ?Subroutine193 & 0xFFFF
   \                     ??CrossCallReturnLabel_411:
   \   0002DE   8882         MOV       DPL,R0
   \   0002E0   8983         MOV       DPH,R1
   \   0002E2   E582         MOV       A,DPL
   \   0002E4   4583         ORL       A,DPH
   \   0002E6   6012         JZ        ??zcl_ProcessMessageMSG_16
   2303                {
   2304                  // Process the command
   2305                  if ( zclProcessCmd( inMsg.hdr.commandID, &inMsg ) == FALSE )
   \   0002E8                ; Setup parameters for indirect call
   \   0002E8   7402         MOV       A,#0x2
   \   0002EA   12....       LCALL     ?XSTACK_DISP101_8
   \   0002ED   12....       LCALL     ?CALL_IND
   2306                  {
   2307                    // Couldn't find attribute in the table.
   2308                  }
   2309                }
   2310          
   2311                // Free the buffer
   2312                if ( inMsg.attrCmd )
   \   0002F0   740E         MOV       A,#0xe
   \   0002F2   12....       LCALL     ?XSTACK_DISP0_8
   \   0002F5   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_440:
   \   0002F8   600B         JZ        ??zcl_ProcessMessageMSG_15
   2313                {
   2314                  zcl_mem_free( inMsg.attrCmd );
   \                     ??zcl_ProcessMessageMSG_16:
   \   0002FA                ; Setup parameters for call to function osal_mem_free
   \   0002FA   740E         MOV       A,#0xe
   \   0002FC   12....       LCALL     ?XSTACK_DISP0_8
   \   0002FF   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   2315                }
   \                     ??CrossCallReturnLabel_548:
   \   000302   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   2316          
   2317                if ( CMD_HAS_RSP( inMsg.hdr.commandID ) )
   \                     ??zcl_ProcessMessageMSG_15:
   \   000305   7409         MOV       A,#0x9
   \   000307   12....       LCALL     ?XSTACK_DISP0_8
   \   00030A   E0           MOVX      A,@DPTR
   \   00030B   F8           MOV       R0,A
   \   00030C   6058         JZ        ??zcl_ProcessMessageMSG_17
   \   00030E   7402         MOV       A,#0x2
   \   000310   68           XRL       A,R0
   \   000311   6053         JZ        ??zcl_ProcessMessageMSG_17
   \   000313   7403         MOV       A,#0x3
   \   000315   68           XRL       A,R0
   \   000316   604E         JZ        ??zcl_ProcessMessageMSG_17
   \   000318   7405         MOV       A,#0x5
   \   00031A   68           XRL       A,R0
   \   00031B   6049         JZ        ??zcl_ProcessMessageMSG_17
   \   00031D   7406         MOV       A,#0x6
   \   00031F   68           XRL       A,R0
   \   000320   6044         JZ        ??zcl_ProcessMessageMSG_17
   \   000322   7408         MOV       A,#0x8
   \   000324   68           XRL       A,R0
   \   000325   603F         JZ        ??zcl_ProcessMessageMSG_17
   \   000327   740C         MOV       A,#0xc
   \   000329   68           XRL       A,R0
   \   00032A   603A         JZ        ??zcl_ProcessMessageMSG_17
   \   00032C   7411         MOV       A,#0x11
   \   00032E   68           XRL       A,R0
   \   00032F   6035         JZ        ??zcl_ProcessMessageMSG_17
   \   000331   7413         MOV       A,#0x13
   \   000333   68           XRL       A,R0
   \   000334   6030         JZ        ??zcl_ProcessMessageMSG_17
   \   000336   7415         MOV       A,#0x15
   \   000338   68           XRL       A,R0
   \   000339   602B         JZ        ??zcl_ProcessMessageMSG_17
   \   00033B   740B         MOV       A,#0xb
   \   00033D   68           XRL       A,R0
   \   00033E   6026         JZ        ??zcl_ProcessMessageMSG_17
   2318                {
   2319                  rawAFMsg = NULL;
   2320                  return ( ZCL_PROC_SUCCESS ); // We're done
   2321                }
   2322          
   2323                status = ZSuccess;
   \   000340   7E00         MOV       R6,#0x0
   \   000342   8042         SJMP      ??zcl_ProcessMessageMSG_13
   2324              }
   2325              else
   2326              {
   2327                // Unsupported message
   2328                status = ZCL_STATUS_UNSUP_GENERAL_COMMAND;
   \                     ??zcl_ProcessMessageMSG_14:
   \   000344   7E82         MOV       R6,#-0x7e
   \   000346   803E         SJMP      ??zcl_ProcessMessageMSG_13
   2329              }
   2330            }
   2331            else  // Not a foundation type message, so it must be specific to the cluster ID.
   2332            {
   2333              if ( pInPlugin && pInPlugin->pfnIncomingHdlr )
   \                     ??zcl_ProcessMessageMSG_11:
   \   000348   EC           MOV       A,R4
   \   000349   4D           ORL       A,R5
   \   00034A   602A         JZ        ??zcl_ProcessMessageMSG_18
   \   00034C   8C82         MOV       DPL,R4
   \   00034E   8D83         MOV       DPH,R5
   \   000350   A3           INC       DPTR
   \   000351   A3           INC       DPTR
   \   000352   12....       LCALL     ?Subroutine59 & 0xFFFF
   \                     ??CrossCallReturnLabel_417:
   \   000355   601F         JZ        ??zcl_ProcessMessageMSG_18
   2334              {
   2335                // The return value of the plugin function will be
   2336                //  ZSuccess - Supported and need default response
   2337                //  ZFailure - Unsupported
   2338                //  ZCL_STATUS_CMD_HAS_RSP - Supported and do not need default rsp
   2339                //  ZCL_STATUS_INVALID_FIELD - Supported, but the incoming msg is wrong formatted
   2340                //  ZCL_STATUS_INVALID_VALUE - Supported, but the request not achievable by the h/w
   2341                //  ZCL_STATUS_SOFTWARE_FAILURE - Supported but ZStack memory allocation fails
   2342                status = pInPlugin->pfnIncomingHdlr( &inMsg );
   \   000357                ; Setup parameters for indirect call
   \   000357   7402         MOV       A,#0x2
   \   000359   12....       LCALL     ?XSTACK_DISP101_8
   \   00035C   12....       LCALL     ?CALL_IND
   \   00035F   E9           MOV       A,R1
   \   000360   FE           MOV       R6,A
   2343                if ( status == ZCL_STATUS_CMD_HAS_RSP || ( interPanMsg && status == ZSuccess ) )
   \   000361   74FF         MOV       A,#-0x1
   \   000363   6E           XRL       A,R6
   \   000364   700B         JNZ       ??zcl_ProcessMessageMSG_19
   2344                {
   2345                  rawAFMsg = NULL;
   \                     ??zcl_ProcessMessageMSG_17:
   \   000366   90....       MOV       DPTR,#rawAFMsg
   \   000369   E4           CLR       A
   \   00036A   F0           MOVX      @DPTR,A
   \   00036B   A3           INC       DPTR
   \   00036C   F0           MOVX      @DPTR,A
   2346                  return ( ZCL_PROC_SUCCESS ); // We're done
   \   00036D   F9           MOV       R1,A
   \   00036E   02....       LJMP      ??zcl_ProcessMessageMSG_1 & 0xFFFF
   2347                }
   2348              }
   2349          
   2350              if ( status == ZFailure )
   \                     ??zcl_ProcessMessageMSG_19:
   \   000371   7401         MOV       A,#0x1
   \   000373   6E           XRL       A,R6
   \   000374   7010         JNZ       ??zcl_ProcessMessageMSG_13
   2351              {
   2352                // Unsupported message
   2353                if ( inMsg.hdr.fc.manuSpecific )
   \                     ??zcl_ProcessMessageMSG_18:
   \   000376   7404         MOV       A,#0x4
   \   000378   12....       LCALL     ?XSTACK_DISP0_8
   \   00037B   E0           MOVX      A,@DPTR
   \   00037C   5404         ANL       A,#0x4
   \   00037E   6004         JZ        ??zcl_ProcessMessageMSG_20
   2354                {
   2355                  status = ZCL_STATUS_UNSUP_MANU_CLUSTER_COMMAND;
   \   000380   7E83         MOV       R6,#-0x7d
   \   000382   8002         SJMP      ??zcl_ProcessMessageMSG_13
   2356                }
   2357                else
   2358                {
   2359                  status = ZCL_STATUS_UNSUP_CLUSTER_COMMAND;
   \                     ??zcl_ProcessMessageMSG_20:
   \   000384   7E81         MOV       R6,#-0x7f
   2360                }
   2361              }
   2362            }
   2363          
   2364            if ( UNICAST_MSG( inMsg.msg ) && inMsg.hdr.fc.disableDefaultRsp == 0 )
   \                     ??zcl_ProcessMessageMSG_13:
   \   000386   7402         MOV       A,#0x2
   \   000388   12....       LCALL     ?XSTACK_DISP0_8
   \   00038B   12....       LCALL     ?Subroutine74 & 0xFFFF
   \                     ??CrossCallReturnLabel_127:
   \   00038E   7070         JNZ       ??zcl_ProcessMessageMSG_21
   \   000390   7402         MOV       A,#0x2
   \   000392   12....       LCALL     ?XSTACK_DISP0_8
   \   000395   12....       LCALL     ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_448:
   \   000398   7066         JNZ       ??zcl_ProcessMessageMSG_21
   \   00039A   7404         MOV       A,#0x4
   \   00039C   12....       LCALL     ?XSTACK_DISP0_8
   \   00039F   E0           MOVX      A,@DPTR
   \   0003A0   FA           MOV       R2,A
   \   0003A1   5410         ANL       A,#0x10
   \   0003A3   705B         JNZ       ??zcl_ProcessMessageMSG_21
   2365            {
   2366              // Send a Default Response command back
   2367              defautlRspCmd.statusCode = status;
   \   0003A5   7401         MOV       A,#0x1
   \   0003A7   12....       LCALL     ?XSTACK_DISP0_8
   \   0003AA   EE           MOV       A,R6
   \   0003AB   F0           MOVX      @DPTR,A
   2368              defautlRspCmd.commandID = inMsg.hdr.commandID;
   \   0003AC   7409         MOV       A,#0x9
   \   0003AE   12....       LCALL     ?XSTACK_DISP0_8
   \   0003B1   12....       LCALL     ?Subroutine99 & 0xFFFF
   2369              zcl_SendDefaultRspCmd( inMsg.msg->endPoint, &(inMsg.msg->srcAddr),
   2370                                     inMsg.msg->clusterId, &defautlRspCmd,
   2371                                     !inMsg.hdr.fc.direction, true,
   2372                                     inMsg.hdr.manuCode, inMsg.hdr.transSeqNum );
   \                     ??CrossCallReturnLabel_170:
   \   0003B4   12....       LCALL     ?XSTACK_DISP0_8
   \   0003B7   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   0003BA   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0003BD   7407         MOV       A,#0x7
   \   0003BF   12....       LCALL     ?XSTACK_DISP0_8
   \   0003C2   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   0003C5   75..01       MOV       ?V0,#0x1
   \   0003C8   78..         MOV       R0,#?V0
   \   0003CA   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0003CD   EA           MOV       A,R2
   \   0003CE   12....       LCALL     ?Subroutine141 & 0xFFFF
   \                     ??CrossCallReturnLabel_252:
   \   0003D1   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0003D4   7405         MOV       A,#0x5
   \   0003D6   12....       LCALL     ?XSTACK_DISP100_8
   \   0003D9   88..         MOV       ?V0,R0
   \   0003DB   89..         MOV       ?V1,R1
   \   0003DD   78..         MOV       R0,#?V0
   \   0003DF   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0003E2   7409         MOV       A,#0x9
   \   0003E4   12....       LCALL     ?XSTACK_DISP0_8
   \   0003E7   12....       LCALL     ?Subroutine68 & 0xFFFF
   \                     ??CrossCallReturnLabel_117:
   \   0003EA   12....       LCALL     ?XSTACK_DISP0_8
   \   0003ED   12....       LCALL     ?Subroutine98 & 0xFFFF
   \                     ??CrossCallReturnLabel_168:
   \   0003F0   12....       LCALL     ?XSTACK_DISP0_8
   \   0003F3   12....       LCALL     ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_109:
   \   0003F6   12....       LCALL     `??zcl_SendDefaultRspCmd::?relay`; Banked call to: zcl_SendDefaultRspCmd
   \   0003F9   7407         MOV       A,#0x7
   \   0003FB   12....       LCALL     ?DEALLOC_XSTACK8
   2373              defaultResponseSent = TRUE;
   \   0003FE   D2..         SETB      ?VB.0
   2374            }
   2375          
   2376            rawAFMsg = NULL;
   \                     ??zcl_ProcessMessageMSG_21:
   \   000400   90....       MOV       DPTR,#rawAFMsg
   \   000403   E4           CLR       A
   \   000404   F0           MOVX      @DPTR,A
   \   000405   A3           INC       DPTR
   \   000406   F0           MOVX      @DPTR,A
   2377            if ( status == ZSuccess )
   \   000407   EE           MOV       A,R6
   \   000408   7004         JNZ       ??zcl_ProcessMessageMSG_22
   2378            {
   2379              return ( ZCL_PROC_SUCCESS );
   \   00040A   7900         MOV       R1,#0x0
   \   00040C   8019         SJMP      ??zcl_ProcessMessageMSG_1
   2380            }
   2381            else if ( status == ZCL_STATUS_UNSUP_MANU_GENERAL_COMMAND )
   \                     ??zcl_ProcessMessageMSG_22:
   \   00040E   7484         MOV       A,#-0x7c
   \   000410   6E           XRL       A,R6
   \   000411   A2..         MOV       C,?VB.0
   \   000413   700A         JNZ       ??zcl_ProcessMessageMSG_23
   2382            {
   2383              if ( defaultResponseSent )
   \   000415   5004         JNC       ??zcl_ProcessMessageMSG_24
   2384              {
   2385                return ( ZCL_PROC_MANUFACTURER_SPECIFIC_DR );
   \   000417   7907         MOV       R1,#0x7
   \   000419   800C         SJMP      ??zcl_ProcessMessageMSG_1
   2386              }
   2387              else
   2388              {
   2389                return ( ZCL_PROC_MANUFACTURER_SPECIFIC );
   \                     ??zcl_ProcessMessageMSG_24:
   \   00041B   7906         MOV       R1,#0x6
   \   00041D   8008         SJMP      ??zcl_ProcessMessageMSG_1
   2390              }
   2391            }
   2392            else
   2393            {
   2394              if ( defaultResponseSent )
   \                     ??zcl_ProcessMessageMSG_23:
   \   00041F   5004         JNC       ??zcl_ProcessMessageMSG_25
   2395              {
   2396                return ( ZCL_PROC_NOT_HANDLED_DR );
   \   000421   7909         MOV       R1,#0x9
   \   000423   8002         SJMP      ??zcl_ProcessMessageMSG_1
   2397              }
   2398              else
   2399              {
   2400                return ( ZCL_PROC_NOT_HANDLED );
   \                     ??zcl_ProcessMessageMSG_25:
   \   000425   7908         MOV       R1,#0x8
   \                     ??zcl_ProcessMessageMSG_1:
   \   000427   7415         MOV       A,#0x15
   \   000429   12....       LCALL     ?DEALLOC_XSTACK8
   2401              }
   2402            }
   \   00042C   02....       LJMP      ?Subroutine9 & 0xFFFF
   2403          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine193:
   \   000000   F583         MOV       DPH,A
   \   000002                REQUIRE ??Subroutine212_0
   \   000002                ; // Fall through to label ??Subroutine212_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine212_0:
   \   000000   E4           CLR       A
   \   000001   93           MOVC      A,@A+DPTR
   \   000002   F8           MOV       R0,A
   \   000003   7401         MOV       A,#0x1
   \   000005   93           MOVC      A,@A+DPTR
   \   000006   F9           MOV       R1,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine188:
   \   000000   E0           MOVX      A,@DPTR
   \   000001                REQUIRE ??Subroutine213_0
   \   000001                ; // Fall through to label ??Subroutine213_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine213_0:
   \   000000   28           ADD       A,R0
   \   000001   F8           MOV       R0,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   39           ADDC      A,R1
   \   000005   F9           MOV       R1,A
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine99:
   \   000000   12....       LCALL     ?Subroutine180 & 0xFFFF
   \                     ??CrossCallReturnLabel_317:
   \   000003                ; Setup parameters for call to function zcl_SendDefaultRspCmd
   \   000003                ; Setup parameters for call to function zcl_SendDefaultRspCmd
   \   000003   7408         MOV       A,#0x8
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine98:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   2406         ADD       A,#0x6
   \   000003   FA           MOV       R2,A
   \   000004   A3           INC       DPTR
   \   000005   E0           MOVX      A,@DPTR
   \   000006   3400         ADDC      A,#0x0
   \   000008   FB           MOV       R3,A
   \   000009   7409         MOV       A,#0x9
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine74:
   \   000000   12....       LCALL     ??Subroutine231_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_498:
   \   000003   C8           XCH       A,R0
   \   000004   2415         ADD       A,#0x15
   \   000006   F582         MOV       DPL,A
   \   000008   E4           CLR       A
   \   000009   38           ADDC      A,R0
   \   00000A   F583         MOV       DPH,A
   \   00000C   E0           MOVX      A,@DPTR
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine68:
   \   000000   12....       LCALL     ?Subroutine161 & 0xFFFF
   \                     ??CrossCallReturnLabel_291:
   \   000003   12....       LCALL     ?Subroutine164 & 0xFFFF
   \                     ??CrossCallReturnLabel_579:
   \   000006   7409         MOV       A,#0x9
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine62:
   \   000000   85..82       MOV       DPL,?V2
   \   000003   85..83       MOV       DPH,?V3
   \   000006   12....       LCALL     ??Subroutine241_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_616:
   \   000009   85..82       MOV       DPL,?V0
   \   00000C   85..83       MOV       DPH,?V1
   \   00000F   E0           MOVX      A,@DPTR
   \   000010   F9           MOV       R1,A
   \   000011   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine59:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003   A3           INC       DPTR
   \   000004                REQUIRE ??Subroutine214_0
   \   000004                ; // Fall through to label ??Subroutine214_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine214_0:
   \   000000   12....       LCALL     ?Subroutine163 & 0xFFFF
   \                     ??CrossCallReturnLabel_420:
   \   000003   E582         MOV       A,DPL
   \   000005   4583         ORL       A,DPH
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine51:
   \   000000   12....       LCALL     ?Subroutine161 & 0xFFFF
   \                     ??CrossCallReturnLabel_290:
   \   000003                REQUIRE ??Subroutine220_0
   \   000003                ; // Fall through to label ??Subroutine220_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   7F07         MOV       R7,#0x7
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine141:
   \   000000   13           RRC       A
   \   000001   13           RRC       A
   \   000002   13           RRC       A
   \   000003   541F         ANL       A,#0x1f
   \   000005   6401         XRL       A,#0x1
   \   000007   5401         ANL       A,#0x1
   \   000009   F5..         MOV       ?V0,A
   \   00000B   78..         MOV       R0,#?V0
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine65:
   \   000000   A3           INC       DPTR
   \   000001   E0           MOVX      A,@DPTR
   \   000002   C8           XCH       A,R0
   \   000003   12....       LCALL     ?Subroutine192 & 0xFFFF
   \                     ??CrossCallReturnLabel_608:
   \   000006   38           ADDC      A,R0
   \   000007   F583         MOV       DPH,A
   \   000009   E0           MOVX      A,@DPTR
   \   00000A   F9           MOV       R1,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine164:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003   A3           INC       DPTR
   \   000004                REQUIRE ??Subroutine248_0
   \   000004                ; // Fall through to label ??Subroutine248_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine252_0:
   \   000000   12....       LCALL     ?Subroutine173 & 0xFFFF
   \                     ??CrossCallReturnLabel_599:
   \   000003   F5..         MOV       ?V4,A
   \   000005   78..         MOV       R0,#?V4
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine173:
   \   000000   12....       LCALL     ?Subroutine200 & 0xFFFF
   \                     ??CrossCallReturnLabel_614:
   \   000003   6401         XRL       A,#0x1
   \   000005   5401         ANL       A,#0x1
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine200:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   13           RRC       A
   \   000002   13           RRC       A
   \   000003   13           RRC       A
   \   000004   541F         ANL       A,#0x1f
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine180:
   \   000000   12....       LCALL     ?Subroutine197 & 0xFFFF
   \                     ??CrossCallReturnLabel_342:
   \   000003   F0           MOVX      @DPTR,A
   \   000004   22           RET
   2404          
   2405          /*********************************************************************
   2406           * PRIVATE FUNCTIONS
   2407           *********************************************************************/
   2408          
   2409          /*********************************************************************
   2410           * @fn      zclParseHdr
   2411           *
   2412           * @brief   Parse header of the ZCL format
   2413           *
   2414           * @param   hdr - place to put the frame control information
   2415           * @param   pData - incoming buffer to parse
   2416           *
   2417           * @return  pointer past the header
   2418           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2419          uint8 *zclParseHdr( zclFrameHdr_t *hdr, uint8 *pData )
   \                     zclParseHdr:
   2420          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV       ?V0,R2
   \   000007   8B..         MOV       ?V1,R3
   \   000009   EC           MOV       A,R4
   \   00000A   FE           MOV       R6,A
   \   00000B   ED           MOV       A,R5
   \   00000C   FF           MOV       R7,A
   2421            // Clear the header
   2422            zcl_memset( (uint8 *)hdr, 0, sizeof ( zclFrameHdr_t ) );
   \   00000D                ; Setup parameters for call to function osal_memset
   \   00000D   7C06         MOV       R4,#0x6
   \   00000F   7D00         MOV       R5,#0x0
   \   000011   7900         MOV       R1,#0x0
   \   000013   12....       LCALL     `??osal_memset::?relay`; Banked call to: osal_memset
   2423          
   2424            // Parse the Frame Control
   2425            hdr->fc.type = zcl_FCType( *pData );
   \   000016   85..82       MOV       DPL,?V0
   \   000019   85..83       MOV       DPH,?V1
   \   00001C   E0           MOVX      A,@DPTR
   \   00001D   54FC         ANL       A,#0xfc
   \   00001F   F8           MOV       R0,A
   \   000020   A3           INC       DPTR
   \   000021   E0           MOVX      A,@DPTR
   \   000022   F9           MOV       R1,A
   \   000023   8E82         MOV       DPL,R6
   \   000025   8F83         MOV       DPH,R7
   \   000027   E0           MOVX      A,@DPTR
   \   000028   5403         ANL       A,#0x3
   \   00002A   FA           MOV       R2,A
   \   00002B   E8           MOV       A,R0
   \   00002C   4A           ORL       A,R2
   \   00002D   85..82       MOV       DPL,?V0
   \   000030   85..83       MOV       DPH,?V1
   \   000033   F0           MOVX      @DPTR,A
   \   000034   A3           INC       DPTR
   \   000035   E9           MOV       A,R1
   \   000036   12....       LCALL     ?Subroutine31 & 0xFFFF
   2426            hdr->fc.manuSpecific = zcl_FCManuSpecific( *pData ) ? 1 : 0;
   \                     ??CrossCallReturnLabel_32:
   \   000039   A2E2         MOV       C,0xE0 /* A   */.2
   \   00003B   5004         JNC       ??zclParseHdr_0
   \   00003D   D2F0         SETB      B.0
   \   00003F   8002         SJMP      ??zclParseHdr_1
   \                     ??zclParseHdr_0:
   \   000041   C2F0         CLR       B.0
   \                     ??zclParseHdr_1:
   \   000043   85..82       MOV       DPL,?V0
   \   000046   85..83       MOV       DPH,?V1
   \   000049   E0           MOVX      A,@DPTR
   \   00004A   54FB         ANL       A,#0xfb
   \   00004C   F0           MOVX      @DPTR,A
   \   00004D   A2F0         MOV       C,B.0
   \   00004F   E4           CLR       A
   \   000050   33           RLC       A
   \   000051   F5..         MOV       ?V2,A
   \   000053   75..00       MOV       ?V3,#0x0
   \   000056   7402         MOV       A,#0x2
   \   000058   78..         MOV       R0,#?V2
   \   00005A   12....       LCALL     ?S_SHL
   \   00005D   E0           MOVX      A,@DPTR
   \   00005E   45..         ORL       A,?V2
   \   000060   12....       LCALL     ?Subroutine31 & 0xFFFF
   2427            if ( zcl_FCDirection( *pData ) )
   \                     ??CrossCallReturnLabel_33:
   \   000063   A2E3         MOV       C,0xE0 /* A   */.3
   \   000065   85..82       MOV       DPL,?V0
   \   000068   85..83       MOV       DPH,?V1
   \   00006B   E0           MOVX      A,@DPTR
   \   00006C   5004         JNC       ??zclParseHdr_2
   2428            {
   2429              hdr->fc.direction = ZCL_FRAME_SERVER_CLIENT_DIR;
   \   00006E   4408         ORL       A,#0x8
   \   000070   8002         SJMP      ??zclParseHdr_3
   2430            }
   2431            else
   2432            {
   2433              hdr->fc.direction = ZCL_FRAME_CLIENT_SERVER_DIR;
   \                     ??zclParseHdr_2:
   \   000072   54F7         ANL       A,#0xf7
   2434            }
   \                     ??zclParseHdr_3:
   \   000074   12....       LCALL     ?Subroutine31 & 0xFFFF
   2435          
   2436            hdr->fc.disableDefaultRsp = zcl_FCDisableDefaultRsp( *pData ) ? 1 : 0;
   \                     ??CrossCallReturnLabel_34:
   \   000077   A2E4         MOV       C,0xE0 /* A   */.4
   \   000079   5004         JNC       ??zclParseHdr_4
   \   00007B   D2F0         SETB      B.0
   \   00007D   8002         SJMP      ??zclParseHdr_5
   \                     ??zclParseHdr_4:
   \   00007F   C2F0         CLR       B.0
   \                     ??zclParseHdr_5:
   \   000081   85..82       MOV       DPL,?V0
   \   000084   85..83       MOV       DPH,?V1
   \   000087   E0           MOVX      A,@DPTR
   \   000088   54EF         ANL       A,#0xef
   \   00008A   F0           MOVX      @DPTR,A
   \   00008B   A2F0         MOV       C,B.0
   \   00008D   E4           CLR       A
   \   00008E   33           RLC       A
   \   00008F   F5..         MOV       ?V2,A
   \   000091   7404         MOV       A,#0x4
   \   000093   78..         MOV       R0,#?V2
   \   000095   12....       LCALL     ?S_SHL
   \   000098   E0           MOVX      A,@DPTR
   \   000099   45..         ORL       A,?V2
   \   00009B   12....       LCALL     ?Subroutine23 & 0xFFFF
   2437            pData++;  // move past the frame control field
   2438          
   2439            // parse the manfacturer code
   2440            if ( hdr->fc.manuSpecific )
   \                     ??CrossCallReturnLabel_15:
   \   00009E   85..82       MOV       DPL,?V0
   \   0000A1   85..83       MOV       DPH,?V1
   \   0000A4   E0           MOVX      A,@DPTR
   \   0000A5   5404         ANL       A,#0x4
   \   0000A7   6010         JZ        ??zclParseHdr_6
   2441            {
   2442              hdr->manuCode = BUILD_UINT16( pData[0], pData[1] );
   \   0000A9   8E82         MOV       DPL,R6
   \   0000AB   8F83         MOV       DPH,R7
   \   0000AD   E0           MOVX      A,@DPTR
   \   0000AE   FA           MOV       R2,A
   \   0000AF   A3           INC       DPTR
   \   0000B0   12....       LCALL     ?Subroutine101 & 0xFFFF
   2443              pData += 2;
   2444            }
   \                     ??CrossCallReturnLabel_173:
   \   0000B3   12....       LCALL     ??Subroutine215_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_423:
   \   0000B6   5001         JNC       ??zclParseHdr_6
   \   0000B8   0F           INC       R7
   2445          
   2446            // parse the Transaction Sequence Number
   2447            hdr->transSeqNum = *pData++;
   \                     ??zclParseHdr_6:
   \   0000B9   8E82         MOV       DPL,R6
   \   0000BB   8F83         MOV       DPH,R7
   \   0000BD   12....       LCALL     ?Subroutine96 & 0xFFFF
   \                     ??CrossCallReturnLabel_165:
   \   0000C0   12....       LCALL     ?Subroutine40 & 0xFFFF
   2448          
   2449            // parse the Cluster's command ID
   2450            hdr->commandID = *pData++;
   \                     ??CrossCallReturnLabel_51:
   \   0000C3   12....       LCALL     ?Subroutine96 & 0xFFFF
   \                     ??CrossCallReturnLabel_166:
   \   0000C6   A3           INC       DPTR
   \   0000C7   F0           MOVX      @DPTR,A
   2451          
   2452            // Should point to the frame payload
   2453            return ( pData );
   \   0000C8   EE           MOV       A,R6
   \   0000C9   12....       LCALL     ??Subroutine254_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_623:
   \   0000CC   3F           ADDC      A,R7
   \   0000CD   FB           MOV       R3,A
   \   0000CE   02....       LJMP      ??Subroutine203_0 & 0xFFFF
   2454          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine96:
   \   000000   12....       LCALL     ?Subroutine181 & 0xFFFF
   \                     ??CrossCallReturnLabel_319:
   \   000003   A3           INC       DPTR
   \   000004   A3           INC       DPTR
   \   000005   A3           INC       DPTR
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine215_0:
   \   000000   A3           INC       DPTR
   \   000001                REQUIRE ??Subroutine216_0
   \   000001                ; // Fall through to label ??Subroutine216_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine216_0:
   \   000000   A3           INC       DPTR
   \   000001   F0           MOVX      @DPTR,A
   \   000002   A3           INC       DPTR
   \   000003   E9           MOV       A,R1
   \   000004   F0           MOVX      @DPTR,A
   \   000005   EE           MOV       A,R6
   \   000006   2402         ADD       A,#0x2
   \   000008   FE           MOV       R6,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   12....       LCALL     ?Subroutine151 & 0xFFFF
   \                     ??CrossCallReturnLabel_477:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine151:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   8E82         MOV       DPL,R6
   \   000003   8F83         MOV       DPH,R7
   \   000005   A3           INC       DPTR
   \   000006   AE82         MOV       R6,DPL
   \   000008   AF83         MOV       R7,DPH
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine101:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F9           MOV       R1,A
   \   000002   EA           MOV       A,R2
   \   000003   85..82       MOV       DPL,?V0
   \   000006   85..83       MOV       DPH,?V1
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine254_0:
   \   000000   2402         ADD       A,#0x2
   \   000002   FA           MOV       R2,A
   \   000003   E4           CLR       A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine31:
   \   000000   12....       LCALL     ?Subroutine160 & 0xFFFF
   \                     ??CrossCallReturnLabel_289:
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET
   2455          
   2456          /*********************************************************************
   2457           * @fn      zclBuildHdr
   2458           *
   2459           * @brief   Build header of the ZCL format
   2460           *
   2461           * @param   hdr - outgoing header information
   2462           * @param   pData - outgoing header space
   2463           *
   2464           * @return  pointer past the header
   2465           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2466          static uint8 *zclBuildHdr( zclFrameHdr_t *hdr, uint8 *pData )
   \                     zclBuildHdr:
   2467          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   2468            // Build the Frame Control byte
   2469            *pData = hdr->fc.type;
   \   000005   8A82         MOV       DPL,R2
   \   000007   8B83         MOV       DPH,R3
   \   000009   E0           MOVX      A,@DPTR
   \   00000A   5403         ANL       A,#0x3
   \   00000C   8C82         MOV       DPL,R4
   \   00000E   8D83         MOV       DPH,R5
   \   000010   12....       LCALL     ??Subroutine217_0 & 0xFFFF
   2470            *pData |= hdr->fc.manuSpecific << 2;
   \                     ??CrossCallReturnLabel_427:
   \   000013   5404         ANL       A,#0x4
   \   000015   12....       LCALL     ?Subroutine39 & 0xFFFF
   2471            *pData |= hdr->fc.direction << 3;
   \                     ??CrossCallReturnLabel_425:
   \   000018   5408         ANL       A,#0x8
   \   00001A   12....       LCALL     ?Subroutine39 & 0xFFFF
   2472            *pData |= hdr->fc.disableDefaultRsp << 4;
   \                     ??CrossCallReturnLabel_426:
   \   00001D   5410         ANL       A,#0x10
   \   00001F   F8           MOV       R0,A
   \   000020   8C82         MOV       DPL,R4
   \   000022   8D83         MOV       DPH,R5
   \   000024   E0           MOVX      A,@DPTR
   \   000025   48           ORL       A,R0
   \   000026   F0           MOVX      @DPTR,A
   2473            pData++;  // move past the frame control field
   \   000027   A3           INC       DPTR
   \   000028   AC82         MOV       R4,DPL
   \   00002A   AD83         MOV       R5,DPH
   2474          
   2475            // Add the manfacturer code
   2476            if ( hdr->fc.manuSpecific )
   \   00002C   8A82         MOV       DPL,R2
   \   00002E   8B83         MOV       DPH,R3
   \   000030   E0           MOVX      A,@DPTR
   \   000031   5404         ANL       A,#0x4
   \   000033   6016         JZ        ??zclBuildHdr_0
   2477            {
   2478              *pData++ = LO_UINT16( hdr->manuCode );
   \   000035   12....       LCALL     ?Subroutine131 & 0xFFFF
   2479              *pData++ = HI_UINT16( hdr->manuCode );
   2480            }
   \                     ??CrossCallReturnLabel_230:
   \   000038   12....       LCALL     ??Subroutine223_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_449:
   \   00003B   12....       LCALL     ??Subroutine207_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_377:
   \   00003E   8C82         MOV       DPL,R4
   \   000040   8D83         MOV       DPH,R5
   \   000042   A3           INC       DPTR
   \   000043   F0           MOVX      @DPTR,A
   \   000044   EC           MOV       A,R4
   \   000045   2402         ADD       A,#0x2
   \   000047   FC           MOV       R4,A
   \   000048   5001         JNC       ??zclBuildHdr_0
   \   00004A   0D           INC       R5
   2481          
   2482            // Add the Transaction Sequence Number
   2483            *pData++ = hdr->transSeqNum;
   \                     ??zclBuildHdr_0:
   \   00004B   8A82         MOV       DPL,R2
   \   00004D   8B83         MOV       DPH,R3
   \   00004F   12....       LCALL     ?Subroutine97 & 0xFFFF
   \                     ??CrossCallReturnLabel_452:
   \   000052   12....       LCALL     ?Subroutine38 & 0xFFFF
   2484          
   2485            // Add the Cluster's command ID
   2486            *pData++ = hdr->commandID;
   \                     ??CrossCallReturnLabel_49:
   \   000055   12....       LCALL     ?Subroutine97 & 0xFFFF
   \                     ??CrossCallReturnLabel_453:
   \   000058   A3           INC       DPTR
   \   000059   F0           MOVX      @DPTR,A
   2487          
   2488            // Should point to the frame payload
   2489            return ( pData );
   \   00005A   EC           MOV       A,R4
   \   00005B   12....       LCALL     ??Subroutine254_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_624:
   \   00005E   3D           ADDC      A,R5
   \   00005F   FB           MOV       R3,A
   \   000060   80..         SJMP      ??Subroutine218_0
   2490          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine39:
   \   000000   F8           MOV       R0,A
   \   000001   8C82         MOV       DPL,R4
   \   000003   8D83         MOV       DPH,R5
   \   000005   E0           MOVX      A,@DPTR
   \   000006   48           ORL       A,R0
   \   000007                REQUIRE ??Subroutine217_0
   \   000007                ; // Fall through to label ??Subroutine217_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine217_0:
   \   000000   12....       LCALL     ?Subroutine154 & 0xFFFF
   \                     ??CrossCallReturnLabel_432:
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine97:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003                REQUIRE ??Subroutine222_0
   \   000003                ; // Fall through to label ??Subroutine222_0
   2491          
   2492          /*********************************************************************
   2493           * @fn      zclCalcHdrSize
   2494           *
   2495           * @brief   Calculate the number of bytes needed for an outgoing
   2496           *          ZCL header.
   2497           *
   2498           * @param   hdr - outgoing header information
   2499           *
   2500           * @return  returns the number of bytes needed
   2501           */
   2502          static uint8 zclCalcHdrSize( zclFrameHdr_t *hdr )
   2503          {
   2504            uint8 needed = (1 + 1 + 1); // frame control + transaction seq num + cmd ID
   2505          
   2506            // Add the manfacturer code
   2507            if ( hdr->fc.manuSpecific )
   2508            {
   2509              needed += 2;
   2510            }
   2511          
   2512            return ( needed );
   2513          }
   2514          
   2515          /*********************************************************************
   2516           * @fn      zclFindPlugin
   2517           *
   2518           * @brief   Find the right plugin for a cluster ID
   2519           *
   2520           * @param   clusterID - cluster ID to look for
   2521           * @param   profileID - profile ID
   2522           *
   2523           * @return  pointer to plugin, NULL if not found
   2524           */
   2525          static zclLibPlugin_t *zclFindPlugin( uint16 clusterID, uint16 profileID )
   2526          {
   2527            zclLibPlugin_t *pLoop = plugins;
   2528          
   2529            (void)profileID;  // Intentionally unreferenced parameter
   2530          
   2531            while ( pLoop != NULL )
   2532            {
   2533              if ( ( clusterID >= pLoop->startClusterID ) && ( clusterID <= pLoop->endClusterID ) )
   2534              {
   2535                return ( pLoop );
   2536              }
   2537          
   2538              pLoop = pLoop->next;
   2539            }
   2540          
   2541            return ( (zclLibPlugin_t *)NULL );
   2542          }
   2543          
   2544          #ifdef ZCL_DISCOVER
   2545          /*********************************************************************
   2546           * @fn      zclFindCmdRecsList
   2547           *
   2548           * @brief   Find the right command record list for an endpoint
   2549           *
   2550           * @param   endpoint - endpoint to look for
   2551           *
   2552           * @return  pointer to record list, NULL if not found
   2553           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2554          static zclCmdRecsList_t *zclFindCmdRecsList( uint8 endpoint )
   \                     zclFindCmdRecsList:
   2555          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   2556            zclCmdRecsList_t *pLoop = gpCmdList;
   \   000004   90....       MOV       DPTR,#gpCmdList
   \   000007   8004         SJMP      ??zclFindCmdRecsList_0
   2557          
   2558            while ( pLoop != NULL )
   2559            {
   2560              if ( pLoop->endpoint == endpoint )
   2561              {
   2562                return ( pLoop );
   2563              }
   2564          
   2565              pLoop = pLoop->pNext;
   \                     ??zclFindCmdRecsList_1:
   \   000009   8A82         MOV       DPL,R2
   \   00000B   8B83         MOV       DPH,R3
   \                     ??zclFindCmdRecsList_0:
   \   00000D   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_356:
   \   000010   600C         JZ        ??zclFindCmdRecsList_2
   \   000012   8A82         MOV       DPL,R2
   \   000014   8B83         MOV       DPH,R3
   \   000016   A3           INC       DPTR
   \   000017   A3           INC       DPTR
   \   000018   E0           MOVX      A,@DPTR
   \   000019   69           XRL       A,R1
   \   00001A   70ED         JNZ       ??zclFindCmdRecsList_1
   \   00001C   8004         SJMP      ??zclFindCmdRecsList_3
   2566            }
   2567          
   2568            return ( NULL );
   \                     ??zclFindCmdRecsList_2:
   \   00001E   7A00         MOV       R2,#0x0
   \   000020   7B00         MOV       R3,#0x0
   \                     ??zclFindCmdRecsList_3:
   \   000022   02....       LJMP      ?Subroutine0 & 0xFFFF
   2569          }
   2570          
   2571          /*********************************************************************
   2572           * @fn      zclFindCmdRec
   2573           *
   2574           * @brief   Find the command record that matchs the parameters
   2575           *
   2576           * @param   endpoint - Application's endpoint
   2577           * @param   clusterID - cluster ID
   2578           * @param   attrId - attribute looking for
   2579           * @param   pAttr - attribute record to be returned
   2580           *
   2581           * @return  TRUE if record found. FALSE, otherwise.
   2582           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2583          uint8 zclFindCmdRec( uint8 endpoint, uint16 clusterID, uint8 cmdID, zclCommandRec_t *pCmd )
   \                     zclFindCmdRec:
   2584          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV       A,#-0xe
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
   \   000009   8C..         MOV       ?V1,R4
   2585            uint8 i;
   2586            zclCmdRecsList_t *pRec = zclFindCmdRecsList( endpoint );
   \   00000B                ; Setup parameters for call to function zclFindCmdRecsList
   \   00000B   12....       LCALL     `??zclFindCmdRecsList::?relay`; Banked call to: zclFindCmdRecsList
   \   00000E   8A..         MOV       ?V2,R2
   \   000010   8B..         MOV       ?V3,R3
   2587          
   2588            if ( pRec != NULL )
   \   000012   EA           MOV       A,R2
   \   000013   45..         ORL       A,?V3
   \   000015   6051         JZ        ??zclFindCmdRec_0
   2589            {
   2590              for ( i = 0; i < pRec->numCommands; i++ )
   \   000017   7C00         MOV       R4,#0x0
   \   000019   8001         SJMP      ??zclFindCmdRec_1
   \                     ??zclFindCmdRec_2:
   \   00001B   0C           INC       R4
   \                     ??zclFindCmdRec_1:
   \   00001C   85..82       MOV       DPL,?V2
   \   00001F   85..83       MOV       DPH,?V3
   \   000022   A3           INC       DPTR
   \   000023   A3           INC       DPTR
   \   000024   A3           INC       DPTR
   \   000025   E0           MOVX      A,@DPTR
   \   000026   F8           MOV       R0,A
   \   000027   EC           MOV       A,R4
   \   000028   C3           CLR       C
   \   000029   98           SUBB      A,R0
   \   00002A   503C         JNC       ??zclFindCmdRec_0
   2591              {
   2592                if ( pRec->pCmdRecs[i].clusterID == clusterID && pRec->pCmdRecs[i].cmdID == cmdID )
   \   00002C   EC           MOV       A,R4
   \   00002D   F5..         MOV       ?V4,A
   \   00002F   75..00       MOV       ?V5,#0x0
   \   000032   7402         MOV       A,#0x2
   \   000034   78..         MOV       R0,#?V4
   \   000036   12....       LCALL     ?S_SHL
   \   000039   85..82       MOV       DPL,?V2
   \   00003C   85..83       MOV       DPH,?V3
   \   00003F   12....       LCALL     ?Subroutine114 & 0xFFFF
   \                     ??CrossCallReturnLabel_200:
   \   000042   8882         MOV       DPL,R0
   \   000044   8983         MOV       DPH,R1
   \   000046   12....       LCALL     ?Subroutine150 & 0xFFFF
   \                     ??CrossCallReturnLabel_270:
   \   000049   7002         JNZ       ??zclFindCmdRec_3
   \   00004B   EF           MOV       A,R7
   \   00004C   6B           XRL       A,R3
   \                     ??zclFindCmdRec_3:
   \   00004D   70CC         JNZ       ??zclFindCmdRec_2
   \   00004F   A3           INC       DPTR
   \   000050   A3           INC       DPTR
   \   000051   E4           CLR       A
   \   000052   93           MOVC      A,@A+DPTR
   \   000053   65..         XRL       A,?V1
   \   000055   70C4         JNZ       ??zclFindCmdRec_2
   2593                {
   2594                  *pCmd = pRec->pCmdRecs[i];
   \   000057   740E         MOV       A,#0xe
   \   000059   12....       LCALL     ?XSTACK_DISP0_8
   \   00005C   12....       LCALL     ?Subroutine109 & 0xFFFF
   \                     ??CrossCallReturnLabel_190:
   \   00005F   7404         MOV       A,#0x4
   \   000061   12....       LCALL     ?MOVE_LONG8_XDATA_CODE
   2595          
   2596                  return ( TRUE ); // EMBEDDED RETURN
   \   000064   7901         MOV       R1,#0x1
   \   000066   8002         SJMP      ??zclFindCmdRec_4
   2597                }
   2598              }
   2599            }
   2600          
   2601            return ( FALSE );
   \                     ??zclFindCmdRec_0:
   \   000068   7900         MOV       R1,#0x0
   \                     ??zclFindCmdRec_4:
   \   00006A   02....       LJMP      ?Subroutine3 & 0xFFFF
   2602          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine150:
   \   000000   E4           CLR       A
   \   000001   93           MOVC      A,@A+DPTR
   \   000002   FA           MOV       R2,A
   \   000003   7401         MOV       A,#0x1
   \   000005   93           MOVC      A,@A+DPTR
   \   000006   FB           MOV       R3,A
   \   000007   EE           MOV       A,R6
   \   000008   6A           XRL       A,R2
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine109:
   \   000000   12....       LCALL     ??Subroutine248_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_576:
   \   000003   8983         MOV       DPH,R1
   \   000005   8882         MOV       DPL,R0
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine114:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   25..         ADD       A,?V4
   \   000007   F8           MOV       R0,A
   \   000008   A3           INC       DPTR
   \   000009   E0           MOVX      A,@DPTR
   \   00000A   35..         ADDC      A,?V5
   \   00000C   F9           MOV       R1,A
   \   00000D   22           RET
   2603          #endif // ZCL_DISCOVER
   2604          
   2605          /*********************************************************************
   2606           * @fn      zclFindAttrRecsList
   2607           *
   2608           * @brief   Find the right attribute record list for an endpoint
   2609           *
   2610           * @param   clusterID - endpointto look for
   2611           *
   2612           * @return  pointer to record list, NULL if not found
   2613           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2614          zclAttrRecsList *zclFindAttrRecsList( uint8 endpoint )
   \                     zclFindAttrRecsList:
   2615          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   2616            zclAttrRecsList *pLoop = attrList;
   \   000004   90....       MOV       DPTR,#attrList
   \   000007   8004         SJMP      ??zclFindAttrRecsList_0
   2617          
   2618            while ( pLoop != NULL )
   2619            {
   2620              if ( pLoop->endpoint == endpoint )
   2621              {
   2622                return ( pLoop );
   2623              }
   2624          
   2625              pLoop = pLoop->next;
   \                     ??zclFindAttrRecsList_1:
   \   000009   8A82         MOV       DPL,R2
   \   00000B   8B83         MOV       DPH,R3
   \                     ??zclFindAttrRecsList_0:
   \   00000D   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_357:
   \   000010   600C         JZ        ??zclFindAttrRecsList_2
   \   000012   8A82         MOV       DPL,R2
   \   000014   8B83         MOV       DPH,R3
   \   000016   A3           INC       DPTR
   \   000017   A3           INC       DPTR
   \   000018   E0           MOVX      A,@DPTR
   \   000019   69           XRL       A,R1
   \   00001A   70ED         JNZ       ??zclFindAttrRecsList_1
   \   00001C   8004         SJMP      ??zclFindAttrRecsList_3
   2626            }
   2627          
   2628            return ( NULL );
   \                     ??zclFindAttrRecsList_2:
   \   00001E   7A00         MOV       R2,#0x0
   \   000020   7B00         MOV       R3,#0x0
   \                     ??zclFindAttrRecsList_3:
   \   000022   02....       LJMP      ?Subroutine0 & 0xFFFF
   2629          }
   2630          
   2631          /*********************************************************************
   2632           * @fn      zclFindAttrRec
   2633           *
   2634           * @brief   Find the attribute record that matchs the parameters
   2635           *
   2636           * @param   endpoint - Application's endpoint
   2637           * @param   clusterID - cluster ID
   2638           * @param   attrId - attribute looking for
   2639           * @param   pAttr - attribute record to be returned
   2640           *
   2641           * @return  TRUE if record found. FALSE, otherwise.
   2642           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2643          uint8 zclFindAttrRec( uint8 endpoint, uint16 clusterID, uint16 attrId, zclAttrRec_t *pAttr )
   \                     zclFindAttrRec:
   2644          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV       ?V0,R2
   \   000007   8B..         MOV       ?V1,R3
   \   000009   EC           MOV       A,R4
   \   00000A   FE           MOV       R6,A
   \   00000B   ED           MOV       A,R5
   \   00000C   FF           MOV       R7,A
   2645            uint8 x;
   2646            zclAttrRecsList *pRec = zclFindAttrRecsList( endpoint );
   \   00000D                ; Setup parameters for call to function zclFindAttrRecsList
   \   00000D   12....       LCALL     `??zclFindAttrRecsList::?relay`; Banked call to: zclFindAttrRecsList
   \   000010   8A..         MOV       ?V4,R2
   \   000012   8B..         MOV       ?V5,R3
   2647          
   2648            if ( pRec != NULL )
   \   000014   EA           MOV       A,R2
   \   000015   45..         ORL       A,?V5
   \   000017   6064         JZ        ??zclFindAttrRec_0
   2649            {
   2650              for ( x = 0; x < pRec->numAttributes; x++ )
   \   000019   7C00         MOV       R4,#0x0
   \   00001B   8001         SJMP      ??zclFindAttrRec_1
   \                     ??zclFindAttrRec_2:
   \   00001D   0C           INC       R4
   \                     ??zclFindAttrRec_1:
   \   00001E   85..82       MOV       DPL,?V4
   \   000021   85..83       MOV       DPH,?V5
   \   000024   A3           INC       DPTR
   \   000025   A3           INC       DPTR
   \   000026   A3           INC       DPTR
   \   000027   A3           INC       DPTR
   \   000028   A3           INC       DPTR
   \   000029   A3           INC       DPTR
   \   00002A   A3           INC       DPTR
   \   00002B   E0           MOVX      A,@DPTR
   \   00002C   F8           MOV       R0,A
   \   00002D   EC           MOV       A,R4
   \   00002E   C3           CLR       C
   \   00002F   98           SUBB      A,R0
   \   000030   504B         JNC       ??zclFindAttrRec_0
   2651              {
   2652                if ( pRec->attrs[x].clusterID == clusterID && pRec->attrs[x].attr.attrId == attrId )
   \   000032   EC           MOV       A,R4
   \   000033   F5..         MOV       ?V6,A
   \   000035   75..00       MOV       ?V7,#0x0
   \   000038   7403         MOV       A,#0x3
   \   00003A   78..         MOV       R0,#?V6
   \   00003C   12....       LCALL     ?S_SHL
   \   00003F   85..82       MOV       DPL,?V4
   \   000042   85..83       MOV       DPH,?V5
   \   000045   A3           INC       DPTR
   \   000046   A3           INC       DPTR
   \   000047   A3           INC       DPTR
   \   000048   A3           INC       DPTR
   \   000049   12....       LCALL     ?Subroutine115 & 0xFFFF
   \                     ??CrossCallReturnLabel_202:
   \   00004C   8882         MOV       DPL,R0
   \   00004E   8983         MOV       DPH,R1
   \   000050   E4           CLR       A
   \   000051   93           MOVC      A,@A+DPTR
   \   000052   FA           MOV       R2,A
   \   000053   7401         MOV       A,#0x1
   \   000055   93           MOVC      A,@A+DPTR
   \   000056   FB           MOV       R3,A
   \   000057   E5..         MOV       A,?V0
   \   000059   6A           XRL       A,R2
   \   00005A   7003         JNZ       ??zclFindAttrRec_3
   \   00005C   E5..         MOV       A,?V1
   \   00005E   6B           XRL       A,R3
   \                     ??zclFindAttrRec_3:
   \   00005F   70BC         JNZ       ??zclFindAttrRec_2
   \   000061   A3           INC       DPTR
   \   000062   A3           INC       DPTR
   \   000063   12....       LCALL     ?Subroutine150 & 0xFFFF
   \                     ??CrossCallReturnLabel_271:
   \   000066   7002         JNZ       ??zclFindAttrRec_4
   \   000068   EF           MOV       A,R7
   \   000069   6B           XRL       A,R3
   \                     ??zclFindAttrRec_4:
   \   00006A   70B1         JNZ       ??zclFindAttrRec_2
   2653                {
   2654                  *pAttr = pRec->attrs[x];
   \   00006C   7410         MOV       A,#0x10
   \   00006E   12....       LCALL     ?XSTACK_DISP0_8
   \   000071   12....       LCALL     ?Subroutine109 & 0xFFFF
   \                     ??CrossCallReturnLabel_191:
   \   000074   7408         MOV       A,#0x8
   \   000076   12....       LCALL     ?MOVE_LONG8_XDATA_CODE
   2655          
   2656                  return ( TRUE ); // EMBEDDED RETURN
   \   000079   7901         MOV       R1,#0x1
   \   00007B   8002         SJMP      ??zclFindAttrRec_5
   2657                }
   2658              }
   2659            }
   2660          
   2661            return ( FALSE );
   \                     ??zclFindAttrRec_0:
   \   00007D   7900         MOV       R1,#0x0
   \                     ??zclFindAttrRec_5:
   \   00007F   80..         SJMP      ??Subroutine219_0
   2662          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine115:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   25..         ADD       A,?V6
   \   000007   F8           MOV       R0,A
   \   000008   A3           INC       DPTR
   \   000009   E0           MOVX      A,@DPTR
   \   00000A   35..         ADDC      A,?V7
   \   00000C   F9           MOV       R1,A
   \   00000D   22           RET
   2663          
   2664          #if defined ( ZCL_STANDALONE )
   2665          /*********************************************************************
   2666           * @fn      zclSetAttrRecList
   2667           *
   2668           * @brief   Set attribute record list for end point
   2669           *
   2670           * @param   endpoint - endpoint the attribute list belongs to
   2671           * @param   numAttr - number of attributes in list
   2672           * @param   attrList - array of attribute records.
   2673           *                     NOTE: THE ATTRIBUTE IDs (FOR A CLUSTER) MUST BE
   2674           *                     IN ASCENDING ORDER. OTHERWISE, THE DISCOVERY
   2675           *                     RESPONSE COMMAND WILL NOT HAVE THE RIGHT
   2676           *                     ATTRIBUTE INFO
   2677           *
   2678           * @return  TRUE if successful, FALSE otherwise.
   2679           */
   2680          uint8 zclSetAttrRecList( uint8 endpoint, uint8 numAttr, CONST zclAttrRec_t attrList[] )
   2681          {
   2682            zclAttrRecsList *pRecsList = zclFindAttrRecsList( endpoint );
   2683          
   2684            if ( pRecsList != NULL )
   2685            {
   2686              pRecsList->numAttributes = numAttr;
   2687              pRecsList->attrs = attrList;
   2688              return ( TRUE );
   2689            }
   2690          
   2691            return ( FALSE );
   2692          }
   2693          
   2694          #endif // ZCL_STANDALONE
   2695          
   2696          #if defined ( ZCL_READ ) || defined ( ZCL_WRITE )
   2697          /*********************************************************************
   2698           * @fn      zclGetReadWriteCB
   2699           *
   2700           * @brief   Get the Read/Write callback function pointer for a given endpoint.
   2701           *
   2702           * @param   endpoint - Application's endpoint
   2703           *
   2704           * @return  Read/Write CB, NULL if not found
   2705           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2706          static zclReadWriteCB_t zclGetReadWriteCB( uint8 endpoint )
   \                     zclGetReadWriteCB:
   2707          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   2708            zclAttrRecsList *pRec = zclFindAttrRecsList( endpoint );
   \   000005                ; Setup parameters for call to function zclFindAttrRecsList
   \   000005   12....       LCALL     `??zclFindAttrRecsList::?relay`; Banked call to: zclFindAttrRecsList
   \   000008   8A82         MOV       DPL,R2
   \   00000A   8B83         MOV       DPH,R3
   2709          
   2710            if ( pRec != NULL )
   \   00000C   E582         MOV       A,DPL
   \   00000E   4583         ORL       A,DPH
   \   000010   6005         JZ        ??zclGetReadWriteCB_0
   2711            {
   2712              return ( pRec->pfnReadWriteCB );
   \   000012   12....       LCALL     ??Subroutine238_0 & 0xFFFF
   2713            }
   \                     ??CrossCallReturnLabel_554:
   \   000015   8004         SJMP      ??zclGetReadWriteCB_1
   2714          
   2715            return ( NULL );
   \                     ??zclGetReadWriteCB_0:
   \   000017   7A00         MOV       R2,#0x0
   \   000019   7B00         MOV       R3,#0x0
   \                     ??zclGetReadWriteCB_1:
   \   00001B   02....       LJMP      ?Subroutine2 & 0xFFFF
   2716          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine238_0:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003                REQUIRE ??Subroutine239_0
   \   000003                ; // Fall through to label ??Subroutine239_0
   2717          
   2718          /*********************************************************************
   2719           * @fn      zclGetAuthorizeCB
   2720           *
   2721           * @brief   Get the Read/Write Authorization callback function pointer
   2722           *          for a given endpoint.
   2723           *
   2724           * @param   endpoint - Application's endpoint
   2725           *
   2726           * @return  Authorization CB, NULL if not found
   2727           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2728          static zclAuthorizeCB_t zclGetAuthorizeCB( uint8 endpoint )
   \                     zclGetAuthorizeCB:
   2729          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   2730            zclAttrRecsList *pRec = zclFindAttrRecsList( endpoint );
   \   000005                ; Setup parameters for call to function zclFindAttrRecsList
   \   000005   12....       LCALL     `??zclFindAttrRecsList::?relay`; Banked call to: zclFindAttrRecsList
   \   000008   8A82         MOV       DPL,R2
   \   00000A   8B83         MOV       DPH,R3
   2731          
   2732            if ( pRec != NULL )
   \   00000C   E582         MOV       A,DPL
   \   00000E   4583         ORL       A,DPH
   \   000010   6005         JZ        ??zclGetAuthorizeCB_0
   2733            {
   2734              return ( pRec->pfnAuthorizeCB );
   \   000012   12....       LCALL     ?Subroutine81 & 0xFFFF
   2735            }
   \                     ??CrossCallReturnLabel_558:
   \   000015   8004         SJMP      ??zclGetAuthorizeCB_1
   2736          
   2737            return ( NULL );
   \                     ??zclGetAuthorizeCB_0:
   \   000017   7A00         MOV       R2,#0x0
   \   000019   7B00         MOV       R3,#0x0
   \                     ??zclGetAuthorizeCB_1:
   \   00001B   02....       LJMP      ?Subroutine2 & 0xFFFF
   2738          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine81:
   \   000000   A3           INC       DPTR
   \   000001                REQUIRE ??Subroutine237_0
   \   000001                ; // Fall through to label ??Subroutine237_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine237_0:
   \   000000   A3           INC       DPTR
   \   000001                REQUIRE ??Subroutine238_0
   \   000001                ; // Fall through to label ??Subroutine238_0
   2739          #endif // ZCL_READ || ZCL_WRITE
   2740          
   2741          /*********************************************************************
   2742           * @fn      zclFindClusterOption
   2743           *
   2744           * @brief   Find the option record that matchs the cluster id
   2745           *
   2746           * @param   endpoint - Application's endpoint
   2747           * @param   clusterID - cluster ID looking for
   2748           *
   2749           * @return  pointer to clutser option, NULL if not found
   2750           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2751          static zclOptionRec_t *zclFindClusterOption( uint8 endpoint, uint16 clusterID )
   \                     zclFindClusterOption:
   2752          {
   \   000000                REQUIRE ?V0
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
   \   000006   FF           MOV       R7,A
   \   000007   EA           MOV       A,R2
   \   000008   FC           MOV       R4,A
   \   000009   EB           MOV       A,R3
   \   00000A   FD           MOV       R5,A
   2753            zclClusterOptionList *pLoop;
   2754          
   2755            pLoop = clusterOptionList;
   \   00000B   90....       MOV       DPTR,#clusterOptionList
   \   00000E   8004         SJMP      ??zclFindClusterOption_0
   2756            while ( pLoop != NULL )
   2757            {
   2758              if ( pLoop->endpoint == endpoint )
   2759              {
   2760                uint8 x;
   2761                for ( x = 0; x < pLoop->numOptions; x++ )
   2762                {
   2763                  if ( pLoop->options[x].clusterID == clusterID )
   2764                  {
   2765                    return ( &(pLoop->options[x]) ); // EMBEDDED RETURN
   2766                  }
   2767                }
   2768              }
   2769          
   2770              pLoop = pLoop->next;
   \                     ??zclFindClusterOption_1:
   \   000010   8882         MOV       DPL,R0
   \   000012   8983         MOV       DPH,R1
   \                     ??zclFindClusterOption_0:
   \   000014   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_437:
   \   000017   6046         JZ        ??zclFindClusterOption_2
   \   000019   8882         MOV       DPL,R0
   \   00001B   8983         MOV       DPH,R1
   \   00001D   A3           INC       DPTR
   \   00001E   A3           INC       DPTR
   \   00001F   E0           MOVX      A,@DPTR
   \   000020   6F           XRL       A,R7
   \   000021   70ED         JNZ       ??zclFindClusterOption_1
   \   000023   7E00         MOV       R6,#0x0
   \   000025   8001         SJMP      ??zclFindClusterOption_3
   \                     ??zclFindClusterOption_4:
   \   000027   0E           INC       R6
   \                     ??zclFindClusterOption_3:
   \   000028   8882         MOV       DPL,R0
   \   00002A   8983         MOV       DPH,R1
   \   00002C   A3           INC       DPTR
   \   00002D   A3           INC       DPTR
   \   00002E   A3           INC       DPTR
   \   00002F   E0           MOVX      A,@DPTR
   \   000030   FA           MOV       R2,A
   \   000031   EE           MOV       A,R6
   \   000032   C3           CLR       C
   \   000033   9A           SUBB      A,R2
   \   000034   50DA         JNC       ??zclFindClusterOption_1
   \   000036   EE           MOV       A,R6
   \   000037   75F003       MOV       B,#0x3
   \   00003A   A4           MUL       AB
   \   00003B   FA           MOV       R2,A
   \   00003C   85F0..       MOV       ?V0,B
   \   00003F   AB..         MOV       R3,?V0
   \   000041   8882         MOV       DPL,R0
   \   000043   8983         MOV       DPH,R1
   \   000045   A3           INC       DPTR
   \   000046   A3           INC       DPTR
   \   000047   A3           INC       DPTR
   \   000048   A3           INC       DPTR
   \   000049   E0           MOVX      A,@DPTR
   \   00004A   2A           ADD       A,R2
   \   00004B   FA           MOV       R2,A
   \   00004C   A3           INC       DPTR
   \   00004D   E0           MOVX      A,@DPTR
   \   00004E   3B           ADDC      A,R3
   \   00004F   FB           MOV       R3,A
   \   000050   8A82         MOV       DPL,R2
   \   000052   8B83         MOV       DPH,R3
   \   000054   E0           MOVX      A,@DPTR
   \   000055   6C           XRL       A,R4
   \   000056   7003         JNZ       ??zclFindClusterOption_5
   \   000058   A3           INC       DPTR
   \   000059   E0           MOVX      A,@DPTR
   \   00005A   6D           XRL       A,R5
   \                     ??zclFindClusterOption_5:
   \   00005B   70CA         JNZ       ??zclFindClusterOption_4
   \   00005D   8004         SJMP      ??zclFindClusterOption_6
   2771            }
   2772          
   2773            return ( NULL );
   \                     ??zclFindClusterOption_2:
   \   00005F   7A00         MOV       R2,#0x0
   \   000061   7B00         MOV       R3,#0x0
   \                     ??zclFindClusterOption_6:
   \   000063   02....       LJMP      ??Subroutine218_0 & 0xFFFF
   2774          }
   2775          
   2776          /*********************************************************************
   2777           * @fn      zclGetClusterOption
   2778           *
   2779           * @brief   Get the option record that matchs the cluster id
   2780           *
   2781           * @param   endpoint - Application's endpoint
   2782           * @param   clusterID - cluster ID looking for
   2783           *
   2784           * @return  clutser option, AF_TX_OPTIONS_NONE if not found
   2785           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2786          static uint8 zclGetClusterOption( uint8 endpoint, uint16 clusterID )
   \                     zclGetClusterOption:
   2787          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   2788            uint8 option;
   2789            zclOptionRec_t *pOption;
   2790          
   2791            pOption = zclFindClusterOption( endpoint, clusterID );
   \   000005                ; Setup parameters for call to function zclFindClusterOption
   \   000005   12....       LCALL     `??zclFindClusterOption::?relay`; Banked call to: zclFindClusterOption
   \   000008   8A82         MOV       DPL,R2
   \   00000A   8B83         MOV       DPH,R3
   2792            if ( pOption != NULL )
   \   00000C   E582         MOV       A,DPL
   \   00000E   4583         ORL       A,DPH
   \   000010   6006         JZ        ??zclGetClusterOption_0
   2793            {
   2794              option = pOption->option;
   2795              if ( !ZG_SECURE_ENABLED )
   2796              {
   2797                option &= (AF_EN_SECURITY ^ 0xFF); // make sure Application Link Key security is off
   2798              }
   2799          
   2800              return ( option ); // EMBEDDED RETURN
   \   000012   A3           INC       DPTR
   \   000013   A3           INC       DPTR
   \   000014   E0           MOVX      A,@DPTR
   \   000015   F9           MOV       R1,A
   \   000016   8002         SJMP      ??zclGetClusterOption_1
   2801            }
   2802          
   2803            return ( AF_TX_OPTIONS_NONE );
   \                     ??zclGetClusterOption_0:
   \   000018   7900         MOV       R1,#0x0
   \                     ??zclGetClusterOption_1:
   \   00001A                REQUIRE ?Subroutine2
   \   00001A                ; // Fall through to label ?Subroutine2
   2804          }
   2805          
   2806          /*********************************************************************
   2807           * @fn      zclSetSecurityOption
   2808           *
   2809           * @brief   Set the security option for the cluster id
   2810           *
   2811           * @param   endpoint - Application's endpoint
   2812           * @param   clusterID - cluster ID looking for
   2813           * @param   enable - whether to enable (TRUE) or disable (FALSE) security option
   2814           *
   2815           * @return  none
   2816           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2817          static void zclSetSecurityOption( uint8 endpoint, uint16 clusterID, uint8 enable )
   \                     zclSetSecurityOption:
   2818          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   EC           MOV       A,R4
   \   000006   FF           MOV       R7,A
   2819            zclOptionRec_t *pOption;
   2820          
   2821            pOption = zclFindClusterOption( endpoint, clusterID );
   \   000007                ; Setup parameters for call to function zclFindClusterOption
   \   000007   12....       LCALL     `??zclFindClusterOption::?relay`; Banked call to: zclFindClusterOption
   \   00000A   8A..         MOV       ?V0,R2
   \   00000C   8B..         MOV       ?V1,R3
   \   00000E   A8..         MOV       R0,?V0
   \   000010   A9..         MOV       R1,?V1
   2822            if ( pOption != NULL )
   \   000012   E8           MOV       A,R0
   \   000013   49           ORL       A,R1
   \   000014   6015         JZ        ??zclSetSecurityOption_0
   2823            {
   2824              if ( enable )
   \   000016   E8           MOV       A,R0
   \   000017   2402         ADD       A,#0x2
   \   000019   F582         MOV       DPL,A
   \   00001B   E4           CLR       A
   \   00001C   39           ADDC      A,R1
   \   00001D   F583         MOV       DPH,A
   \   00001F   EF           MOV       A,R7
   \   000020   6005         JZ        ??zclSetSecurityOption_1
   2825              {
   2826                pOption->option |= AF_EN_SECURITY;
   \   000022   E0           MOVX      A,@DPTR
   \   000023   D2E6         SETB      0xE0 /* A   */.6
   \   000025   8003         SJMP      ??zclSetSecurityOption_2
   2827              }
   2828              else
   2829              {
   2830                pOption->option &= (AF_EN_SECURITY ^ 0xFF);
   \                     ??zclSetSecurityOption_1:
   \   000027   E0           MOVX      A,@DPTR
   \   000028   C2E6         CLR       0xE0 /* A   */.6
   \                     ??zclSetSecurityOption_2:
   \   00002A   F0           MOVX      @DPTR,A
   2831              }
   2832            }
   2833          }
   \                     ??zclSetSecurityOption_0:
   \   00002B   80..         SJMP      ?Subroutine2
   2834          
   2835          #ifdef ZCL_DISCOVER
   2836          /*********************************************************************
   2837           * @fn      zclFindNextCmdRec
   2838           *
   2839           * @brief   Find the command (or next) record that matchs the parameters
   2840           *
   2841           * @param   endpoint - Application's endpoint
   2842           * @param   clusterID - cluster ID
   2843           * @param   commandID - command ID from requesting command
   2844           * @param   direction- direction of received command
   2845           * @param   pCmdID - command looking for
   2846           * @param   pCmd - command information within command record list
   2847           *
   2848           * @return  pointer to command record, NULL no more records of this cluster
   2849           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2850          static uint8 zclFindNextCmdRec( uint8 endpoint, uint16 clusterID, uint8 commandID,
   \                     zclFindNextCmdRec:
   2851                                          uint8 direction, uint8 *pCmdID, zclCommandRec_t *pCmd )
   2852          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
   \   000009   8C..         MOV       ?V1,R4
   \   00000B   8D..         MOV       ?V2,R5
   2853            zclCmdRecsList_t *pRec = zclFindCmdRecsList( endpoint );
   \   00000D                ; Setup parameters for call to function zclFindCmdRecsList
   \   00000D   12....       LCALL     `??zclFindCmdRecsList::?relay`; Banked call to: zclFindCmdRecsList
   \   000010   8A..         MOV       ?V4,R2
   \   000012   8B..         MOV       ?V5,R3
   2854            uint8 i;
   2855          
   2856            if ( pRec != NULL )
   \   000014   EA           MOV       A,R2
   \   000015   45..         ORL       A,?V5
   \   000017   7003         JNZ       $+5
   \   000019   02....       LJMP      ??zclFindNextCmdRec_0 & 0xFFFF
   2857            {
   2858              for ( i = 0; i < pRec->numCommands; i++ )
   \   00001C   75..00       MOV       ?V3,#0x0
   \   00001F   7410         MOV       A,#0x10
   \   000021   12....       LCALL     ?XSTACK_DISP0_8
   \   000024   12....       LCALL     ??Subroutine230_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_481:
   \   000027   E8           MOV       A,R0
   \   000028   FA           MOV       R2,A
   \   000029   E9           MOV       A,R1
   \   00002A   FB           MOV       R3,A
   \   00002B   8012         SJMP      ??zclFindNextCmdRec_1
   2859              {
   2860                if ( ( pRec->pCmdRecs[i].clusterID == clusterID ) &&
   2861                    ( pRec->pCmdRecs[i].cmdID >= *pCmdID ) )
   2862                {
   2863                  if ( commandID == ZCL_CMD_DISCOVER_CMDS_RECEIVED )
   2864                  {
   2865                    if ( ( direction == ZCL_FRAME_SERVER_CLIENT_DIR ) && ( pRec->pCmdRecs[i].flag & CMD_DIR_CLIENT_RECEIVED ) )
   \                     ??zclFindNextCmdRec_2:
   \   00002D   8C82         MOV       DPL,R4
   \   00002F   8D83         MOV       DPH,R5
   \   000031   A3           INC       DPTR
   \   000032   A3           INC       DPTR
   \   000033   A3           INC       DPTR
   \   000034   E4           CLR       A
   \   000035   93           MOVC      A,@A+DPTR
   \   000036   A2E3         MOV       C,0xE0 /* A   */.3
   \   000038   5003         JNC       $+5
   \   00003A   02....       LJMP      ??zclFindNextCmdRec_3 & 0xFFFF
   \                     ??zclFindNextCmdRec_4:
   \   00003D   05..         INC       ?V3
   \                     ??zclFindNextCmdRec_1:
   \   00003F   85..82       MOV       DPL,?V4
   \   000042   85..83       MOV       DPH,?V5
   \   000045   A3           INC       DPTR
   \   000046   A3           INC       DPTR
   \   000047   A3           INC       DPTR
   \   000048   E0           MOVX      A,@DPTR
   \   000049   F8           MOV       R0,A
   \   00004A   E5..         MOV       A,?V3
   \   00004C   C3           CLR       C
   \   00004D   98           SUBB      A,R0
   \   00004E   4003         JC        $+5
   \   000050   02....       LJMP      ??zclFindNextCmdRec_0 & 0xFFFF
   \   000053   E5..         MOV       A,?V3
   \   000055   F5..         MOV       ?V6,A
   \   000057   75..00       MOV       ?V7,#0x0
   \   00005A   7402         MOV       A,#0x2
   \   00005C   78..         MOV       R0,#?V6
   \   00005E   12....       LCALL     ?S_SHL
   \   000061   85..82       MOV       DPL,?V4
   \   000064   85..83       MOV       DPH,?V5
   \   000067   12....       LCALL     ?Subroutine115 & 0xFFFF
   \                     ??CrossCallReturnLabel_203:
   \   00006A   12....       LCALL     ?Subroutine149 & 0xFFFF
   \                     ??CrossCallReturnLabel_268:
   \   00006D   7002         JNZ       ??zclFindNextCmdRec_5
   \   00006F   EF           MOV       A,R7
   \   000070   69           XRL       A,R1
   \                     ??zclFindNextCmdRec_5:
   \   000071   70CA         JNZ       ??zclFindNextCmdRec_4
   \   000073   8A82         MOV       DPL,R2
   \   000075   8B83         MOV       DPH,R3
   \   000077   E0           MOVX      A,@DPTR
   \   000078   F8           MOV       R0,A
   \   000079   8C82         MOV       DPL,R4
   \   00007B   8D83         MOV       DPH,R5
   \   00007D   A3           INC       DPTR
   \   00007E   A3           INC       DPTR
   \   00007F   E4           CLR       A
   \   000080   93           MOVC      A,@A+DPTR
   \   000081   C3           CLR       C
   \   000082   98           SUBB      A,R0
   \   000083   40B8         JC        ??zclFindNextCmdRec_4
   \   000085   7411         MOV       A,#0x11
   \   000087   65..         XRL       A,?V1
   \   000089   7019         JNZ       ??zclFindNextCmdRec_6
   \   00008B   7401         MOV       A,#0x1
   \   00008D   65..         XRL       A,?V2
   \   00008F   609C         JZ        ??zclFindNextCmdRec_2
   2866                    {
   2867                      *pCmd = pRec->pCmdRecs[i];
   2868          
   2869                      // Update command ID
   2870                      *pCmdID = pCmd->cmdID;
   2871          
   2872                      return ( TRUE ); // EMBEDDED RETURN
   2873                    }
   2874                    else if ( ( direction == ZCL_FRAME_CLIENT_SERVER_DIR ) && ( pRec->pCmdRecs[i].flag & CMD_DIR_SERVER_RECEIVED ) )
   \   000091   E5..         MOV       A,?V2
   \   000093   70A8         JNZ       ??zclFindNextCmdRec_4
   \   000095   8C82         MOV       DPL,R4
   \   000097   8D83         MOV       DPH,R5
   \   000099   A3           INC       DPTR
   \   00009A   A3           INC       DPTR
   \   00009B   A3           INC       DPTR
   \   00009C   E4           CLR       A
   \   00009D   93           MOVC      A,@A+DPTR
   \   00009E   A2E2         MOV       C,0xE0 /* A   */.2
   \                     ??zclFindNextCmdRec_7:
   \   0000A0   4032         JC        ??zclFindNextCmdRec_3
   \   0000A2   8099         SJMP      ??zclFindNextCmdRec_4
   2875                    {
   2876                      *pCmd = pRec->pCmdRecs[i];
   2877          
   2878                      // Update command ID
   2879                      *pCmdID = pCmd->cmdID;
   2880          
   2881                      return ( TRUE ); // EMBEDDED RETURN
   2882                    }
   2883                  }
   2884                  else if ( commandID == ZCL_CMD_DISCOVER_CMDS_GEN )
   \                     ??zclFindNextCmdRec_6:
   \   0000A4   7413         MOV       A,#0x13
   \   0000A6   65..         XRL       A,?V1
   \   0000A8   7044         JNZ       ??zclFindNextCmdRec_0
   2885                  {
   2886                    if ( ( direction == ZCL_FRAME_CLIENT_SERVER_DIR ) && ( pRec->pCmdRecs[i].flag & CMD_DIR_SERVER_GENERATED ) )
   \   0000AA   E5..         MOV       A,?V2
   \   0000AC   700D         JNZ       ??zclFindNextCmdRec_8
   \   0000AE   8C82         MOV       DPL,R4
   \   0000B0   8D83         MOV       DPH,R5
   \   0000B2   A3           INC       DPTR
   \   0000B3   A3           INC       DPTR
   \   0000B4   A3           INC       DPTR
   \   0000B5   E4           CLR       A
   \   0000B6   93           MOVC      A,@A+DPTR
   \   0000B7   A2E0         MOV       C,0xE0 /* A   */.0
   \   0000B9   80E5         SJMP      ??zclFindNextCmdRec_7
   2887                    {
   2888                      *pCmd = pRec->pCmdRecs[i];
   2889          
   2890                      // Update command ID
   2891                      *pCmdID = pCmd->cmdID;
   2892          
   2893                      return ( TRUE ); // EMBEDDED RETURN
   2894                    }
   2895                    else if ( ( direction == ZCL_FRAME_SERVER_CLIENT_DIR ) && ( pRec->pCmdRecs[i].flag & CMD_DIR_CLIENT_GENERATED ) )
   \                     ??zclFindNextCmdRec_8:
   \   0000BB   7401         MOV       A,#0x1
   \   0000BD   65..         XRL       A,?V2
   \   0000BF   6003         JZ        $+5
   \   0000C1   02....       LJMP      ??zclFindNextCmdRec_4 & 0xFFFF
   \   0000C4   8C82         MOV       DPL,R4
   \   0000C6   8D83         MOV       DPH,R5
   \   0000C8   A3           INC       DPTR
   \   0000C9   A3           INC       DPTR
   \   0000CA   A3           INC       DPTR
   \   0000CB   E4           CLR       A
   \   0000CC   93           MOVC      A,@A+DPTR
   \   0000CD   A2E1         MOV       C,0xE0 /* A   */.1
   \   0000CF   4003         JC        $+5
   \   0000D1   02....       LJMP      ??zclFindNextCmdRec_4 & 0xFFFF
   \                     ??zclFindNextCmdRec_3:
   \   0000D4   7412         MOV       A,#0x12
   \   0000D6   12....       LCALL     ?XSTACK_DISP0_8
   \   0000D9   12....       LCALL     ?Subroutine78 & 0xFFFF
   2896                    {
   2897                      *pCmd = pRec->pCmdRecs[i];
   \                     ??CrossCallReturnLabel_134:
   \   0000DC   7404         MOV       A,#0x4
   \   0000DE   12....       LCALL     ?MOVE_LONG8_XDATA_CODE
   2898          
   2899                      // Update command ID
   2900                      *pCmdID = pCmd->cmdID;
   \   0000E1   8882         MOV       DPL,R0
   \   0000E3   8983         MOV       DPH,R1
   \   0000E5   A3           INC       DPTR
   \   0000E6   A3           INC       DPTR
   \   0000E7   12....       LCALL     ?Subroutine90 & 0xFFFF
   2901          
   2902                      return ( TRUE ); // EMBEDDED RETURN
   \                     ??CrossCallReturnLabel_154:
   \   0000EA   7901         MOV       R1,#0x1
   \   0000EC   8002         SJMP      ??zclFindNextCmdRec_9
   2903                    }
   2904                  }
   2905                  else
   2906                  {
   2907                    return ( FALSE ); // Incorrect Command ID
   2908                  }
   2909                }
   2910              }
   2911            }
   2912          
   2913            return ( FALSE );
   \                     ??zclFindNextCmdRec_0:
   \   0000EE   7900         MOV       R1,#0x0
   \                     ??zclFindNextCmdRec_9:
   \   0000F0   02....       LJMP      ??Subroutine219_0 & 0xFFFF
   2914          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine149:
   \   000000   E8           MOV       A,R0
   \   000001   FC           MOV       R4,A
   \   000002   E9           MOV       A,R1
   \   000003   FD           MOV       R5,A
   \   000004   8C82         MOV       DPL,R4
   \   000006   8D83         MOV       DPH,R5
   \   000008   12....       LCALL     ??Subroutine212_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_409:
   \   00000B   EE           MOV       A,R6
   \   00000C   68           XRL       A,R0
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine78:
   \   000000   12....       LCALL     ?Subroutine175 & 0xFFFF
   \                     ??CrossCallReturnLabel_493:
   \   000003   8C82         MOV       DPL,R4
   \   000005   8D83         MOV       DPH,R5
   \   000007   E8           MOV       A,R0
   \   000008   FC           MOV       R4,A
   \   000009   E9           MOV       A,R1
   \   00000A   FD           MOV       R5,A
   \   00000B   22           RET
   2915          
   2916          /*********************************************************************
   2917           * @fn      zclFindNextAttrRec
   2918           *
   2919           * @brief   Find the attribute (or next) record that matchs the parameters
   2920           *
   2921           * @param   endpoint - Application's endpoint
   2922           * @param   clusterID - cluster ID
   2923           * @param   attr - attribute looking for
   2924           *
   2925           * @return  pointer to attribute record, NULL if not found
   2926           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2927          static uint8 zclFindNextAttrRec( uint8 endpoint, uint16 clusterID, uint8 direction,
   \                     zclFindNextAttrRec:
   2928                                           uint16 *attrId, zclAttrRec_t *pAttr )
   2929          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
   \   000009   8C..         MOV       ?V1,R4
   2930            zclAttrRecsList *pRec = zclFindAttrRecsList( endpoint );
   \   00000B                ; Setup parameters for call to function zclFindAttrRecsList
   \   00000B   12....       LCALL     `??zclFindAttrRecsList::?relay`; Banked call to: zclFindAttrRecsList
   \   00000E   8A..         MOV       ?V6,R2
   \   000010   8B..         MOV       ?V7,R3
   2931            uint8 attrDir;
   2932          
   2933            if ( pRec != NULL )
   \   000012   EA           MOV       A,R2
   \   000013   45..         ORL       A,?V7
   \   000015   7003         JNZ       $+5
   \   000017   02....       LJMP      ??zclFindNextAttrRec_0 & 0xFFFF
   2934            {
   2935              uint16 x;
   2936          
   2937              for ( x = 0; x < pRec->numAttributes; x++ )
   \   00001A   7A00         MOV       R2,#0x0
   \   00001C   7B00         MOV       R3,#0x0
   \   00001E   7410         MOV       A,#0x10
   \   000020   12....       LCALL     ?XSTACK_DISP0_8
   \   000023   12....       LCALL     ??Subroutine230_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_482:
   \   000026   88..         MOV       ?V2,R0
   \   000028   89..         MOV       ?V3,R1
   \   00002A   8005         SJMP      ??zclFindNextAttrRec_1
   \                     ??zclFindNextAttrRec_2:
   \   00002C   0A           INC       R2
   \   00002D   EA           MOV       A,R2
   \   00002E   7001         JNZ       ??zclFindNextAttrRec_1
   \   000030   0B           INC       R3
   \                     ??zclFindNextAttrRec_1:
   \   000031   85..82       MOV       DPL,?V6
   \   000034   85..83       MOV       DPH,?V7
   \   000037   A3           INC       DPTR
   \   000038   A3           INC       DPTR
   \   000039   A3           INC       DPTR
   \   00003A   A3           INC       DPTR
   \   00003B   A3           INC       DPTR
   \   00003C   A3           INC       DPTR
   \   00003D   A3           INC       DPTR
   \   00003E   E0           MOVX      A,@DPTR
   \   00003F   F8           MOV       R0,A
   \   000040   C3           CLR       C
   \   000041   EA           MOV       A,R2
   \   000042   98           SUBB      A,R0
   \   000043   EB           MOV       A,R3
   \   000044   9400         SUBB      A,#0x0
   \   000046   5074         JNC       ??zclFindNextAttrRec_0
   2938              {
   2939                if ( ( pRec->attrs[x].clusterID == clusterID ) &&
   2940                     ( pRec->attrs[x].attr.attrId >= *attrId ) )
   \   000048   8A..         MOV       ?V4,R2
   \   00004A   8B..         MOV       ?V5,R3
   \   00004C   7403         MOV       A,#0x3
   \   00004E   78..         MOV       R0,#?V4
   \   000050   12....       LCALL     ?S_SHL
   \   000053   85..82       MOV       DPL,?V6
   \   000056   85..83       MOV       DPH,?V7
   \   000059   A3           INC       DPTR
   \   00005A   A3           INC       DPTR
   \   00005B   A3           INC       DPTR
   \   00005C   A3           INC       DPTR
   \   00005D   12....       LCALL     ?Subroutine114 & 0xFFFF
   \                     ??CrossCallReturnLabel_201:
   \   000060   12....       LCALL     ?Subroutine149 & 0xFFFF
   \                     ??CrossCallReturnLabel_269:
   \   000063   7002         JNZ       ??zclFindNextAttrRec_3
   \   000065   EF           MOV       A,R7
   \   000066   69           XRL       A,R1
   \                     ??zclFindNextAttrRec_3:
   \   000067   70C3         JNZ       ??zclFindNextAttrRec_2
   \   000069   A3           INC       DPTR
   \   00006A   A3           INC       DPTR
   \   00006B   E4           CLR       A
   \   00006C   93           MOVC      A,@A+DPTR
   \   00006D   F5..         MOV       ?V4,A
   \   00006F   7401         MOV       A,#0x1
   \   000071   93           MOVC      A,@A+DPTR
   \   000072   F5..         MOV       ?V5,A
   \   000074   85..82       MOV       DPL,?V2
   \   000077   85..83       MOV       DPH,?V3
   \   00007A   12....       LCALL     ??Subroutine230_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_483:
   \   00007D   C3           CLR       C
   \   00007E   E5..         MOV       A,?V4
   \   000080   98           SUBB      A,R0
   \   000081   E5..         MOV       A,?V5
   \   000083   99           SUBB      A,R1
   \   000084   40A6         JC        ??zclFindNextAttrRec_2
   2941                {
   2942                  // also make sure direction is right
   2943                  attrDir = (pRec->attrs[x].attr.accessControl & ACCESS_CLIENT) ? 1 : 0;
   2944                  if ( (attrDir == direction) || (pRec->attrs[x].attr.accessControl & ACCESS_GLOBAL))
   \   000086   EC           MOV       A,R4
   \   000087   2405         ADD       A,#0x5
   \   000089   F582         MOV       DPL,A
   \   00008B   E4           CLR       A
   \   00008C   3D           ADDC      A,R5
   \   00008D   F583         MOV       DPH,A
   \   00008F   E4           CLR       A
   \   000090   93           MOVC      A,@A+DPTR
   \   000091   A2E7         MOV       C,0xE0 /* A   */.7
   \   000093   E4           CLR       A
   \   000094   33           RLC       A
   \   000095   65..         XRL       A,?V1
   \   000097   6006         JZ        ??zclFindNextAttrRec_4
   \   000099   E4           CLR       A
   \   00009A   93           MOVC      A,@A+DPTR
   \   00009B   A2E6         MOV       C,0xE0 /* A   */.6
   \   00009D   508D         JNC       ??zclFindNextAttrRec_2
   \                     ??zclFindNextAttrRec_4:
   \   00009F   7412         MOV       A,#0x12
   \   0000A1   12....       LCALL     ?XSTACK_DISP0_8
   \   0000A4   12....       LCALL     ?Subroutine78 & 0xFFFF
   2945                  {
   2946                    // return attribute and found attribute ID
   2947                    *pAttr = pRec->attrs[x];
   \                     ??CrossCallReturnLabel_135:
   \   0000A7   7408         MOV       A,#0x8
   \   0000A9   12....       LCALL     ?MOVE_LONG8_XDATA_CODE
   2948                    *attrId = pAttr->attr.attrId;
   \   0000AC   8882         MOV       DPL,R0
   \   0000AE   8983         MOV       DPH,R1
   \   0000B0   A3           INC       DPTR
   \   0000B1   A3           INC       DPTR
   \   0000B2   12....       LCALL     ?Subroutine86 & 0xFFFF
   \                     ??CrossCallReturnLabel_148:
   \   0000B5   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   2949          
   2950                    return ( TRUE ); // EMBEDDED RETURN
   \                     ??CrossCallReturnLabel_515:
   \   0000B8   7901         MOV       R1,#0x1
   \   0000BA   8002         SJMP      ??zclFindNextAttrRec_5
   2951                  }
   2952                }
   2953              }
   2954            }
   2955          
   2956            return ( FALSE );
   \                     ??zclFindNextAttrRec_0:
   \   0000BC   7900         MOV       R1,#0x0
   \                     ??zclFindNextAttrRec_5:
   \   0000BE   02....       LJMP      ??Subroutine219_0 & 0xFFFF
   2957          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine86:
   \   000000   12....       LCALL     ?Subroutine166 & 0xFFFF
   \                     ??CrossCallReturnLabel_473:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine166:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F8           MOV       R0,A
   \   000002   A3           INC       DPTR
   \   000003                REQUIRE ??Subroutine228_0
   \   000003                ; // Fall through to label ??Subroutine228_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine228_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F9           MOV       R1,A
   \   000002                ; Setup parameters for call to function zclWriteAttrDataUsingCB
   \   000002                ; Setup parameters for call to function zclGetAttrDataLengthUsingCB
   \   000002   85..82       MOV       DPL,?V2
   \   000005   85..83       MOV       DPH,?V3
   \   000008   22           RET
   2958          #endif // ZCL_DISCOVER
   2959          
   2960          /*********************************************************************
   2961           * @fn      zclSerializeData
   2962           *
   2963           * @brief   Builds a buffer from the attribute data to sent out over
   2964           *          the air.
   2965           *          NOTE - Not compatible with application's attributes callbacks.
   2966           *
   2967           * @param   dataType - data types defined in zcl.h
   2968           * @param   attrData - pointer to the attribute data
   2969           * @param   buf - where to put the serialized data
   2970           *
   2971           * @return  pointer to end of destination buffer
   2972           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine91:
   \   000000   8E82         MOV       DPL,R6
   \   000002   8F83         MOV       DPH,R7
   \   000004                REQUIRE ??Subroutine208_0
   \   000004                ; // Fall through to label ??Subroutine208_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   2973          uint8 *zclSerializeData( uint8 dataType, void *attrData, uint8 *buf )
   \                     zclSerializeData:
   2974          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000   74F1         MOV       A,#-0xf
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
   \   000009   EC           MOV       A,R4
   \   00000A   FA           MOV       R2,A
   \   00000B   ED           MOV       A,R5
   \   00000C   FB           MOV       R3,A
   2975            uint8 *pStr;
   2976            uint16 len;
   2977          
   2978            if ( attrData == NULL )
   \   00000D   EE           MOV       A,R6
   \   00000E   4F           ORL       A,R7
   \   00000F   7003         JNZ       $+5
   \   000011   02....       LJMP      ??zclSerializeData_0 & 0xFFFF
   2979            {
   2980              return ( buf );
   2981            }
   2982          
   2983            switch ( dataType )
   \   000014   EA           MOV       A,R2
   \   000015   2402         ADD       A,#0x2
   \   000017   F5..         MOV       ?V4,A
   \   000019   E4           CLR       A
   \   00001A   3B           ADDC      A,R3
   \   00001B   F5..         MOV       ?V5,A
   \   00001D   8A82         MOV       DPL,R2
   \   00001F   8B83         MOV       DPH,R3
   \   000021   A3           INC       DPTR
   \   000022   AC82         MOV       R4,DPL
   \   000024   AD83         MOV       R5,DPH
   \   000026   8E..         MOV       ?V0,R6
   \   000028   8F..         MOV       ?V1,R7
   \   00002A   75..00       MOV       ?V2,#0x0
   \   00002D   E9           MOV       A,R1
   \   00002E   12....       LCALL     ?UC_SWITCH_SPARSE
   \                     `?<Jumptable for zclSerializeData>_0`:
   \   000031   04           DB        4
   \   000032   41           DB        65
   \   000033   42           DB        66
   \   000034   ....         DW        ??zclSerializeData_1
   \   000036   43           DB        67
   \   000037   44           DB        68
   \   000038   ....         DW        ??zclSerializeData_2
   \   00003A   E0           DB        224
   \   00003B   E2           DB        226
   \   00003C   ....         DW        ??zclSerializeData_3
   \   00003E   E8           DB        232
   \   00003F   E9           DB        233
   \   000040   ....         DW        ??zclSerializeData_4
   \   000042   25           DB        37
   \   000043   08           DB        8
   \   000044   ....         DW        ??zclSerializeData_5
   \   000046   09           DB        9
   \   000047   ....         DW        ??zclSerializeData_4
   \   000049   0A           DB        10
   \   00004A   ....         DW        ??zclSerializeData_6
   \   00004C   0B           DB        11
   \   00004D   ....         DW        ??zclSerializeData_3
   \   00004F   10           DB        16
   \   000050   ....         DW        ??zclSerializeData_5
   \   000052   18           DB        24
   \   000053   ....         DW        ??zclSerializeData_5
   \   000055   19           DB        25
   \   000056   ....         DW        ??zclSerializeData_4
   \   000058   1A           DB        26
   \   000059   ....         DW        ??zclSerializeData_6
   \   00005B   1B           DB        27
   \   00005C   ....         DW        ??zclSerializeData_3
   \   00005E   1C           DB        28
   \   00005F   ....         DW        ??zclSerializeData_7
   \   000061   1D           DB        29
   \   000062   ....         DW        ??zclSerializeData_8
   \   000064   1E           DB        30
   \   000065   ....         DW        ??zclSerializeData_9
   \   000067   1F           DB        31
   \   000068   ....         DW        ??zclSerializeData_10
   \   00006A   20           DB        32
   \   00006B   ....         DW        ??zclSerializeData_5
   \   00006D   21           DB        33
   \   00006E   ....         DW        ??zclSerializeData_4
   \   000070   22           DB        34
   \   000071   ....         DW        ??zclSerializeData_6
   \   000073   23           DB        35
   \   000074   ....         DW        ??zclSerializeData_3
   \   000076   24           DB        36
   \   000077   ....         DW        ??zclSerializeData_7
   \   000079   25           DB        37
   \   00007A   ....         DW        ??zclSerializeData_8
   \   00007C   26           DB        38
   \   00007D   ....         DW        ??zclSerializeData_9
   \   00007F   27           DB        39
   \   000080   ....         DW        ??zclSerializeData_10
   \   000082   28           DB        40
   \   000083   ....         DW        ??zclSerializeData_5
   \   000085   29           DB        41
   \   000086   ....         DW        ??zclSerializeData_4
   \   000088   2A           DB        42
   \   000089   ....         DW        ??zclSerializeData_6
   \   00008B   2B           DB        43
   \   00008C   ....         DW        ??zclSerializeData_3
   \   00008E   2C           DB        44
   \   00008F   ....         DW        ??zclSerializeData_7
   \   000091   2D           DB        45
   \   000092   ....         DW        ??zclSerializeData_8
   \   000094   2E           DB        46
   \   000095   ....         DW        ??zclSerializeData_9
   \   000097   2F           DB        47
   \   000098   ....         DW        ??zclSerializeData_10
   \   00009A   30           DB        48
   \   00009B   ....         DW        ??zclSerializeData_5
   \   00009D   31           DB        49
   \   00009E   ....         DW        ??zclSerializeData_4
   \   0000A0   38           DB        56
   \   0000A1   ....         DW        ??zclSerializeData_4
   \   0000A3   39           DB        57
   \   0000A4   ....         DW        ??zclSerializeData_3
   \   0000A6   3A           DB        58
   \   0000A7   ....         DW        ??zclSerializeData_10
   \   0000A9   EA           DB        234
   \   0000AA   ....         DW        ??zclSerializeData_3
   \   0000AC   F0           DB        240
   \   0000AD   ....         DW        ??zclSerializeData_10
   \   0000AF   F1           DB        241
   \   0000B0   ....         DW        ??zclSerializeData_11
   \   0000B2   ....         DW        ??zclSerializeData_0
   2984            {
   2985              case ZCL_DATATYPE_DATA8:
   2986              case ZCL_DATATYPE_BOOLEAN:
   2987              case ZCL_DATATYPE_BITMAP8:
   2988              case ZCL_DATATYPE_INT8:
   2989              case ZCL_DATATYPE_UINT8:
   2990              case ZCL_DATATYPE_ENUM8:
   2991                *buf++ = *((uint8 *)attrData);
   \                     ??zclSerializeData_5:
   \   0000B4   8E82         MOV       DPL,R6
   \   0000B6   8F83         MOV       DPH,R7
   \   0000B8   12....       LCALL     ?Subroutine90 & 0xFFFF
   \                     ??CrossCallReturnLabel_155:
   \   0000BB   EC           MOV       A,R4
   \   0000BC   FA           MOV       R2,A
   \   0000BD   ED           MOV       A,R5
   \   0000BE   FB           MOV       R3,A
   2992                 break;
   \   0000BF   02....       LJMP      ??zclSerializeData_0 & 0xFFFF
   2993          
   2994              case ZCL_DATATYPE_DATA16:
   2995              case ZCL_DATATYPE_BITMAP16:
   2996              case ZCL_DATATYPE_UINT16:
   2997              case ZCL_DATATYPE_INT16:
   2998              case ZCL_DATATYPE_ENUM16:
   2999              case ZCL_DATATYPE_SEMI_PREC:
   3000              case ZCL_DATATYPE_CLUSTER_ID:
   3001              case ZCL_DATATYPE_ATTR_ID:
   3002                *buf++ = LO_UINT16( *((uint16*)attrData) );
   \                     ??zclSerializeData_4:
   \   0000C2   12....       LCALL     ?Subroutine91 & 0xFFFF
   \                     ??CrossCallReturnLabel_388:
   \   0000C5   12....       LCALL     ?Subroutine40 & 0xFFFF
   3003                *buf++ = HI_UINT16( *((uint16*)attrData) );
   \                     ??CrossCallReturnLabel_52:
   \   0000C8   12....       LCALL     ??Subroutine223_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_450:
   \   0000CB   F0           MOVX      @DPTR,A
   \   0000CC   0A           INC       R2
   \   0000CD   0A           INC       R2
   \   0000CE   AB..         MOV       R3,?V5
   3004                break;
   \   0000D0   02....       LJMP      ??zclSerializeData_0 & 0xFFFF
   3005          
   3006              case ZCL_DATATYPE_DATA24:
   3007              case ZCL_DATATYPE_BITMAP24:
   3008              case ZCL_DATATYPE_UINT24:
   3009              case ZCL_DATATYPE_INT24:
   3010                *buf++ = BREAK_UINT32( *((uint32*)attrData), 0 );
   \                     ??zclSerializeData_6:
   \   0000D3   8E82         MOV       DPL,R6
   \   0000D5   8F83         MOV       DPH,R7
   \   0000D7   78..         MOV       R0,#?V0
   \   0000D9   12....       LCALL     ?L_MOV_X
   \   0000DC   8A82         MOV       DPL,R2
   \   0000DE   8B83         MOV       DPH,R3
   \   0000E0   E5..         MOV       A,?V0
   \   0000E2   12....       LCALL     ?Subroutine160 & 0xFFFF
   3011                *buf++ = BREAK_UINT32( *((uint32*)attrData), 1 );
   \                     ??CrossCallReturnLabel_286:
   \   0000E5   78..         MOV       R0,#?V0
   \   0000E7   12....       LCALL     ?L_MOV_X
   \   0000EA   E5..         MOV       A,?V1
   \   0000EC   8C82         MOV       DPL,R4
   \   0000EE   8D83         MOV       DPH,R5
   \   0000F0   12....       LCALL     ?Subroutine160 & 0xFFFF
   3012                *buf++ = BREAK_UINT32( *((uint32*)attrData), 2 );
   \                     ??CrossCallReturnLabel_287:
   \   0000F3   78..         MOV       R0,#?V0
   \   0000F5   12....       LCALL     ?L_MOV_X
   \   0000F8   7410         MOV       A,#0x10
   \   0000FA   78..         MOV       R0,#?V0
   \   0000FC   12....       LCALL     ?UL_SHR
   \   0000FF   85..82       MOV       DPL,?V4
   \   000102   85..83       MOV       DPH,?V5
   \   000105   E5..         MOV       A,?V0
   \   000107   F0           MOVX      @DPTR,A
   \   000108   EA           MOV       A,R2
   \   000109   2403         ADD       A,#0x3
   \   00010B   FA           MOV       R2,A
   \   00010C   506D         JNC       ??zclSerializeData_0
   \   00010E   0B           INC       R3
   3013                break;
   \   00010F   806A         SJMP      ??zclSerializeData_0
   3014          
   3015              case ZCL_DATATYPE_DATA32:
   3016              case ZCL_DATATYPE_BITMAP32:
   3017              case ZCL_DATATYPE_UINT32:
   3018              case ZCL_DATATYPE_INT32:
   3019              case ZCL_DATATYPE_SINGLE_PREC:
   3020              case ZCL_DATATYPE_TOD:
   3021              case ZCL_DATATYPE_DATE:
   3022              case ZCL_DATATYPE_UTC:
   3023              case ZCL_DATATYPE_BAC_OID:
   3024                buf = zcl_buffer_uint32( buf, *((uint32*)attrData) );
   \                     ??zclSerializeData_3:
   \   000111                ; Setup parameters for call to function osal_buffer_uint32
   \   000111   8E82         MOV       DPL,R6
   \   000113   8F83         MOV       DPH,R7
   \   000115   12....       LCALL     ?PUSH_XSTACK8_X_FOUR
   \   000118   12....       LCALL     `??osal_buffer_uint32::?relay`; Banked call to: osal_buffer_uint32
   \   00011B   7404         MOV       A,#0x4
   \   00011D   12....       LCALL     ?DEALLOC_XSTACK8
   3025                break;
   \   000120   8059         SJMP      ??zclSerializeData_0
   3026          
   3027              case ZCL_DATATYPE_BITMAP40:
   3028              case ZCL_DATATYPE_UINT40:
   3029              case ZCL_DATATYPE_INT40:
   3030                pStr = (uint8*)attrData;
   3031                buf = zcl_memcpy( buf, pStr, 5 );
   \                     ??zclSerializeData_7:
   \   000122                ; Setup parameters for call to function osal_memcpy
   \   000122   78..         MOV       R0,#?V0
   \   000124   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   000127   7C05         MOV       R4,#0x5
   \   000129   8046         SJMP      ??zclSerializeData_12
   3032                break;
   3033          
   3034              case ZCL_DATATYPE_BITMAP48:
   3035              case ZCL_DATATYPE_UINT48:
   3036              case ZCL_DATATYPE_INT48:
   3037                pStr = (uint8*)attrData;
   3038                buf = zcl_memcpy( buf, pStr, 6 );
   \                     ??zclSerializeData_8:
   \   00012B                ; Setup parameters for call to function osal_memcpy
   \   00012B   78..         MOV       R0,#?V0
   \   00012D   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   000130   7C06         MOV       R4,#0x6
   \   000132   803D         SJMP      ??zclSerializeData_12
   3039                break;
   3040          
   3041              case ZCL_DATATYPE_BITMAP56:
   3042              case ZCL_DATATYPE_UINT56:
   3043              case ZCL_DATATYPE_INT56:
   3044                pStr = (uint8*)attrData;
   3045                buf = zcl_memcpy( buf, pStr, 7 );
   \                     ??zclSerializeData_9:
   \   000134                ; Setup parameters for call to function osal_memcpy
   \   000134   78..         MOV       R0,#?V0
   \   000136   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   000139   7C07         MOV       R4,#0x7
   \   00013B   8034         SJMP      ??zclSerializeData_12
   3046                break;
   3047          
   3048              case ZCL_DATATYPE_BITMAP64:
   3049              case ZCL_DATATYPE_DOUBLE_PREC:
   3050              case ZCL_DATATYPE_IEEE_ADDR:
   3051              case ZCL_DATATYPE_UINT64:
   3052              case ZCL_DATATYPE_INT64:
   3053                pStr = (uint8*)attrData;
   3054                buf = zcl_memcpy( buf, pStr, 8 );
   \                     ??zclSerializeData_10:
   \   00013D                ; Setup parameters for call to function osal_memcpy
   \   00013D   78..         MOV       R0,#?V0
   \   00013F   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   000142   7C08         MOV       R4,#0x8
   \   000144   802B         SJMP      ??zclSerializeData_12
   3055                break;
   3056          
   3057              case ZCL_DATATYPE_CHAR_STR:
   3058              case ZCL_DATATYPE_OCTET_STR:
   3059                pStr = (uint8*)attrData;
   3060                len = *pStr;
   3061                buf = zcl_memcpy( buf, pStr, len+1 ); // Including length field
   \                     ??zclSerializeData_1:
   \   000146                ; Setup parameters for call to function osal_memcpy
   \   000146   78..         MOV       R0,#?V0
   \   000148   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   00014B   8E82         MOV       DPL,R6
   \   00014D   8F83         MOV       DPH,R7
   \   00014F   E0           MOVX      A,@DPTR
   \   000150   2401         ADD       A,#0x1
   \   000152   FC           MOV       R4,A
   \   000153   E4           CLR       A
   \   000154   3400         ADDC      A,#0x0
   \   000156   800F         SJMP      ??zclSerializeData_13
   3062                break;
   3063          
   3064              case ZCL_DATATYPE_LONG_CHAR_STR:
   3065              case ZCL_DATATYPE_LONG_OCTET_STR:
   3066                pStr = (uint8*)attrData;
   3067                len = BUILD_UINT16( pStr[0], pStr[1] );
   3068                buf = zcl_memcpy( buf, pStr, len+2 ); // Including length field
   \                     ??zclSerializeData_2:
   \   000158                ; Setup parameters for call to function osal_memcpy
   \   000158   78..         MOV       R0,#?V0
   \   00015A   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   00015D   8E82         MOV       DPL,R6
   \   00015F   8F83         MOV       DPH,R7
   \   000161   12....       LCALL     ?Subroutine124 & 0xFFFF
   \                     ??CrossCallReturnLabel_214:
   \   000164   FC           MOV       R4,A
   \   000165   E4           CLR       A
   \   000166   39           ADDC      A,R1
   \                     ??zclSerializeData_13:
   \   000167   FD           MOV       R5,A
   \   000168   8009         SJMP      ??zclSerializeData_14
   3069                break;
   3070          
   3071              case ZCL_DATATYPE_128_BIT_SEC_KEY:
   3072                pStr = (uint8*)attrData;
   3073                buf = zcl_memcpy( buf, pStr, SEC_KEY_LEN );
   \                     ??zclSerializeData_11:
   \   00016A                ; Setup parameters for call to function osal_memcpy
   \   00016A   78..         MOV       R0,#?V0
   \   00016C   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   00016F   7C10         MOV       R4,#0x10
   \                     ??zclSerializeData_12:
   \   000171   7D00         MOV       R5,#0x0
   \                     ??zclSerializeData_14:
   \   000173   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000176   7403         MOV       A,#0x3
   \   000178   12....       LCALL     ?DEALLOC_XSTACK8
   3074                break;
   3075          
   3076              case ZCL_DATATYPE_NO_DATA:
   3077              case ZCL_DATATYPE_UNKNOWN:
   3078                // Fall through
   3079          
   3080              default:
   3081                break;
   3082            }
   3083          
   3084            return ( buf );
   \                     ??zclSerializeData_0:
   \   00017B   02....       LJMP      ?Subroutine9 & 0xFFFF
   3085          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine124:
   \   000000   12....       LCALL     ?Subroutine179 & 0xFFFF
   \                     ??CrossCallReturnLabel_316:
   \   000003   F9           MOV       R1,A
   \   000004   EC           MOV       A,R4
   \   000005   2402         ADD       A,#0x2
   \   000007   22           RET
   3086          
   3087          #if defined ZCL_REPORTING_DEVICE || defined ZCL_REPORT_CONFIGURING_DEVICE
   3088          /*********************************************************************
   3089           * @fn      zclAnalogDataType
   3090           *
   3091           * @brief   Checks to see if Data Type is Analog
   3092           *
   3093           * @param   dataType - data type
   3094           *
   3095           * @return  TRUE if data type is analog
   3096           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3097          uint8 zclAnalogDataType( uint8 dataType )
   \                     zclAnalogDataType:
   3098          {
   \   000000   C082         PUSH      DPL
   \   000002   C083         PUSH      DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   \   000004   E9           MOV       A,R1
   3099            uint8 analog;
   3100          
   3101            switch ( dataType )
   \   000005   12....       LCALL     ?UC_SWITCH_SPARSE
   \                     `?<Jumptable for zclAnalogDataType>_0`:
   \   000008   03           DB        3
   \   000009   20           DB        32
   \   00000A   2F           DB        47
   \   00000B   ....         DW        ??zclAnalogDataType_0
   \   00000D   38           DB        56
   \   00000E   3A           DB        58
   \   00000F   ....         DW        ??zclAnalogDataType_0
   \   000011   E0           DB        224
   \   000012   E2           DB        226
   \   000013   ....         DW        ??zclAnalogDataType_0
   \   000015   00           DB        0
   \   000016   ....         DW        ??zclAnalogDataType_1
   3102            {
   3103              case ZCL_DATATYPE_UINT8:
   3104              case ZCL_DATATYPE_UINT16:
   3105              case ZCL_DATATYPE_UINT24:
   3106              case ZCL_DATATYPE_UINT32:
   3107              case ZCL_DATATYPE_UINT40:
   3108              case ZCL_DATATYPE_UINT48:
   3109              case ZCL_DATATYPE_UINT56:
   3110              case ZCL_DATATYPE_UINT64:
   3111              case ZCL_DATATYPE_INT8:
   3112              case ZCL_DATATYPE_INT16:
   3113              case ZCL_DATATYPE_INT24:
   3114              case ZCL_DATATYPE_INT32:
   3115              case ZCL_DATATYPE_INT40:
   3116              case ZCL_DATATYPE_INT48:
   3117              case ZCL_DATATYPE_INT56:
   3118              case ZCL_DATATYPE_INT64:
   3119              case ZCL_DATATYPE_SEMI_PREC:
   3120              case ZCL_DATATYPE_SINGLE_PREC:
   3121              case ZCL_DATATYPE_DOUBLE_PREC:
   3122              case ZCL_DATATYPE_TOD:
   3123              case ZCL_DATATYPE_DATE:
   3124              case ZCL_DATATYPE_UTC:
   3125                analog = TRUE;
   \                     ??zclAnalogDataType_0:
   \   000018   7901         MOV       R1,#0x1
   3126                break;
   \   00001A   8002         SJMP      ??zclAnalogDataType_2
   3127          
   3128              default:
   3129                analog = FALSE;
   \                     ??zclAnalogDataType_1:
   \   00001C   7900         MOV       R1,#0x0
   3130                break;
   3131            }
   3132          
   3133            return ( analog );
   \                     ??zclAnalogDataType_2:
   \   00001E   02....       LJMP      ?Subroutine0 & 0xFFFF
   3134          }
   3135          
   3136          /*********************************************************************
   3137           * @fn      zclIsLittleEndianMachine
   3138           *
   3139           * @brief   Verifies endianness in system.
   3140           *
   3141           * @param   none
   3142           *
   3143           * @return  MSB-00 or LSB-01 depending on endianness in the system
   3144           */
   3145          static int zclIsLittleEndianMachine(void)
   3146          {
   3147            uint16 test = 0x0001;
   3148          
   3149            return (*((uint8 *)(&test)));
   3150          }
   3151          
   3152          /*********************************************************************
   3153           * @fn      zcl_BuildAnalogData
   3154           *
   3155           * @brief   Build an analog arribute out of sequential bytes.
   3156           *
   3157           * @param   dataType - type of data
   3158           * @param   pData - pointer to data
   3159           * @param   pBuf - where to put the data
   3160           *
   3161           * @return  none
   3162           */
   3163          static void zcl_BuildAnalogData( uint8 dataType, uint8 *pData, uint8 *pBuf )
   3164          {
   3165            int current_byte_index;
   3166            int remaining_bytes;
   3167            int step;
   3168          
   3169            remaining_bytes = zclGetAttrDataLength(dataType, pData);
   3170          
   3171            // decide if move forward or backwards to copy data
   3172            if ( zclIsLittleEndianMachine() )
   3173            {
   3174              step = 1;
   3175              current_byte_index = 0;
   3176            }
   3177            else
   3178            {
   3179              step = -1;
   3180              current_byte_index = remaining_bytes - 1;
   3181            }
   3182          
   3183            while ( remaining_bytes-- )
   3184            {
   3185              pData[current_byte_index] = *(pBuf++);
   3186              current_byte_index += step;
   3187            }
   3188          }
   3189          #endif
   3190          
   3191          /*********************************************************************
   3192           * @fn      zclGetDataTypeLength
   3193           *
   3194           * @brief   Return the length of the datatype in octet.
   3195           *
   3196           *          NOTE: Should not be called for ZCL_DATATYPE_OCTECT_STR or
   3197           *                ZCL_DATATYPE_CHAR_STR data types.
   3198           *
   3199           * @param   dataType - data type
   3200           *
   3201           * @return  length of data
   3202           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3203          uint8 zclGetDataTypeLength( uint8 dataType )
   \                     zclGetDataTypeLength:
   3204          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   E9           MOV       A,R1
   3205            uint8 len;
   3206          
   3207            switch ( dataType )
   \   000001   24F8         ADD       A,#-0x8
   \   000003   6078         JZ        ??zclGetDataTypeLength_0
   \   000005   14           DEC       A
   \   000006   6079         JZ        ??zclGetDataTypeLength_1
   \   000008   14           DEC       A
   \   000009   607A         JZ        ??zclGetDataTypeLength_2
   \   00000B   14           DEC       A
   \   00000C   607B         JZ        ??zclGetDataTypeLength_3
   \   00000E   24FB         ADD       A,#-0x5
   \   000010   606B         JZ        ??zclGetDataTypeLength_0
   \   000012   24F8         ADD       A,#-0x8
   \   000014   6067         JZ        ??zclGetDataTypeLength_0
   \   000016   14           DEC       A
   \   000017   6068         JZ        ??zclGetDataTypeLength_1
   \   000019   14           DEC       A
   \   00001A   6069         JZ        ??zclGetDataTypeLength_2
   \   00001C   14           DEC       A
   \   00001D   606A         JZ        ??zclGetDataTypeLength_3
   \   00001F   24FB         ADD       A,#-0x5
   \   000021   605A         JZ        ??zclGetDataTypeLength_0
   \   000023   14           DEC       A
   \   000024   605B         JZ        ??zclGetDataTypeLength_1
   \   000026   14           DEC       A
   \   000027   605C         JZ        ??zclGetDataTypeLength_2
   \   000029   14           DEC       A
   \   00002A   605D         JZ        ??zclGetDataTypeLength_3
   \   00002C   14           DEC       A
   \   00002D   605E         JZ        ??zclGetDataTypeLength_4
   \   00002F   14           DEC       A
   \   000030   605F         JZ        ??zclGetDataTypeLength_5
   \   000032   14           DEC       A
   \   000033   6060         JZ        ??zclGetDataTypeLength_6
   \   000035   14           DEC       A
   \   000036   6061         JZ        ??zclGetDataTypeLength_7
   \   000038   14           DEC       A
   \   000039   6042         JZ        ??zclGetDataTypeLength_0
   \   00003B   14           DEC       A
   \   00003C   6043         JZ        ??zclGetDataTypeLength_1
   \   00003E   14           DEC       A
   \   00003F   6044         JZ        ??zclGetDataTypeLength_2
   \   000041   14           DEC       A
   \   000042   6045         JZ        ??zclGetDataTypeLength_3
   \   000044   14           DEC       A
   \   000045   6046         JZ        ??zclGetDataTypeLength_4
   \   000047   14           DEC       A
   \   000048   6047         JZ        ??zclGetDataTypeLength_5
   \   00004A   14           DEC       A
   \   00004B   6048         JZ        ??zclGetDataTypeLength_6
   \   00004D   14           DEC       A
   \   00004E   6049         JZ        ??zclGetDataTypeLength_7
   \   000050   14           DEC       A
   \   000051   602A         JZ        ??zclGetDataTypeLength_0
   \   000053   14           DEC       A
   \   000054   602B         JZ        ??zclGetDataTypeLength_1
   \   000056   24F9         ADD       A,#-0x7
   \   000058   6027         JZ        ??zclGetDataTypeLength_1
   \   00005A   14           DEC       A
   \   00005B   602C         JZ        ??zclGetDataTypeLength_3
   \   00005D   14           DEC       A
   \   00005E   6039         JZ        ??zclGetDataTypeLength_7
   \   000060   245A         ADD       A,#0x5a
   \   000062   6025         JZ        ??zclGetDataTypeLength_3
   \   000064   14           DEC       A
   \   000065   6022         JZ        ??zclGetDataTypeLength_3
   \   000067   14           DEC       A
   \   000068   601F         JZ        ??zclGetDataTypeLength_3
   \   00006A   24FA         ADD       A,#-0x6
   \   00006C   6013         JZ        ??zclGetDataTypeLength_1
   \   00006E   14           DEC       A
   \   00006F   6010         JZ        ??zclGetDataTypeLength_1
   \   000071   14           DEC       A
   \   000072   6015         JZ        ??zclGetDataTypeLength_3
   \   000074   24FA         ADD       A,#-0x6
   \   000076   6021         JZ        ??zclGetDataTypeLength_7
   \   000078   14           DEC       A
   \   000079   6022         JZ        ??zclGetDataTypeLength_8
   \   00007B   8024         SJMP      ??zclGetDataTypeLength_9
   3208            {
   3209              case ZCL_DATATYPE_DATA8:
   3210              case ZCL_DATATYPE_BOOLEAN:
   3211              case ZCL_DATATYPE_BITMAP8:
   3212              case ZCL_DATATYPE_INT8:
   3213              case ZCL_DATATYPE_UINT8:
   3214              case ZCL_DATATYPE_ENUM8:
   3215                len = 1;
   \                     ??zclGetDataTypeLength_0:
   \   00007D   7901         MOV       R1,#0x1
   3216                break;
   \   00007F   8022         SJMP      ??zclGetDataTypeLength_10
   3217          
   3218              case ZCL_DATATYPE_DATA16:
   3219              case ZCL_DATATYPE_BITMAP16:
   3220              case ZCL_DATATYPE_UINT16:
   3221              case ZCL_DATATYPE_INT16:
   3222              case ZCL_DATATYPE_ENUM16:
   3223              case ZCL_DATATYPE_SEMI_PREC:
   3224              case ZCL_DATATYPE_CLUSTER_ID:
   3225              case ZCL_DATATYPE_ATTR_ID:
   3226                len = 2;
   \                     ??zclGetDataTypeLength_1:
   \   000081   7902         MOV       R1,#0x2
   3227                break;
   \   000083   801E         SJMP      ??zclGetDataTypeLength_10
   3228          
   3229              case ZCL_DATATYPE_DATA24:
   3230              case ZCL_DATATYPE_BITMAP24:
   3231              case ZCL_DATATYPE_UINT24:
   3232              case ZCL_DATATYPE_INT24:
   3233                len = 3;
   \                     ??zclGetDataTypeLength_2:
   \   000085   7903         MOV       R1,#0x3
   3234                break;
   \   000087   801A         SJMP      ??zclGetDataTypeLength_10
   3235          
   3236              case ZCL_DATATYPE_DATA32:
   3237              case ZCL_DATATYPE_BITMAP32:
   3238              case ZCL_DATATYPE_UINT32:
   3239              case ZCL_DATATYPE_INT32:
   3240              case ZCL_DATATYPE_SINGLE_PREC:
   3241              case ZCL_DATATYPE_TOD:
   3242              case ZCL_DATATYPE_DATE:
   3243              case ZCL_DATATYPE_UTC:
   3244              case ZCL_DATATYPE_BAC_OID:
   3245                len = 4;
   \                     ??zclGetDataTypeLength_3:
   \   000089   7904         MOV       R1,#0x4
   3246                break;
   \   00008B   8016         SJMP      ??zclGetDataTypeLength_10
   3247          
   3248             case ZCL_DATATYPE_UINT40:
   3249             case ZCL_DATATYPE_INT40:
   3250                 len = 5;
   \                     ??zclGetDataTypeLength_4:
   \   00008D   7905         MOV       R1,#0x5
   3251                 break;
   \   00008F   8012         SJMP      ??zclGetDataTypeLength_10
   3252          
   3253             case ZCL_DATATYPE_UINT48:
   3254             case ZCL_DATATYPE_INT48:
   3255                 len = 6;
   \                     ??zclGetDataTypeLength_5:
   \   000091   7906         MOV       R1,#0x6
   3256                 break;
   \   000093   800E         SJMP      ??zclGetDataTypeLength_10
   3257          
   3258             case ZCL_DATATYPE_UINT56:
   3259             case ZCL_DATATYPE_INT56:
   3260                 len = 7;
   \                     ??zclGetDataTypeLength_6:
   \   000095   7907         MOV       R1,#0x7
   3261                 break;
   \   000097   800A         SJMP      ??zclGetDataTypeLength_10
   3262          
   3263             case ZCL_DATATYPE_DOUBLE_PREC:
   3264             case ZCL_DATATYPE_IEEE_ADDR:
   3265             case ZCL_DATATYPE_UINT64:
   3266             case ZCL_DATATYPE_INT64:
   3267               len = 8;
   \                     ??zclGetDataTypeLength_7:
   \   000099   7908         MOV       R1,#0x8
   3268               break;
   \   00009B   8006         SJMP      ??zclGetDataTypeLength_10
   3269          
   3270              case ZCL_DATATYPE_128_BIT_SEC_KEY:
   3271               len = SEC_KEY_LEN;
   \                     ??zclGetDataTypeLength_8:
   \   00009D   7910         MOV       R1,#0x10
   3272               break;
   \   00009F   8002         SJMP      ??zclGetDataTypeLength_10
   3273          
   3274              case ZCL_DATATYPE_NO_DATA:
   3275              case ZCL_DATATYPE_UNKNOWN:
   3276                // Fall through
   3277          
   3278              default:
   3279                len = 0;
   \                     ??zclGetDataTypeLength_9:
   \   0000A1   7900         MOV       R1,#0x0
   3280                break;
   3281            }
   3282          
   3283            return ( len );
   \                     ??zclGetDataTypeLength_10:
   \   0000A3   02....       LJMP      ?BRET
   3284          }
   3285          
   3286          /*********************************************************************
   3287           * @fn      zclGetAttrDataLength
   3288           *
   3289           * @brief   Return the length of the attribute.
   3290           *
   3291           * @param   dataType - data type
   3292           * @param   pData - pointer to data
   3293           *
   3294           * @return  returns atrribute length
   3295           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3296          uint16 zclGetAttrDataLength( uint8 dataType, uint8 *pData )
   \                     zclGetAttrDataLength:
   3297          {
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   E9           MOV       A,R1
   \   000006   FE           MOV       R6,A
   3298            uint16 dataLen = 0;
   3299          
   3300            if ( dataType == ZCL_DATATYPE_LONG_CHAR_STR || dataType == ZCL_DATATYPE_LONG_OCTET_STR )
   \   000007   7444         MOV       A,#0x44
   \   000009   6E           XRL       A,R6
   \   00000A   6005         JZ        ??zclGetAttrDataLength_0
   \   00000C   7443         MOV       A,#0x43
   \   00000E   6E           XRL       A,R6
   \   00000F   700C         JNZ       ??zclGetAttrDataLength_1
   3301            {
   3302              dataLen = BUILD_UINT16( pData[0], pData[1] ) + 2; // long string length + 2 for length field
   \                     ??zclGetAttrDataLength_0:
   \   000011   8A82         MOV       DPL,R2
   \   000013   8B83         MOV       DPH,R3
   \   000015   12....       LCALL     ?Subroutine124 & 0xFFFF
   3303            }
   \                     ??CrossCallReturnLabel_215:
   \   000018   FA           MOV       R2,A
   \   000019   E4           CLR       A
   \   00001A   39           ADDC      A,R1
   \   00001B   8015         SJMP      ??zclGetAttrDataLength_2
   3304            else if ( dataType == ZCL_DATATYPE_CHAR_STR || dataType == ZCL_DATATYPE_OCTET_STR )
   \                     ??zclGetAttrDataLength_1:
   \   00001D   7442         MOV       A,#0x42
   \   00001F   6E           XRL       A,R6
   \   000020   6005         JZ        ??zclGetAttrDataLength_3
   \   000022   7441         MOV       A,#0x41
   \   000024   6E           XRL       A,R6
   \   000025   700E         JNZ       ??zclGetAttrDataLength_4
   3305            {
   3306              dataLen = *pData + 1; // string length + 1 for length field
   \                     ??zclGetAttrDataLength_3:
   \   000027   8A82         MOV       DPL,R2
   \   000029   8B83         MOV       DPH,R3
   \   00002B   E0           MOVX      A,@DPTR
   \   00002C   2401         ADD       A,#0x1
   \   00002E   FA           MOV       R2,A
   \   00002F   E4           CLR       A
   \   000030   3400         ADDC      A,#0x0
   \                     ??zclGetAttrDataLength_2:
   \   000032   FB           MOV       R3,A
   \   000033   8007         SJMP      ??zclGetAttrDataLength_5
   3307            }
   3308            else
   3309            {
   3310              dataLen = zclGetDataTypeLength( dataType );
   \                     ??zclGetAttrDataLength_4:
   \   000035                ; Setup parameters for call to function zclGetDataTypeLength
   \   000035   12....       LCALL     `??zclGetDataTypeLength::?relay`; Banked call to: zclGetDataTypeLength
   \   000038   E9           MOV       A,R1
   \   000039   FA           MOV       R2,A
   \   00003A   7B00         MOV       R3,#0x0
   3311            }
   3312          
   3313            return ( dataLen );
   \                     ??zclGetAttrDataLength_5:
   \   00003C   02....       LJMP      ??Subroutine218_0 & 0xFFFF
   3314          }
   3315          
   3316          #ifdef ZCL_READ
   3317          /*********************************************************************
   3318           * @fn      zclReadAttrData
   3319           *
   3320           * @brief   Read the attribute's current value into pAttrData.
   3321           *          NOTE - Not compatible with application's attributes callbacks.
   3322           *
   3323           * @param   pAttrData - where to put attribute data
   3324           * @param   pAttr - pointer to attribute
   3325           * @param   pDataLen - where to put attribute data length
   3326           *
   3327           * @return Success
   3328           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3329          ZStatus_t zclReadAttrData( uint8 *pAttrData, zclAttrRec_t *pAttr, uint16 *pDataLen )
   \                     zclReadAttrData:
   3330          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000   74F1         MOV       A,#-0xf
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
   3331            uint16 dataLen;
   3332          
   3333            if ( pAttr->attr.dataPtr == NULL )
   \   000009   EC           MOV       A,R4
   \   00000A   2406         ADD       A,#0x6
   \   00000C   F8           MOV       R0,A
   \   00000D   E4           CLR       A
   \   00000E   3D           ADDC      A,R5
   \   00000F   F9           MOV       R1,A
   \   000010   88..         MOV       ?V0,R0
   \   000012   89..         MOV       ?V1,R1
   \   000014   8882         MOV       DPL,R0
   \   000016   F583         MOV       DPH,A
   \   000018   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_363:
   \   00001B   7004         JNZ       ??zclReadAttrData_0
   3334            {
   3335              return ( ZCL_STATUS_FAILURE );
   \   00001D   7901         MOV       R1,#0x1
   \   00001F   804C         SJMP      ??zclReadAttrData_1
   3336            }
   3337          
   3338            dataLen = zclGetAttrDataLength( pAttr->attr.dataType, (uint8*)(pAttr->attr.dataPtr) );
   \                     ??zclReadAttrData_0:
   \   000021                ; Setup parameters for call to function zclGetAttrDataLength
   \   000021   8C82         MOV       DPL,R4
   \   000023   8D83         MOV       DPH,R5
   \   000025   A3           INC       DPTR
   \   000026   A3           INC       DPTR
   \   000027   A3           INC       DPTR
   \   000028   A3           INC       DPTR
   \   000029   E0           MOVX      A,@DPTR
   \   00002A   F9           MOV       R1,A
   \   00002B   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   00002E   8A..         MOV       ?V2,R2
   \   000030   8B..         MOV       ?V3,R3
   3339            zcl_memcpy( pAttrData, pAttr->attr.dataPtr, dataLen );
   \   000032                ; Setup parameters for call to function osal_memcpy
   \   000032   85..82       MOV       DPL,?V0
   \   000035   85..83       MOV       DPH,?V1
   \   000038   E0           MOVX      A,@DPTR
   \   000039   F5..         MOV       ?V0,A
   \   00003B   A3           INC       DPTR
   \   00003C   E0           MOVX      A,@DPTR
   \   00003D   85....       MOV       ?V4,?V0
   \   000040   F5..         MOV       ?V5,A
   \   000042   75..00       MOV       ?V6,#0x0
   \   000045   78..         MOV       R0,#?V4
   \   000047   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   00004A   AC..         MOV       R4,?V2
   \   00004C   AD..         MOV       R5,?V3
   \   00004E   EE           MOV       A,R6
   \   00004F   FA           MOV       R2,A
   \   000050   EF           MOV       A,R7
   \   000051   FB           MOV       R3,A
   \   000052   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000055   7403         MOV       A,#0x3
   \   000057   12....       LCALL     ?DEALLOC_XSTACK8
   \   00005A   740F         MOV       A,#0xf
   \   00005C   12....       LCALL     ?XSTACK_DISP0_8
   \   00005F   12....       LCALL     ??Subroutine214_0 & 0xFFFF
   3340          
   3341            if ( pDataLen != NULL )
   \                     ??CrossCallReturnLabel_415:
   \   000062   6007         JZ        ??zclReadAttrData_2
   3342            {
   3343              *pDataLen = dataLen;
   \   000064   E5..         MOV       A,?V2
   \   000066   F0           MOVX      @DPTR,A
   \   000067   A3           INC       DPTR
   \   000068   E5..         MOV       A,?V3
   \   00006A   F0           MOVX      @DPTR,A
   3344            }
   3345          
   3346            return ( ZCL_STATUS_SUCCESS );
   \                     ??zclReadAttrData_2:
   \   00006B   7900         MOV       R1,#0x0
   \                     ??zclReadAttrData_1:
   \   00006D                REQUIRE ?Subroutine9
   \   00006D                ; // Fall through to label ?Subroutine9
   3347          }
   3348          
   3349          /*********************************************************************
   3350           * @fn      zcl_ReadAttrData
   3351           *
   3352           * @brief   Read the attribute's current value into pAttrData.
   3353           *          Use application's callback function if assigned to this attribute.
   3354           *
   3355           * @param   endpoint - application's endpoint
   3356           * @param   clusterId - cluster that attribute belongs to
   3357           * @param   attrId - attribute id
   3358           * @param   pAttrData - where to put attribute data
   3359           * @param   pDataLen - where to put attribute data length
   3360           *
   3361           * @return  Successful if data was read
   3362           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   12....       LCALL     ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine219_0
   \   000003                ; // Fall through to label ??Subroutine219_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3363          ZStatus_t zcl_ReadAttrData( uint8 endpoint, uint16 clusterId, uint16 attrId,
   \                     zcl_ReadAttrData:
   3364                                                   uint8 *pAttrData, uint16 *pDataLen )
   3365          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV       A,#-0x8
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   89..         MOV       ?V2,R1
   \   00000C   8A..         MOV       ?V0,R2
   \   00000E   8B..         MOV       ?V1,R3
   \   000010   EC           MOV       A,R4
   \   000011   FE           MOV       R6,A
   \   000012   ED           MOV       A,R5
   \   000013   FF           MOV       R7,A
   3366            zclAttrRec_t attrRec;
   3367          
   3368            if ( zclFindAttrRec( endpoint, clusterId, attrId, &attrRec ) == FALSE )
   \   000014                ; Setup parameters for call to function zclFindAttrRec
   \   000014   A8..         MOV       R0,?XSP + 0
   \   000016   A9..         MOV       R1,?XSP + 1
   \   000018   88..         MOV       ?V4,R0
   \   00001A   89..         MOV       ?V5,R1
   \   00001C   78..         MOV       R0,#?V4
   \   00001E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000021   A9..         MOV       R1,?V2
   \   000023   12....       LCALL     `??zclFindAttrRec::?relay`; Banked call to: zclFindAttrRec
   \   000026   7402         MOV       A,#0x2
   \   000028   12....       LCALL     ?DEALLOC_XSTACK8
   \   00002B   E9           MOV       A,R1
   \   00002C   7004         JNZ       ??zcl_ReadAttrData_0
   3369            {
   3370              return ( ZCL_STATUS_FAILURE );
   \   00002E   7901         MOV       R1,#0x1
   \   000030   804C         SJMP      ??zcl_ReadAttrData_1
   3371            }
   \                     ??zcl_ReadAttrData_0:
   \   000032   7418         MOV       A,#0x18
   \   000034   12....       LCALL     ?XSTACK_DISP0_8
   \   000037   12....       LCALL     ??Subroutine245_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_560:
   \   00003A   741A         MOV       A,#0x1a
   \   00003C   12....       LCALL     ?XSTACK_DISP0_8
   \   00003F   12....       LCALL     ?Subroutine108 & 0xFFFF
   3372          
   3373            if ( attrRec.attr.dataPtr != NULL )
   \                     ??CrossCallReturnLabel_188:
   \   000042   7406         MOV       A,#0x6
   \   000044   12....       LCALL     ?XSTACK_DISP0_8
   \   000047   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_441:
   \   00004A   78..         MOV       R0,#?V4
   \   00004C   6016         JZ        ??zcl_ReadAttrData_2
   3374            {
   3375              return zclReadAttrData( pAttrData, &attrRec, pDataLen );
   \   00004E                ; Setup parameters for call to function zclReadAttrData
   \   00004E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000051   7402         MOV       A,#0x2
   \   000053   12....       LCALL     ?XSTACK_DISP102_8
   \   000056   AA..         MOV       R2,?V6
   \   000058   AB..         MOV       R3,?V7
   \   00005A   12....       LCALL     `??zclReadAttrData::?relay`; Banked call to: zclReadAttrData
   \   00005D   7402         MOV       A,#0x2
   \   00005F   12....       LCALL     ?DEALLOC_XSTACK8
   \   000062   801A         SJMP      ??zcl_ReadAttrData_1
   3376            }
   3377            else
   3378            {
   3379              return zclReadAttrDataUsingCB( endpoint, clusterId, attrId, pAttrData, pDataLen );
   \                     ??zcl_ReadAttrData_2:
   \   000064                ; Setup parameters for call to function zclReadAttrDataUsingCB
   \   000064   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000067   78..         MOV       R0,#?V6
   \   000069   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00006C   EE           MOV       A,R6
   \   00006D   FC           MOV       R4,A
   \   00006E   EF           MOV       A,R7
   \   00006F   FD           MOV       R5,A
   \   000070   AA..         MOV       R2,?V0
   \   000072   AB..         MOV       R3,?V1
   \   000074   A9..         MOV       R1,?V2
   \   000076   12....       LCALL     `??zclReadAttrDataUsingCB::?relay`; Banked call to: zclReadAttrDataUsingCB
   \   000079   7404         MOV       A,#0x4
   \   00007B   12....       LCALL     ?DEALLOC_XSTACK8
   \                     ??zcl_ReadAttrData_1:
   \   00007E   7408         MOV       A,#0x8
   3380            }
   \   000080   02....       LJMP      ?Subroutine8 & 0xFFFF
   3381          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine245_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V6,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   F5..         MOV       ?V7,A
   \   000007   22           RET
   3382          
   3383          /*********************************************************************
   3384           * @fn      zclGetAttrDataLengthUsingCB
   3385           *
   3386           * @brief   Use application's callback to get the length of the attribute's
   3387           *          current value stored in the database.
   3388           *
   3389           * @param   endpoint - application's endpoint
   3390           * @param   clusterId - cluster that attribute belongs to
   3391           * @param   attrId - attribute id
   3392           *
   3393           * @return  returns attribute length
   3394           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3395          static uint16 zclGetAttrDataLengthUsingCB( uint8 endpoint, uint16 clusterId, uint16 attrId )
   \                     zclGetAttrDataLengthUsingCB:
   3396          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV       A,#-0x2
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   8A..         MOV       ?V4,R2
   \   00000C   8B..         MOV       ?V5,R3
   \   00000E   EC           MOV       A,R4
   \   00000F   FE           MOV       R6,A
   \   000010   ED           MOV       A,R5
   \   000011   FF           MOV       R7,A
   3397            uint16 dataLen = 0;
   \   000012   85..82       MOV       DPL,?XSP + 0
   \   000015   85..83       MOV       DPH,?XSP + 1
   \   000018   E4           CLR       A
   \   000019   F0           MOVX      @DPTR,A
   \   00001A   A3           INC       DPTR
   \   00001B   F0           MOVX      @DPTR,A
   3398            zclReadWriteCB_t pfnReadWriteCB = zclGetReadWriteCB( endpoint );
   \   00001C                ; Setup parameters for call to function zclGetReadWriteCB
   \   00001C   12....       LCALL     `??zclGetReadWriteCB::?relay`; Banked call to: zclGetReadWriteCB
   \   00001F   8A..         MOV       ?V0,R2
   \   000021   8B..         MOV       ?V1,R3
   3399          
   3400            if ( pfnReadWriteCB != NULL )
   \   000023   EA           MOV       A,R2
   \   000024   45..         ORL       A,?V1
   \   000026   602F         JZ        ??zclGetAttrDataLengthUsingCB_0
   3401            {
   3402              // Only get the attribute length
   3403              (*pfnReadWriteCB)( clusterId, attrId, ZCL_OPER_LEN, NULL, &dataLen );
   \   000028                ; Setup parameters for indirect call
   \   000028   A8..         MOV       R0,?XSP + 0
   \   00002A   A9..         MOV       R1,?XSP + 1
   \   00002C   88..         MOV       ?V6,R0
   \   00002E   89..         MOV       ?V7,R1
   \   000030   78..         MOV       R0,#?V6
   \   000032   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000035   E4           CLR       A
   \   000036   F5..         MOV       ?V6,A
   \   000038   F5..         MOV       ?V7,A
   \   00003A   78..         MOV       R0,#?V6
   \   00003C   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00003F   7900         MOV       R1,#0x0
   \   000041   EE           MOV       A,R6
   \   000042   FC           MOV       R4,A
   \   000043   EF           MOV       A,R7
   \   000044   FD           MOV       R5,A
   \   000045   AA..         MOV       R2,?V4
   \   000047   AB..         MOV       R3,?V5
   \   000049   85..82       MOV       DPL,?V0
   \   00004C   85..83       MOV       DPH,?V1
   \   00004F   12....       LCALL     ?CALL_IND
   \   000052   7404         MOV       A,#0x4
   \   000054   12....       LCALL     ?DEALLOC_XSTACK8
   3404            }
   3405          
   3406            return ( dataLen );
   \                     ??zclGetAttrDataLengthUsingCB_0:
   \   000057   85..82       MOV       DPL,?XSP + 0
   \   00005A   85..83       MOV       DPH,?XSP + 1
   \   00005D   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_549:
   \   000060   7402         MOV       A,#0x2
   \   000062   02....       LJMP      ?Subroutine8 & 0xFFFF
   3407          }
   3408          
   3409          /*********************************************************************
   3410           * @fn      zclReadAttrDataUsingCB
   3411           *
   3412           * @brief   Use application's callback to read the attribute's current
   3413           *          value stored in the database.
   3414           *
   3415           * @param   endpoint - application's endpoint
   3416           * @param   clusterId - cluster that attribute belongs to
   3417           * @param   attrId - attribute id
   3418           * @param   pAttrData - where to put attribute data
   3419           * @param   pDataLen - where to put attribute data length
   3420           *
   3421           * @return  Successful if data was read
   3422           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3423          static ZStatus_t zclReadAttrDataUsingCB( uint8 endpoint, uint16 clusterId, uint16 attrId,
   \                     zclReadAttrDataUsingCB:
   3424                                                   uint8 *pAttrData, uint16 *pDataLen )
   3425          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV       ?V0,R2
   \   000007   8B..         MOV       ?V1,R3
   \   000009   EC           MOV       A,R4
   \   00000A   FE           MOV       R6,A
   \   00000B   ED           MOV       A,R5
   \   00000C   FF           MOV       R7,A
   3426            zclReadWriteCB_t pfnReadWriteCB = zclGetReadWriteCB( endpoint );
   \   00000D                ; Setup parameters for call to function zclGetReadWriteCB
   \   00000D   12....       LCALL     `??zclGetReadWriteCB::?relay`; Banked call to: zclGetReadWriteCB
   \   000010   8A..         MOV       ?V2,R2
   \   000012   8B..         MOV       ?V3,R3
   \   000014   7412         MOV       A,#0x12
   \   000016   12....       LCALL     ?XSTACK_DISP0_8
   \   000019   12....       LCALL     ??Subroutine245_0 & 0xFFFF
   3427          
   3428            if ( pDataLen != NULL )
   \                     ??CrossCallReturnLabel_561:
   \   00001C   E5..         MOV       A,?V6
   \   00001E   45..         ORL       A,?V7
   \   000020   600A         JZ        ??zclReadAttrDataUsingCB_0
   3429            {
   3430              *pDataLen = 0; // Always initialize it to 0
   \   000022   85..82       MOV       DPL,?V6
   \   000025   85..83       MOV       DPH,?V7
   \   000028   E4           CLR       A
   \   000029   F0           MOVX      @DPTR,A
   \   00002A   A3           INC       DPTR
   \   00002B   F0           MOVX      @DPTR,A
   3431            }
   3432          
   3433            if ( pfnReadWriteCB != NULL )
   \                     ??zclReadAttrDataUsingCB_0:
   \   00002C   EA           MOV       A,R2
   \   00002D   45..         ORL       A,?V3
   \   00002F   6027         JZ        ??zclReadAttrDataUsingCB_1
   3434            {
   3435              // Read the attribute value and its length
   3436              return ( (*pfnReadWriteCB)( clusterId, attrId, ZCL_OPER_READ, pAttrData, pDataLen ) );
   \   000031                ; Setup parameters for indirect call
   \   000031   78..         MOV       R0,#?V6
   \   000033   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000036   7412         MOV       A,#0x12
   \   000038   12....       LCALL     ?XSTACK_DISP0_8
   \   00003B   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   00003E   7901         MOV       R1,#0x1
   \   000040   EE           MOV       A,R6
   \   000041   FC           MOV       R4,A
   \   000042   EF           MOV       A,R7
   \   000043   FD           MOV       R5,A
   \   000044   AA..         MOV       R2,?V0
   \   000046   AB..         MOV       R3,?V1
   \   000048   85..82       MOV       DPL,?V2
   \   00004B   85..83       MOV       DPH,?V3
   \   00004E   12....       LCALL     ?CALL_IND
   \   000051   7404         MOV       A,#0x4
   \   000053   12....       LCALL     ?DEALLOC_XSTACK8
   \   000056   8002         SJMP      ??zclReadAttrDataUsingCB_2
   3437            }
   3438          
   3439            return ( ZCL_STATUS_SOFTWARE_FAILURE );
   \                     ??zclReadAttrDataUsingCB_1:
   \   000058   79C1         MOV       R1,#-0x3f
   \                     ??zclReadAttrDataUsingCB_2:
   \   00005A   02....       LJMP      ??Subroutine219_0 & 0xFFFF
   3440          }
   3441          
   3442          /*********************************************************************
   3443           * @fn      zclAuthorizeRead
   3444           *
   3445           * @brief   Use application's callback to authorize a Read operation
   3446           *          on a given attribute.
   3447           *
   3448           * @param   endpoint - application's endpoint
   3449           * @param   srcAddr - source Address
   3450           * @param   pAttr - pointer to attribute
   3451           *
   3452           * @return  ZCL_STATUS_SUCCESS: Operation authorized
   3453           *          ZCL_STATUS_NOT_AUTHORIZED: Operation not authorized
   3454           */
   3455          static ZStatus_t zclAuthorizeRead( uint8 endpoint, afAddrType_t *srcAddr, zclAttrRec_t *pAttr )
   3456          {
   3457            if ( zcl_AccessCtrlAuthRead( pAttr->attr.accessControl ) )
   3458            {
   3459              zclAuthorizeCB_t pfnAuthorizeCB = zclGetAuthorizeCB( endpoint );
   3460          
   3461              if ( pfnAuthorizeCB != NULL )
   3462              {
   3463                return ( (*pfnAuthorizeCB)( srcAddr, pAttr, ZCL_OPER_READ ) );
   3464              }
   3465            }
   3466          
   3467            return ( ZCL_STATUS_SUCCESS );
   3468          }
   3469          #endif // ZCL_READ
   3470          
   3471          #ifdef ZCL_WRITE
   3472          /*********************************************************************
   3473           * @fn      zclWriteAttrData
   3474           *
   3475           * @brief   Write the received data.
   3476           *
   3477           * @param   endpoint - application's endpoint
   3478           * @param   pAttr - where to write data to
   3479           * @param   pWriteRec - data to be written
   3480           *
   3481           * @return  Successful if data was written
   3482           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3483          static ZStatus_t zclWriteAttrData( uint8 endpoint, afAddrType_t *srcAddr,
   \                     zclWriteAttrData:
   3484                                             zclAttrRec_t *pAttr, zclWriteRec_t *pWriteRec )
   3485          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000   74F1         MOV       A,#-0xf
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 0
   \   000005   EC           MOV       A,R4
   \   000006   FE           MOV       R6,A
   \   000007   ED           MOV       A,R5
   \   000008   FF           MOV       R7,A
   3486            uint8 status;
   3487          
   3488            if ( zcl_AccessCtrlWrite( pAttr->attr.accessControl ) )
   \   000009   8E82         MOV       DPL,R6
   \   00000B   8F83         MOV       DPH,R7
   \   00000D   A3           INC       DPTR
   \   00000E   A3           INC       DPTR
   \   00000F   A3           INC       DPTR
   \   000010   A3           INC       DPTR
   \   000011   A3           INC       DPTR
   \   000012   E0           MOVX      A,@DPTR
   \   000013   A2E1         MOV       C,0xE0 /* A   */.1
   \   000015   506F         JNC       ??zclWriteAttrData_0
   3489            {
   3490              status = zclAuthorizeWrite( endpoint, srcAddr, pAttr );
   \   000017                ; Setup parameters for call to function zclAuthorizeWrite
   \   000017   12....       LCALL     `??zclAuthorizeWrite::?relay`; Banked call to: zclAuthorizeWrite
   \   00001A   E9           MOV       A,R1
   \   00001B   F5..         MOV       ?V2,A
   3491              if ( status == ZCL_STATUS_SUCCESS )
   \   00001D   706A         JNZ       ??zclWriteAttrData_1
   \   00001F   740F         MOV       A,#0xf
   \   000021   12....       LCALL     ?XSTACK_DISP0_8
   \   000024   12....       LCALL     ??Subroutine227_0 & 0xFFFF
   3492              {
   3493                if ( ( zcl_ValidateAttrDataCB == NULL ) || zcl_ValidateAttrDataCB( pAttr, pWriteRec ) )
   \                     ??CrossCallReturnLabel_467:
   \   000027   90....       MOV       DPTR,#zcl_ValidateAttrDataCB
   \   00002A   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_442:
   \   00002D   6013         JZ        ??zclWriteAttrData_2
   \   00002F                ; Setup parameters for indirect call
   \   00002F   AC..         MOV       R4,?V0
   \   000031   AD..         MOV       R5,?V1
   \   000033   EE           MOV       A,R6
   \   000034   FA           MOV       R2,A
   \   000035   EF           MOV       A,R7
   \   000036   FB           MOV       R3,A
   \   000037   E0           MOVX      A,@DPTR
   \   000038   F583         MOV       DPH,A
   \   00003A   8882         MOV       DPL,R0
   \   00003C   12....       LCALL     ?CALL_IND
   \   00003F   E9           MOV       A,R1
   \   000040   603F         JZ        ??zclWriteAttrData_3
   3494                {
   3495                  // Write the attribute value
   3496                  uint16 len = zclGetAttrDataLength( pAttr->attr.dataType, pWriteRec->attrData );
   \                     ??zclWriteAttrData_2:
   \   000042   E5..         MOV       A,?V0
   \   000044   2403         ADD       A,#0x3
   \   000046   F8           MOV       R0,A
   \   000047   E4           CLR       A
   \   000048   35..         ADDC      A,?V1
   \   00004A   F9           MOV       R1,A
   \   00004B   88..         MOV       ?V0,R0
   \   00004D   89..         MOV       ?V1,R1
   \   00004F                ; Setup parameters for call to function zclGetAttrDataLength
   \   00004F   8882         MOV       DPL,R0
   \   000051   F583         MOV       DPH,A
   \   000053   12....       LCALL     ?Subroutine79 & 0xFFFF
   \                     ??CrossCallReturnLabel_137:
   \   000056   E0           MOVX      A,@DPTR
   \   000057   F9           MOV       R1,A
   \   000058   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   00005B   8A..         MOV       ?V4,R2
   \   00005D   8B..         MOV       ?V5,R3
   \   00005F   AC..         MOV       R4,?V4
   \   000061   AD..         MOV       R5,?V5
   3497                  zcl_memcpy( pAttr->attr.dataPtr, pWriteRec->attrData, len );
   \   000063                ; Setup parameters for call to function osal_memcpy
   \   000063   85..82       MOV       DPL,?V0
   \   000066   85..83       MOV       DPH,?V1
   \   000069   12....       LCALL     ?Subroutine64 & 0xFFFF
   \                     ??CrossCallReturnLabel_106:
   \   00006C   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   00006F   8E82         MOV       DPL,R6
   \   000071   8F83         MOV       DPH,R7
   \   000073   A3           INC       DPTR
   \   000074   12....       LCALL     ?Subroutine81 & 0xFFFF
   \                     ??CrossCallReturnLabel_559:
   \   000077   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00007A   7403         MOV       A,#0x3
   \   00007C   12....       LCALL     ?DEALLOC_XSTACK8
   3498          
   3499                  status = ZCL_STATUS_SUCCESS;
   \   00007F   8008         SJMP      ??zclWriteAttrData_1
   3500                }
   3501                else
   3502                {
   3503                  status = ZCL_STATUS_INVALID_VALUE;
   \                     ??zclWriteAttrData_3:
   \   000081   75..87       MOV       ?V2,#-0x79
   \   000084   8003         SJMP      ??zclWriteAttrData_1
   3504                }
   3505              }
   3506            }
   3507            else
   3508            {
   3509              status = ZCL_STATUS_READ_ONLY;
   \                     ??zclWriteAttrData_0:
   \   000086   75..88       MOV       ?V2,#-0x78
   3510            }
   3511          
   3512            return ( status );
   \                     ??zclWriteAttrData_1:
   \   000089   A9..         MOV       R1,?V2
   \   00008B   02....       LJMP      ?Subroutine9 & 0xFFFF
   3513          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine227_0:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   F5..         MOV       ?V0,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   F5..         MOV       ?V1,A
   \   000007   22           RET
   3514          
   3515          /*********************************************************************
   3516           * @fn      zclWriteAttrDataUsingCB
   3517           *
   3518           * @brief   Use application's callback to write the attribute's current
   3519           *          value stored in the database.
   3520           *
   3521           * @param   endpoint - application's endpoint
   3522           * @param   pAttr - where to write data to
   3523           * @param   pAttrData - data to be written
   3524           *
   3525           * @return  Successful if data was written
   3526           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3527          static ZStatus_t zclWriteAttrDataUsingCB( uint8 endpoint, afAddrType_t *srcAddr,
   \                     zclWriteAttrDataUsingCB:
   3528                                                    zclAttrRec_t *pAttr, uint8 *pAttrData )
   3529          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV       A,#-0xe
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   89..         MOV       ?V0,R1
   \   000007   EC           MOV       A,R4
   \   000008   FE           MOV       R6,A
   \   000009   ED           MOV       A,R5
   \   00000A   FF           MOV       R7,A
   3530            uint8 status;
   3531          
   3532            if ( zcl_AccessCtrlWrite( pAttr->attr.accessControl ) )
   \   00000B   8E82         MOV       DPL,R6
   \   00000D   8F83         MOV       DPH,R7
   \   00000F   A3           INC       DPTR
   \   000010   A3           INC       DPTR
   \   000011   A3           INC       DPTR
   \   000012   A3           INC       DPTR
   \   000013   A3           INC       DPTR
   \   000014   E0           MOVX      A,@DPTR
   \   000015   A2E1         MOV       C,0xE0 /* A   */.1
   \   000017   504D         JNC       ??zclWriteAttrDataUsingCB_0
   3533            {
   3534              status = zclAuthorizeWrite( endpoint, srcAddr, pAttr );
   \   000019                ; Setup parameters for call to function zclAuthorizeWrite
   \   000019   12....       LCALL     `??zclAuthorizeWrite::?relay`; Banked call to: zclAuthorizeWrite
   \   00001C   E9           MOV       A,R1
   \   00001D   F9           MOV       R1,A
   3535              if ( status == ZCL_STATUS_SUCCESS )
   \   00001E   7048         JNZ       ??zclWriteAttrDataUsingCB_1
   3536              {
   3537                zclReadWriteCB_t pfnReadWriteCB = zclGetReadWriteCB( endpoint );
   \   000020                ; Setup parameters for call to function zclGetReadWriteCB
   \   000020   A9..         MOV       R1,?V0
   \   000022   12....       LCALL     `??zclGetReadWriteCB::?relay`; Banked call to: zclGetReadWriteCB
   \   000025   8A..         MOV       ?V2,R2
   \   000027   8B..         MOV       ?V3,R3
   3538                if ( pfnReadWriteCB != NULL )
   \   000029   EA           MOV       A,R2
   \   00002A   45..         ORL       A,?V3
   \   00002C   6034         JZ        ??zclWriteAttrDataUsingCB_2
   3539                {
   3540                  // Write the attribute value
   3541                  status = (*pfnReadWriteCB)( pAttr->clusterID, pAttr->attr.attrId,
   3542                                              ZCL_OPER_WRITE, pAttrData, NULL );
   \   00002E                ; Setup parameters for indirect call
   \   00002E   E4           CLR       A
   \   00002F   F5..         MOV       ?V4,A
   \   000031   F5..         MOV       ?V5,A
   \   000033   78..         MOV       R0,#?V4
   \   000035   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000038   7410         MOV       A,#0x10
   \   00003A   12....       LCALL     ?XSTACK_DISP0_8
   \   00003D   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   000040   7902         MOV       R1,#0x2
   \   000042   8E82         MOV       DPL,R6
   \   000044   8F83         MOV       DPH,R7
   \   000046   12....       LCALL     ??Subroutine225_0 & 0xFFFF
   3543                }
   \                     ??CrossCallReturnLabel_463:
   \   000049   8E82         MOV       DPL,R6
   \   00004B   8F83         MOV       DPH,R7
   \   00004D   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_550:
   \   000050   85..82       MOV       DPL,?V2
   \   000053   85..83       MOV       DPH,?V3
   \   000056   12....       LCALL     ?CALL_IND
   \   000059   7404         MOV       A,#0x4
   \   00005B   12....       LCALL     ?DEALLOC_XSTACK8
   \   00005E   E9           MOV       A,R1
   \   00005F   F9           MOV       R1,A
   \   000060   8006         SJMP      ??zclWriteAttrDataUsingCB_1
   3544                else
   3545                {
   3546                  status = ZCL_STATUS_SOFTWARE_FAILURE;
   \                     ??zclWriteAttrDataUsingCB_2:
   \   000062   79C1         MOV       R1,#-0x3f
   \   000064   8002         SJMP      ??zclWriteAttrDataUsingCB_1
   3547                }
   3548              }
   3549            }
   3550            else
   3551            {
   3552              status = ZCL_STATUS_READ_ONLY;
   \                     ??zclWriteAttrDataUsingCB_0:
   \   000066   7988         MOV       R1,#-0x78
   3553            }
   3554          
   3555            return ( status );
   \                     ??zclWriteAttrDataUsingCB_1:
   \   000068                REQUIRE ?Subroutine3
   \   000068                ; // Fall through to label ?Subroutine3
   3556          }
   3557          
   3558          /*********************************************************************
   3559           * @fn      zclAuthorizeWrite
   3560           *
   3561           * @brief   Use application's callback to authorize a Write operation
   3562           *          on a given attribute.
   3563           *
   3564           * @param   endpoint - application's endpoint
   3565           * @param   srcAddr - source Address
   3566           * @param   pAttr - pointer to attribute
   3567           *
   3568           * @return  ZCL_STATUS_SUCCESS: Operation authorized
   3569           *          ZCL_STATUS_NOT_AUTHORIZED: Operation not authorized
   3570           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3571          static ZStatus_t zclAuthorizeWrite( uint8 endpoint, afAddrType_t *srcAddr, zclAttrRec_t *pAttr )
   \                     zclAuthorizeWrite:
   3572          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV       A,#-0xe
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
   \   000009   8C..         MOV       ?V0,R4
   \   00000B   8D..         MOV       ?V1,R5
   3573            if ( zcl_AccessCtrlAuthWrite( pAttr->attr.accessControl ) )
   \   00000D   8C82         MOV       DPL,R4
   \   00000F   8D83         MOV       DPH,R5
   \   000011   A3           INC       DPTR
   \   000012   A3           INC       DPTR
   \   000013   A3           INC       DPTR
   \   000014   A3           INC       DPTR
   \   000015   A3           INC       DPTR
   \   000016   E0           MOVX      A,@DPTR
   \   000017   A2E5         MOV       C,0xE0 /* A   */.5
   \   000019   501C         JNC       ??zclAuthorizeWrite_0
   3574            {
   3575              zclAuthorizeCB_t pfnAuthorizeCB = zclGetAuthorizeCB( endpoint );
   \   00001B                ; Setup parameters for call to function zclGetAuthorizeCB
   \   00001B   12....       LCALL     `??zclGetAuthorizeCB::?relay`; Banked call to: zclGetAuthorizeCB
   \   00001E   8A82         MOV       DPL,R2
   \   000020   8B83         MOV       DPH,R3
   3576          
   3577              if ( pfnAuthorizeCB != NULL )
   \   000022   E582         MOV       A,DPL
   \   000024   4583         ORL       A,DPH
   \   000026   600F         JZ        ??zclAuthorizeWrite_0
   3578              {
   3579                return ( (*pfnAuthorizeCB)( srcAddr, pAttr, ZCL_OPER_WRITE ) );
   \   000028                ; Setup parameters for indirect call
   \   000028   7902         MOV       R1,#0x2
   \   00002A   AC..         MOV       R4,?V0
   \   00002C   AD..         MOV       R5,?V1
   \   00002E   EE           MOV       A,R6
   \   00002F   FA           MOV       R2,A
   \   000030   EF           MOV       A,R7
   \   000031   FB           MOV       R3,A
   \   000032   12....       LCALL     ?CALL_IND
   \   000035   8002         SJMP      ??zclAuthorizeWrite_1
   3580              }
   3581            }
   3582          
   3583            return ( ZCL_STATUS_SUCCESS );
   \                     ??zclAuthorizeWrite_0:
   \   000037   7900         MOV       R1,#0x0
   \                     ??zclAuthorizeWrite_1:
   \   000039   80..         SJMP      ?Subroutine3
   3584          }
   3585          #endif // ZCL_WRITE
   3586          
   3587          #ifdef ZCL_READ
   3588          /*********************************************************************
   3589           * @fn      zclParseInReadCmd
   3590           *
   3591           * @brief   Parse the "Profile" Read Commands
   3592           *
   3593           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   3594           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   3595           *
   3596           * @param   pCmd - pointer to incoming data to parse
   3597           *
   3598           * @return  pointer to the parsed command structure
   3599           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3600          void *zclParseInReadCmd( zclParseCmd_t *pCmd )
   \                     zclParseInReadCmd:
   3601          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   3602            zclReadCmd_t *readCmd;
   3603            uint8 *pBuf = pCmd->pData;
   \   000005   12....       LCALL     ?Subroutine104 & 0xFFFF
   3604          
   3605            readCmd = (zclReadCmd_t *)zcl_mem_alloc( sizeof ( zclReadCmd_t ) + pCmd->dataLen );
   \                     ??CrossCallReturnLabel_179:
   \   000008   12....       LCALL     ?Subroutine116 & 0xFFFF
   \                     ??CrossCallReturnLabel_204:
   \   00000B   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   3606            if ( readCmd != NULL )
   \   00000E   EA           MOV       A,R2
   \   00000F   4B           ORL       A,R3
   \   000010   604D         JZ        ??zclParseInReadCmd_0
   3607            {
   3608              uint8 i;
   3609              readCmd->numAttr = pCmd->dataLen / 2; // Atrribute ID
   \   000012   12....       LCALL     ?Subroutine199 & 0xFFFF
   \                     ??CrossCallReturnLabel_502:
   \   000015   C3           CLR       C
   \   000016   13           RRC       A
   \   000017   E8           MOV       A,R0
   \   000018   13           RRC       A
   \   000019   8A82         MOV       DPL,R2
   \   00001B   8B83         MOV       DPH,R3
   \   00001D   F0           MOVX      @DPTR,A
   3610              for ( i = 0; i < readCmd->numAttr; i++ )
   \   00001E   7C00         MOV       R4,#0x0
   \   000020   8032         SJMP      ??zclParseInReadCmd_1
   3611              {
   3612                readCmd->attrID[i] = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??zclParseInReadCmd_2:
   \   000022   8E82         MOV       DPL,R6
   \   000024   8F83         MOV       DPH,R7
   \   000026   E0           MOVX      A,@DPTR
   \   000027   F5..         MOV       ?V0,A
   \   000029   A3           INC       DPTR
   \   00002A   E0           MOVX      A,@DPTR
   \   00002B   F8           MOV       R0,A
   \   00002C   E4           CLR       A
   \   00002D   C8           XCH       A,R0
   \   00002E   F9           MOV       R1,A
   \   00002F   E5..         MOV       A,?V0
   \   000031   28           ADD       A,R0
   \   000032   E4           CLR       A
   \   000033   39           ADDC      A,R1
   \   000034   F5..         MOV       ?V1,A
   \   000036   EC           MOV       A,R4
   \   000037   25E0         ADD       A,0xE0 /* A   */
   \   000039   F8           MOV       R0,A
   \   00003A   E4           CLR       A
   \   00003B   33           RLC       A
   \   00003C   F9           MOV       R1,A
   \   00003D   EA           MOV       A,R2
   \   00003E   28           ADD       A,R0
   \   00003F   F582         MOV       DPL,A
   \   000041   EB           MOV       A,R3
   \   000042   12....       LCALL     ?Subroutine201 & 0xFFFF
   \                     ??CrossCallReturnLabel_347:
   \   000045   E5..         MOV       A,?V0
   \   000047   F0           MOVX      @DPTR,A
   \   000048   A3           INC       DPTR
   \   000049   E5..         MOV       A,?V1
   \   00004B   F0           MOVX      @DPTR,A
   3613                pBuf += 2;
   \   00004C   EE           MOV       A,R6
   \   00004D   2402         ADD       A,#0x2
   \   00004F   FE           MOV       R6,A
   \   000050   5001         JNC       ??zclParseInReadCmd_3
   \   000052   0F           INC       R7
   3614              }
   \                     ??zclParseInReadCmd_3:
   \   000053   0C           INC       R4
   \                     ??zclParseInReadCmd_1:
   \   000054   8A82         MOV       DPL,R2
   \   000056   8B83         MOV       DPH,R3
   \   000058   E0           MOVX      A,@DPTR
   \   000059   F8           MOV       R0,A
   \   00005A   EC           MOV       A,R4
   \   00005B   C3           CLR       C
   \   00005C   98           SUBB      A,R0
   \   00005D   40C3         JC        ??zclParseInReadCmd_2
   3615            }
   3616          
   3617            return ( (void *)readCmd );
   \                     ??zclParseInReadCmd_0:
   \   00005F   02....       LJMP      ??Subroutine203_0 & 0xFFFF
   3618          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine116:
   \   000000   8A82         MOV       DPL,R2
   \   000002   8B83         MOV       DPH,R3
   \   000004   A3           INC       DPTR
   \   000005   8582..       MOV       ?V0,DPL
   \   000008   8583..       MOV       ?V1,DPH
   \   00000B                ; Setup parameters for call to function osal_mem_alloc
   \   00000B                ; Setup parameters for call to function osal_mem_alloc
   \   00000B   E0           MOVX      A,@DPTR
   \   00000C   2401         ADD       A,#0x1
   \   00000E   FA           MOV       R2,A
   \   00000F   A3           INC       DPTR
   \   000010   E0           MOVX      A,@DPTR
   \   000011   3400         ADDC      A,#0x0
   \   000013   FB           MOV       R3,A
   \   000014   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine104:
   \   000000   12....       LCALL     ?Subroutine174 & 0xFFFF
   \                     ??CrossCallReturnLabel_308:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine174:
   \   000000   8A82         MOV       DPL,R2
   \   000002   8B83         MOV       DPH,R3
   \   000004   A3           INC       DPTR
   \   000005   A3           INC       DPTR
   \   000006   A3           INC       DPTR
   \   000007   12....       LCALL     ??Subroutine231_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_500:
   \   00000A   F9           MOV       R1,A
   \   00000B   E8           MOV       A,R0
   \   00000C   FE           MOV       R6,A
   \   00000D   E9           MOV       A,R1
   \   00000E   FF           MOV       R7,A
   \   00000F   22           RET
   3619          
   3620          /*********************************************************************
   3621           * @fn      zclParseInReadRspCmd
   3622           *
   3623           * @brief   Parse the "Profile" Read Response Commands
   3624           *
   3625           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   3626           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   3627           *
   3628           * @param   pCmd - pointer to incoming data to parse
   3629           *
   3630           * @return  pointer to the parsed command structure
   3631           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3632          static void *zclParseInReadRspCmd( zclParseCmd_t *pCmd )
   \                     zclParseInReadRspCmd:
   3633          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000   74EA         MOV       A,#-0x16
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV       ?V8,R2
   \   000007   8B..         MOV       ?V9,R3
   3634            zclReadRspCmd_t *readRspCmd;
   3635            uint8 *pBuf = pCmd->pData;
   \   000009   EA           MOV       A,R2
   \   00000A   2403         ADD       A,#0x3
   \   00000C   F5..         MOV       ?V4,A
   \   00000E   E4           CLR       A
   \   00000F   35..         ADDC      A,?V9
   \   000011   F5..         MOV       ?V5,A
   \   000013   85..82       MOV       DPL,?V4
   \   000016   F583         MOV       DPH,A
   \   000018   12....       LCALL     ??Subroutine236_0 & 0xFFFF
   3636            uint8 *dataPtr;
   3637            uint8 numAttr = 0;
   \                     ??CrossCallReturnLabel_531:
   \   00001B   75..00       MOV       ?V2,#0x0
   3638            uint8 hdrLen;
   3639            uint16 dataLen = 0;
   \   00001E   75..00       MOV       ?V6,#0x0
   \   000021   75..00       MOV       ?V7,#0x0
   \   000024   8049         SJMP      ??zclParseInReadRspCmd_0
   3640            uint16 attrDataLen;
   3641          
   3642            // find out the number of attributes and the length of attribute data
   3643            while ( pBuf < ( pCmd->pData + pCmd->dataLen ) )
   3644            {
   3645              uint8 status;
   3646          
   3647              numAttr++;
   \                     ??zclParseInReadRspCmd_1:
   \   000026   05..         INC       ?V2
   3648              pBuf += 2; // move pass attribute id
   3649          
   3650              status = *pBuf++;
   \   000028   8E82         MOV       DPL,R6
   \   00002A   8F83         MOV       DPH,R7
   \   00002C   A3           INC       DPTR
   \   00002D   A3           INC       DPTR
   \   00002E   E0           MOVX      A,@DPTR
   \   00002F   F8           MOV       R0,A
   \   000030   EE           MOV       A,R6
   \   000031   2403         ADD       A,#0x3
   \   000033   FE           MOV       R6,A
   \   000034   5001         JNC       ??zclParseInReadRspCmd_2
   \   000036   0F           INC       R7
   3651              if ( status == ZCL_STATUS_SUCCESS )
   \                     ??zclParseInReadRspCmd_2:
   \   000037   E8           MOV       A,R0
   \   000038   7035         JNZ       ??zclParseInReadRspCmd_0
   3652              {
   3653                uint8 dataType = *pBuf++;
   \   00003A   8E82         MOV       DPL,R6
   \   00003C   8F83         MOV       DPH,R7
   \   00003E   E0           MOVX      A,@DPTR
   \   00003F   F9           MOV       R1,A
   \   000040   A3           INC       DPTR
   \   000041   AE82         MOV       R6,DPL
   \   000043   AF83         MOV       R7,DPH
   3654          
   3655                attrDataLen = zclGetAttrDataLength( dataType, pBuf );
   \   000045                ; Setup parameters for call to function zclGetAttrDataLength
   \   000045   EE           MOV       A,R6
   \   000046   FA           MOV       R2,A
   \   000047   EF           MOV       A,R7
   \   000048   FB           MOV       R3,A
   \   000049   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   00004C   8A..         MOV       ?V0,R2
   \   00004E   8B..         MOV       ?V1,R3
   3656                pBuf += attrDataLen; // move pass attribute data
   \   000050   EE           MOV       A,R6
   \   000051   2A           ADD       A,R2
   \   000052   FE           MOV       R6,A
   \   000053   EF           MOV       A,R7
   \   000054   35..         ADDC      A,?V1
   \   000056   FF           MOV       R7,A
   3657          
   3658                // add padding if needed
   3659                if ( PADDING_NEEDED( attrDataLen ) )
   \   000057   EA           MOV       A,R2
   \   000058   A2E0         MOV       C,0xE0 /* A   */.0
   \   00005A   5007         JNC       ??zclParseInReadRspCmd_3
   3660                {
   3661                  attrDataLen++;
   \   00005C   05..         INC       ?V0
   \   00005E   04           INC       A
   \   00005F   7002         JNZ       ??zclParseInReadRspCmd_3
   \   000061   05..         INC       ?V1
   3662                }
   3663          
   3664                dataLen += attrDataLen;
   \                     ??zclParseInReadRspCmd_3:
   \   000063   E5..         MOV       A,?V6
   \   000065   25..         ADD       A,?V0
   \   000067   F5..         MOV       ?V6,A
   \   000069   E5..         MOV       A,?V7
   \   00006B   35..         ADDC      A,?V1
   \   00006D   F5..         MOV       ?V7,A
   3665              }
   3666            }
   \                     ??zclParseInReadRspCmd_0:
   \   00006F   85..82       MOV       DPL,?V8
   \   000072   85..83       MOV       DPH,?V9
   \   000075   A3           INC       DPTR
   \   000076   12....       LCALL     ?Subroutine69 & 0xFFFF
   \                     ??CrossCallReturnLabel_118:
   \   000079   12....       LCALL     ?Subroutine66 & 0xFFFF
   \                     ??CrossCallReturnLabel_111:
   \   00007C   40A8         JC        ??zclParseInReadRspCmd_1
   3667          
   3668            // calculate the length of the response header
   3669            hdrLen = sizeof( zclReadRspCmd_t ) + ( numAttr * sizeof( zclReadRspStatus_t ) );
   \   00007E   75F006       MOV       B,#0x6
   \   000081   E5..         MOV       A,?V2
   \   000083   A4           MUL       AB
   \   000084   04           INC       A
   \   000085   F5..         MOV       ?V0,A
   3670          
   3671            readRspCmd = (zclReadRspCmd_t *)zcl_mem_alloc( hdrLen + dataLen );
   \   000087                ; Setup parameters for call to function osal_mem_alloc
   \   000087   25..         ADD       A,?V6
   \   000089   FA           MOV       R2,A
   \   00008A   E4           CLR       A
   \   00008B   35..         ADDC      A,?V7
   \   00008D   FB           MOV       R3,A
   \   00008E   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000091   8A..         MOV       ?V10,R2
   \   000093   8B..         MOV       ?V11,R3
   3672            if ( readRspCmd != NULL )
   \   000095   EA           MOV       A,R2
   \   000096   45..         ORL       A,?V11
   \   000098   7003         JNZ       $+5
   \   00009A   02....       LJMP      ??zclParseInReadRspCmd_4 & 0xFFFF
   3673            {
   3674              uint8 i;
   3675              pBuf = pCmd->pData;
   \   00009D   12....       LCALL     ?Subroutine120 & 0xFFFF
   3676              dataPtr = (uint8 *)( (uint8 *)readRspCmd + hdrLen );
   \                     ??CrossCallReturnLabel_536:
   \   0000A0   A8..         MOV       R0,?V0
   \   0000A2   EA           MOV       A,R2
   \   0000A3   28           ADD       A,R0
   \   0000A4   F5..         MOV       ?V8,A
   \   0000A6   E4           CLR       A
   \   0000A7   3B           ADDC      A,R3
   \   0000A8   F5..         MOV       ?V9,A
   3677          
   3678              readRspCmd->numAttr = numAttr;
   \   0000AA   8A82         MOV       DPL,R2
   \   0000AC   8B83         MOV       DPH,R3
   \   0000AE   E5..         MOV       A,?V2
   \   0000B0   F0           MOVX      @DPTR,A
   3679              for ( i = 0; i < numAttr; i++ )
   \   0000B1   75..00       MOV       ?V3,#0x0
   \   0000B4   02....       LJMP      ??zclParseInReadRspCmd_5 & 0xFFFF
   3680              {
   3681                zclReadRspStatus_t *statusRec = &(readRspCmd->attrList[i]);
   \                     ??zclParseInReadRspCmd_6:
   \   0000B7   E5..         MOV       A,?V3
   \   0000B9   75F006       MOV       B,#0x6
   \   0000BC   12....       LCALL     ?Subroutine142 & 0xFFFF
   3682          
   3683                statusRec->attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??CrossCallReturnLabel_254:
   \   0000BF   8E82         MOV       DPL,R6
   \   0000C1   8F83         MOV       DPH,R7
   \   0000C3   12....       LCALL     ?Subroutine88 & 0xFFFF
   \                     ??CrossCallReturnLabel_151:
   \   0000C6   12....       LCALL     ?Subroutine32 & 0xFFFF
   3684                pBuf += 2;
   3685          
   3686                statusRec->status = *pBuf++;
   \                     ??CrossCallReturnLabel_36:
   \   0000C9   F8           MOV       R0,A
   \   0000CA   85..82       MOV       DPL,?V12
   \   0000CD   85..83       MOV       DPH,?V13
   \   0000D0   A3           INC       DPTR
   \   0000D1   A3           INC       DPTR
   \   0000D2   F0           MOVX      @DPTR,A
   \   0000D3   EE           MOV       A,R6
   \   0000D4   2403         ADD       A,#0x3
   \   0000D6   FE           MOV       R6,A
   \   0000D7   5001         JNC       ??zclParseInReadRspCmd_7
   \   0000D9   0F           INC       R7
   3687                if ( statusRec->status == ZCL_STATUS_SUCCESS )
   \                     ??zclParseInReadRspCmd_7:
   \   0000DA   E8           MOV       A,R0
   \   0000DB   706B         JNZ       ??zclParseInReadRspCmd_8
   3688                {
   3689                  statusRec->dataType = *pBuf++;
   \   0000DD   8E82         MOV       DPL,R6
   \   0000DF   8F83         MOV       DPH,R7
   \   0000E1   E0           MOVX      A,@DPTR
   \   0000E2   F9           MOV       R1,A
   \   0000E3   85..82       MOV       DPL,?V12
   \   0000E6   85..83       MOV       DPH,?V13
   \   0000E9   A3           INC       DPTR
   \   0000EA   A3           INC       DPTR
   \   0000EB   A3           INC       DPTR
   \   0000EC   12....       LCALL     ?Subroutine23 & 0xFFFF
   3690          
   3691                  attrDataLen = zclGetAttrDataLength( statusRec->dataType, pBuf );
   \                     ??CrossCallReturnLabel_16:
   \   0000EF                ; Setup parameters for call to function zclGetAttrDataLength
   \   0000EF   EE           MOV       A,R6
   \   0000F0   FA           MOV       R2,A
   \   0000F1   EF           MOV       A,R7
   \   0000F2   FB           MOV       R3,A
   \   0000F3   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   0000F6   8A..         MOV       ?V0,R2
   \   0000F8   8B..         MOV       ?V1,R3
   3692                  zcl_memcpy( dataPtr, pBuf, attrDataLen);
   \   0000FA                ; Setup parameters for call to function osal_memcpy
   \   0000FA   8E..         MOV       ?V4,R6
   \   0000FC   8F..         MOV       ?V5,R7
   \   0000FE   75..00       MOV       ?V6,#0x0
   \   000101   78..         MOV       R0,#?V4
   \   000103   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   000106   AC..         MOV       R4,?V0
   \   000108   AD..         MOV       R5,?V1
   \   00010A   AA..         MOV       R2,?V8
   \   00010C   AB..         MOV       R3,?V9
   \   00010E   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   000111   7403         MOV       A,#0x3
   \   000113   12....       LCALL     ?DEALLOC_XSTACK8
   3693                  statusRec->data = dataPtr;
   \   000116   85..82       MOV       DPL,?V12
   \   000119   85..83       MOV       DPH,?V13
   \   00011C   A3           INC       DPTR
   \   00011D   A3           INC       DPTR
   \   00011E   A3           INC       DPTR
   \   00011F   A3           INC       DPTR
   \   000120   E5..         MOV       A,?V8
   \   000122   F0           MOVX      @DPTR,A
   \   000123   A3           INC       DPTR
   \   000124   E5..         MOV       A,?V9
   \   000126   F0           MOVX      @DPTR,A
   3694          
   3695                  pBuf += attrDataLen; // move pass attribute data
   \   000127   EE           MOV       A,R6
   \   000128   25..         ADD       A,?V0
   \   00012A   FE           MOV       R6,A
   \   00012B   EF           MOV       A,R7
   \   00012C   35..         ADDC      A,?V1
   \   00012E   FF           MOV       R7,A
   3696          
   3697                  // advance attribute data pointer
   3698                  if ( PADDING_NEEDED( attrDataLen ) )
   \   00012F   E5..         MOV       A,?V0
   \   000131   A2E0         MOV       C,0xE0 /* A   */.0
   \   000133   5007         JNC       ??zclParseInReadRspCmd_9
   3699                  {
   3700                    attrDataLen++;
   \   000135   05..         INC       ?V0
   \   000137   04           INC       A
   \   000138   7002         JNZ       ??zclParseInReadRspCmd_9
   \   00013A   05..         INC       ?V1
   3701                  }
   3702          
   3703                  dataPtr += attrDataLen;
   \                     ??zclParseInReadRspCmd_9:
   \   00013C   E5..         MOV       A,?V8
   \   00013E   25..         ADD       A,?V0
   \   000140   F5..         MOV       ?V8,A
   \   000142   E5..         MOV       A,?V9
   \   000144   35..         ADDC      A,?V1
   \   000146   F5..         MOV       ?V9,A
   3704                }
   3705              }
   \                     ??zclParseInReadRspCmd_8:
   \   000148   05..         INC       ?V3
   \                     ??zclParseInReadRspCmd_5:
   \   00014A   E5..         MOV       A,?V3
   \   00014C   C3           CLR       C
   \   00014D   95..         SUBB      A,?V2
   \   00014F   5003         JNC       $+5
   \   000151   02....       LJMP      ??zclParseInReadRspCmd_6 & 0xFFFF
   3706            }
   3707          
   3708            return ( (void *)readRspCmd );
   \                     ??zclParseInReadRspCmd_4:
   \   000154                REQUIRE ?Subroutine11
   \   000154                ; // Fall through to label ?Subroutine11
   3709          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   AA..         MOV       R2,?V10
   \   000002   AB..         MOV       R3,?V11
   \   000004   02....       LJMP      ??Subroutine206_0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine142:
   \   000000   A4           MUL       AB
   \   000001   F8           MOV       R0,A
   \   000002   A9F0         MOV       R1,B
   \   000004   E5..         MOV       A,?V10
   \   000006   28           ADD       A,R0
   \   000007   F582         MOV       DPL,A
   \   000009   E5..         MOV       A,?V11
   \   00000B   12....       LCALL     ?Subroutine201 & 0xFFFF
   \                     ??CrossCallReturnLabel_348:
   \   00000E   8582..       MOV       ?V12,DPL
   \   000011   8583..       MOV       ?V13,DPH
   \   000014   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine88:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   FA           MOV       R2,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   F9           MOV       R1,A
   \   000005   EA           MOV       A,R2
   \   000006   85..82       MOV       DPL,?V12
   \   000009   85..83       MOV       DPH,?V13
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine66:
   \   000000   12....       LCALL     ?Subroutine188 & 0xFFFF
   \                     ??CrossCallReturnLabel_414:
   \   000003   C3           CLR       C
   \   000004   EE           MOV       A,R6
   \   000005   98           SUBB      A,R0
   \   000006   EF           MOV       A,R7
   \   000007   99           SUBB      A,R1
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine32:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   A3           INC       DPTR
   \   000002   E9           MOV       A,R1
   \   000003   12....       LCALL     ?Subroutine159 & 0xFFFF
   \                     ??CrossCallReturnLabel_283:
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine159:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   8E82         MOV       DPL,R6
   \   000003   8F83         MOV       DPH,R7
   \   000005   A3           INC       DPTR
   \   000006   A3           INC       DPTR
   \   000007   E0           MOVX      A,@DPTR
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine69:
   \   000000   12....       LCALL     ?Subroutine175 & 0xFFFF
   \                     ??CrossCallReturnLabel_492:
   \   000003   85..82       MOV       DPL,?V4
   \   000006   85..83       MOV       DPH,?V5
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine120:
   \   000000   85..82       MOV       DPL,?V4
   \   000003   85..83       MOV       DPH,?V5
   \   000006                REQUIRE ??Subroutine236_0
   \   000006                ; // Fall through to label ??Subroutine236_0
   3710          #endif // ZCL_READ
   3711          
   3712          #ifdef ZCL_WRITE
   3713          /*********************************************************************
   3714           * @fn      zclParseInWriteCmd
   3715           *
   3716           * @brief   Parse the "Profile" Write, Write Undivided and Write No
   3717           *          Response Commands
   3718           *
   3719           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   3720           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   3721           *
   3722           * @param   pCmd - pointer to incoming data to parse
   3723           *
   3724           * @return  pointer to the parsed command structure
   3725           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3726          void *zclParseInWriteCmd( zclParseCmd_t *pCmd )
   \                     zclParseInWriteCmd:
   3727          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000   74EA         MOV       A,#-0x16
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV       ?V8,R2
   \   000007   8B..         MOV       ?V9,R3
   3728            zclWriteCmd_t *writeCmd;
   3729            uint8 *pBuf = pCmd->pData;
   \   000009   EA           MOV       A,R2
   \   00000A   2403         ADD       A,#0x3
   \   00000C   F5..         MOV       ?V2,A
   \   00000E   E4           CLR       A
   \   00000F   35..         ADDC      A,?V9
   \   000011   F5..         MOV       ?V3,A
   \   000013   85..82       MOV       DPL,?V2
   \   000016   12....       LCALL     ?Subroutine72 & 0xFFFF
   3730            uint16 attrDataLen;
   3731            uint8 *dataPtr;
   3732            uint8 numAttr = 0;
   \                     ??CrossCallReturnLabel_469:
   \   000019   75..00       MOV       ?V7,#0x0
   3733            uint8 hdrLen;
   3734            uint16 dataLen = 0;
   \   00001C   75..00       MOV       ?V4,#0x0
   \   00001F   75..00       MOV       ?V5,#0x0
   \   000022   8042         SJMP      ??zclParseInWriteCmd_0
   3735          
   3736            // find out the number of attributes and the length of attribute data
   3737            while ( pBuf < ( pCmd->pData + pCmd->dataLen ) )
   3738            {
   3739              uint8 dataType;
   3740          
   3741              numAttr++;
   \                     ??zclParseInWriteCmd_1:
   \   000024   05..         INC       ?V7
   3742              pBuf += 2; // move pass attribute id
   3743          
   3744              dataType = *pBuf++;
   \   000026   85..82       MOV       DPL,?V0
   \   000029   85..83       MOV       DPH,?V1
   \   00002C   A3           INC       DPTR
   \   00002D   A3           INC       DPTR
   \   00002E   E0           MOVX      A,@DPTR
   \   00002F   F9           MOV       R1,A
   \   000030   E5..         MOV       A,?V0
   \   000032   2403         ADD       A,#0x3
   \   000034   F5..         MOV       ?V0,A
   \   000036   5002         JNC       ??zclParseInWriteCmd_2
   \   000038   05..         INC       ?V1
   3745          
   3746              attrDataLen = zclGetAttrDataLength( dataType, pBuf );
   \                     ??zclParseInWriteCmd_2:
   \   00003A                ; Setup parameters for call to function zclGetAttrDataLength
   \   00003A   FA           MOV       R2,A
   \   00003B   AB..         MOV       R3,?V1
   \   00003D   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   000040   8A..         MOV       ?V10,R2
   \   000042   8B..         MOV       ?V11,R3
   \   000044   AE..         MOV       R6,?V10
   \   000046   AF..         MOV       R7,?V11
   3747              pBuf += attrDataLen; // move pass attribute data
   \   000048   E5..         MOV       A,?V0
   \   00004A   2A           ADD       A,R2
   \   00004B   F5..         MOV       ?V0,A
   \   00004D   E5..         MOV       A,?V1
   \   00004F   3F           ADDC      A,R7
   \   000050   F5..         MOV       ?V1,A
   3748          
   3749              // add padding if needed
   3750              if ( PADDING_NEEDED( attrDataLen ) )
   \   000052   EE           MOV       A,R6
   \   000053   A2E0         MOV       C,0xE0 /* A   */.0
   \   000055   5005         JNC       ??zclParseInWriteCmd_3
   3751              {
   3752                attrDataLen++;
   \   000057   0E           INC       R6
   \   000058   04           INC       A
   \   000059   7001         JNZ       ??zclParseInWriteCmd_3
   \   00005B   0F           INC       R7
   3753              }
   3754          
   3755              dataLen += attrDataLen;
   \                     ??zclParseInWriteCmd_3:
   \   00005C   E5..         MOV       A,?V4
   \   00005E   2E           ADD       A,R6
   \   00005F   F5..         MOV       ?V4,A
   \   000061   E5..         MOV       A,?V5
   \   000063   3F           ADDC      A,R7
   \   000064   F5..         MOV       ?V5,A
   3756            }
   \                     ??zclParseInWriteCmd_0:
   \   000066   85..82       MOV       DPL,?V8
   \   000069   85..83       MOV       DPH,?V9
   \   00006C   A3           INC       DPTR
   \   00006D   12....       LCALL     ?Subroutine85 & 0xFFFF
   \                     ??CrossCallReturnLabel_146:
   \   000070   12....       LCALL     ??Subroutine213_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_412:
   \   000073   C3           CLR       C
   \   000074   E5..         MOV       A,?V0
   \   000076   98           SUBB      A,R0
   \   000077   E5..         MOV       A,?V1
   \   000079   99           SUBB      A,R1
   \   00007A   40A8         JC        ??zclParseInWriteCmd_1
   3757          
   3758            // calculate the length of the response header
   3759            hdrLen = sizeof( zclWriteCmd_t ) + ( numAttr * sizeof( zclWriteRec_t ) );
   \   00007C   75F005       MOV       B,#0x5
   \   00007F   E5..         MOV       A,?V7
   \   000081   A4           MUL       AB
   \   000082   04           INC       A
   \   000083   FE           MOV       R6,A
   3760          
   3761            writeCmd = (zclWriteCmd_t *)zcl_mem_alloc( hdrLen + dataLen );
   \   000084                ; Setup parameters for call to function osal_mem_alloc
   \   000084   25..         ADD       A,?V4
   \   000086   FA           MOV       R2,A
   \   000087   E4           CLR       A
   \   000088   35..         ADDC      A,?V5
   \   00008A   FB           MOV       R3,A
   \   00008B   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   00008E   8A..         MOV       ?V10,R2
   \   000090   8B..         MOV       ?V11,R3
   3762            if ( writeCmd != NULL )
   \   000092   EA           MOV       A,R2
   \   000093   45..         ORL       A,?V11
   \   000095   7003         JNZ       $+5
   \   000097   02....       LJMP      ??zclParseInWriteCmd_4 & 0xFFFF
   3763            {
   3764              uint8 i;
   3765              pBuf = pCmd->pData;
   \   00009A   85..82       MOV       DPL,?V2
   \   00009D   85..83       MOV       DPH,?V3
   \   0000A0   12....       LCALL     ??Subroutine227_0 & 0xFFFF
   3766              dataPtr = (uint8 *)( (uint8 *)writeCmd + hdrLen );
   \                     ??CrossCallReturnLabel_468:
   \   0000A3   EA           MOV       A,R2
   \   0000A4   2E           ADD       A,R6
   \   0000A5   F5..         MOV       ?V2,A
   \   0000A7   E4           CLR       A
   \   0000A8   3B           ADDC      A,R3
   \   0000A9   F5..         MOV       ?V3,A
   3767          
   3768              writeCmd->numAttr = numAttr;
   \   0000AB   8A82         MOV       DPL,R2
   \   0000AD   8B83         MOV       DPH,R3
   \   0000AF   E5..         MOV       A,?V7
   \   0000B1   F0           MOVX      @DPTR,A
   3769              for ( i = 0; i < numAttr; i++ )
   \   0000B2   75..00       MOV       ?V8,#0x0
   \   0000B5   02....       LJMP      ??zclParseInWriteCmd_5 & 0xFFFF
   3770              {
   3771                zclWriteRec_t *statusRec = &(writeCmd->attrList[i]);
   \                     ??zclParseInWriteCmd_6:
   \   0000B8   E5..         MOV       A,?V8
   \   0000BA   75F005       MOV       B,#0x5
   \   0000BD   12....       LCALL     ?Subroutine142 & 0xFFFF
   3772          
   3773                statusRec->attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??CrossCallReturnLabel_255:
   \   0000C0   85..82       MOV       DPL,?V0
   \   0000C3   85..83       MOV       DPH,?V1
   \   0000C6   12....       LCALL     ?Subroutine88 & 0xFFFF
   \                     ??CrossCallReturnLabel_152:
   \   0000C9   F0           MOVX      @DPTR,A
   \   0000CA   A3           INC       DPTR
   \   0000CB   E9           MOV       A,R1
   \   0000CC   12....       LCALL     ?Subroutine33 & 0xFFFF
   3774                pBuf += 2;
   3775                statusRec->dataType = *pBuf++;
   \                     ??CrossCallReturnLabel_38:
   \   0000CF   F9           MOV       R1,A
   \   0000D0   85..82       MOV       DPL,?V12
   \   0000D3   85..83       MOV       DPH,?V13
   \   0000D6   A3           INC       DPTR
   \   0000D7   A3           INC       DPTR
   \   0000D8   F0           MOVX      @DPTR,A
   \   0000D9   E5..         MOV       A,?V0
   \   0000DB   2403         ADD       A,#0x3
   \   0000DD   F5..         MOV       ?V0,A
   \   0000DF   5002         JNC       ??zclParseInWriteCmd_7
   \   0000E1   05..         INC       ?V1
   3776          
   3777                attrDataLen = zclGetAttrDataLength( statusRec->dataType, pBuf );
   \                     ??zclParseInWriteCmd_7:
   \   0000E3                ; Setup parameters for call to function zclGetAttrDataLength
   \   0000E3   FA           MOV       R2,A
   \   0000E4   AB..         MOV       R3,?V1
   \   0000E6   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   0000E9   8A..         MOV       ?V4,R2
   \   0000EB   8B..         MOV       ?V5,R3
   \   0000ED   AE..         MOV       R6,?V4
   \   0000EF   AF..         MOV       R7,?V5
   3778                zcl_memcpy( dataPtr, pBuf, attrDataLen);
   \   0000F1                ; Setup parameters for call to function osal_memcpy
   \   0000F1   85....       MOV       ?V4,?V0
   \   0000F4   85....       MOV       ?V5,?V1
   \   0000F7   75..00       MOV       ?V6,#0x0
   \   0000FA   78..         MOV       R0,#?V4
   \   0000FC   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   0000FF   EE           MOV       A,R6
   \   000100   FC           MOV       R4,A
   \   000101   EF           MOV       A,R7
   \   000102   FD           MOV       R5,A
   \   000103   AA..         MOV       R2,?V2
   \   000105   AB..         MOV       R3,?V3
   \   000107   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   00010A   7403         MOV       A,#0x3
   \   00010C   12....       LCALL     ?DEALLOC_XSTACK8
   3779                statusRec->attrData = dataPtr;
   \   00010F   85..82       MOV       DPL,?V12
   \   000112   85..83       MOV       DPH,?V13
   \   000115   A3           INC       DPTR
   \   000116   A3           INC       DPTR
   \   000117   A3           INC       DPTR
   \   000118   E5..         MOV       A,?V2
   \   00011A   F0           MOVX      @DPTR,A
   \   00011B   A3           INC       DPTR
   \   00011C   E5..         MOV       A,?V3
   \   00011E   F0           MOVX      @DPTR,A
   3780          
   3781                pBuf += attrDataLen; // move pass attribute data
   \   00011F   E5..         MOV       A,?V0
   \   000121   2E           ADD       A,R6
   \   000122   F5..         MOV       ?V0,A
   \   000124   E5..         MOV       A,?V1
   \   000126   3F           ADDC      A,R7
   \   000127   F5..         MOV       ?V1,A
   3782          
   3783                // advance attribute data pointer
   3784                if ( PADDING_NEEDED( attrDataLen ) )
   \   000129   EE           MOV       A,R6
   \   00012A   A2E0         MOV       C,0xE0 /* A   */.0
   \   00012C   5005         JNC       ??zclParseInWriteCmd_8
   3785                {
   3786                  attrDataLen++;
   \   00012E   0E           INC       R6
   \   00012F   04           INC       A
   \   000130   7001         JNZ       ??zclParseInWriteCmd_8
   \   000132   0F           INC       R7
   3787                }
   3788          
   3789                dataPtr += attrDataLen;
   \                     ??zclParseInWriteCmd_8:
   \   000133   E5..         MOV       A,?V2
   \   000135   2E           ADD       A,R6
   \   000136   F5..         MOV       ?V2,A
   \   000138   E5..         MOV       A,?V3
   \   00013A   3F           ADDC      A,R7
   \   00013B   F5..         MOV       ?V3,A
   3790              }
   \   00013D   05..         INC       ?V8
   \                     ??zclParseInWriteCmd_5:
   \   00013F   E5..         MOV       A,?V8
   \   000141   C3           CLR       C
   \   000142   95..         SUBB      A,?V7
   \   000144   5003         JNC       $+5
   \   000146   02....       LJMP      ??zclParseInWriteCmd_6 & 0xFFFF
   3791            }
   3792          
   3793            return ( (void *)writeCmd );
   \                     ??zclParseInWriteCmd_4:
   \   000149   02....       LJMP      ?Subroutine11 & 0xFFFF
   3794          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine72:
   \   000000   F583         MOV       DPH,A
   \   000002                REQUIRE ??Subroutine227_0
   \   000002                ; // Fall through to label ??Subroutine227_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine85:
   \   000000   12....       LCALL     ?Subroutine166 & 0xFFFF
   \                     ??CrossCallReturnLabel_472:
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine33:
   \   000000   12....       LCALL     ?Subroutine155 & 0xFFFF
   \                     ??CrossCallReturnLabel_278:
   \   000003   A3           INC       DPTR
   \   000004   A3           INC       DPTR
   \   000005   E0           MOVX      A,@DPTR
   \   000006   22           RET
   3795          
   3796          /*********************************************************************
   3797           * @fn      zclParseInWriteRspCmd
   3798           *
   3799           * @brief   Parse the "Profile" Write Response Commands
   3800           *
   3801           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   3802           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   3803           *
   3804           * @param   pCmd - pointer to incoming data to parse
   3805           *
   3806           * @return  pointer to the parsed command structure
   3807           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3808          static void *zclParseInWriteRspCmd( zclParseCmd_t *pCmd )
   \                     zclParseInWriteRspCmd:
   3809          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   3810            zclWriteRspCmd_t *writeRspCmd;
   3811            uint8 *pBuf = pCmd->pData;
   \   000005   EA           MOV       A,R2
   \   000006   2403         ADD       A,#0x3
   \   000008   F5..         MOV       ?V2,A
   \   00000A   E4           CLR       A
   \   00000B   3B           ADDC      A,R3
   \   00000C   F5..         MOV       ?V3,A
   \   00000E   85..82       MOV       DPL,?V2
   \   000011   12....       LCALL     ?Subroutine119 & 0xFFFF
   3812            uint8 i = 0;
   3813          
   3814            writeRspCmd = (zclWriteRspCmd_t *)zcl_mem_alloc( sizeof ( zclWriteRspCmd_t ) + pCmd->dataLen );
   \                     ??CrossCallReturnLabel_208:
   \   000014   12....       LCALL     ?Subroutine116 & 0xFFFF
   \                     ??CrossCallReturnLabel_205:
   \   000017   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   3815            if ( writeRspCmd != NULL )
   \   00001A   EA           MOV       A,R2
   \   00001B   4B           ORL       A,R3
   \   00001C   604D         JZ        ??zclParseInWriteRspCmd_0
   3816            {
   3817              if ( pCmd->dataLen == 1 )
   \   00001E   85..82       MOV       DPL,?V0
   \   000021   85..83       MOV       DPH,?V1
   \   000024   E0           MOVX      A,@DPTR
   \   000025   6401         XRL       A,#0x1
   \   000027   7002         JNZ       ??zclParseInWriteRspCmd_1
   \   000029   A3           INC       DPTR
   \   00002A   E0           MOVX      A,@DPTR
   \                     ??zclParseInWriteRspCmd_1:
   \   00002B   7029         JNZ       ??zclParseInWriteRspCmd_2
   3818              {
   3819                // special case when all writes were successfull
   3820                writeRspCmd->attrList[i++].status = *pBuf;
   \   00002D   12....       LCALL     ?Subroutine91 & 0xFFFF
   3821              }
   \                     ??CrossCallReturnLabel_389:
   \   000030   A3           INC       DPTR
   \   000031   F0           MOVX      @DPTR,A
   \   000032   75..01       MOV       ?V4,#0x1
   \   000035   802D         SJMP      ??zclParseInWriteRspCmd_3
   3822              else
   3823              {
   3824                while ( pBuf < ( pCmd->pData + pCmd->dataLen ) )
   3825                {
   3826                  writeRspCmd->attrList[i].status = *pBuf++;
   \                     ??zclParseInWriteRspCmd_4:
   \   000037   E5..         MOV       A,?V4
   \   000039   12....       LCALL     ?Subroutine20 & 0xFFFF
   3827                  writeRspCmd->attrList[i++].attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??CrossCallReturnLabel_474:
   \   00003C   F5..         MOV       ?V6,A
   \   00003E   A3           INC       DPTR
   \   00003F   E0           MOVX      A,@DPTR
   \   000040   FD           MOV       R5,A
   \   000041   E5..         MOV       A,?V6
   \   000043   8882         MOV       DPL,R0
   \   000045   8983         MOV       DPH,R1
   \   000047   A3           INC       DPTR
   \   000048   A3           INC       DPTR
   \   000049   F0           MOVX      @DPTR,A
   \   00004A   A3           INC       DPTR
   \   00004B   ED           MOV       A,R5
   \   00004C   F0           MOVX      @DPTR,A
   \   00004D   05..         INC       ?V4
   3828                  pBuf += 2;
   \   00004F   EE           MOV       A,R6
   \   000050   2402         ADD       A,#0x2
   \   000052   FE           MOV       R6,A
   \   000053   5001         JNC       ??zclParseInWriteRspCmd_2
   \   000055   0F           INC       R7
   3829                }
   \                     ??zclParseInWriteRspCmd_2:
   \   000056   85..82       MOV       DPL,?V0
   \   000059   85..83       MOV       DPH,?V1
   \   00005C   12....       LCALL     ?Subroutine86 & 0xFFFF
   3830              }
   \                     ??CrossCallReturnLabel_149:
   \   00005F   12....       LCALL     ?Subroutine66 & 0xFFFF
   \                     ??CrossCallReturnLabel_112:
   \   000062   40D3         JC        ??zclParseInWriteRspCmd_4
   3831          
   3832              writeRspCmd->numAttr = i;
   \                     ??zclParseInWriteRspCmd_3:
   \   000064   8A82         MOV       DPL,R2
   \   000066   8B83         MOV       DPH,R3
   \   000068   E5..         MOV       A,?V4
   \   00006A   F0           MOVX      @DPTR,A
   3833            }
   3834          
   3835            return ( (void *)writeRspCmd );
   \                     ??zclParseInWriteRspCmd_0:
   \   00006B   02....       LJMP      ??Subroutine219_0 & 0xFFFF
   3836          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   12....       LCALL     ?Subroutine189 & 0xFFFF
   \                     ??CrossCallReturnLabel_335:
   \   000003   12....       LCALL     ?Subroutine170 & 0xFFFF
   \                     ??CrossCallReturnLabel_299:
   \   000006                REQUIRE ??Subroutine229_0
   \   000006                ; // Fall through to label ??Subroutine229_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine229_0:
   \   000000   12....       LCALL     ?Subroutine151 & 0xFFFF
   \                     ??CrossCallReturnLabel_479:
   \   000003   E0           MOVX      A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine119:
   \   000000   F583         MOV       DPH,A
   \   000002   E0           MOVX      A,@DPTR
   \   000003   FE           MOV       R6,A
   \   000004   A3           INC       DPTR
   \   000005   E0           MOVX      A,@DPTR
   \   000006   FF           MOV       R7,A
   \   000007   75..00       MOV       ?V4,#0x0
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine189:
   \   000000   75F003       MOV       B,#0x3
   \   000003   A4           MUL       AB
   \   000004   F8           MOV       R0,A
   \   000005   A9F0         MOV       R1,B
   \   000007   EA           MOV       A,R2
   \   000008   28           ADD       A,R0
   \   000009   F8           MOV       R0,A
   \   00000A   EB           MOV       A,R3
   \   00000B   39           ADDC      A,R1
   \   00000C   F9           MOV       R1,A
   \   00000D   8E82         MOV       DPL,R6
   \   00000F   8F83         MOV       DPH,R7
   \   000011   22           RET
   3837          #endif // ZCL_WRITE
   3838          
   3839          #ifdef ZCL_REPORTING_DEVICE
   3840          /*********************************************************************
   3841           * @fn      zclParseInConfigReportCmd
   3842           *
   3843           * @brief   Parse the "Profile" Configure Reporting Command
   3844           *
   3845           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   3846           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   3847           *
   3848           * @param   pCmd - pointer to incoming data to parse
   3849           *
   3850           * @return  pointer to the parsed command structure
   3851           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002                REQUIRE ??Subroutine215_0
   \   000002                ; // Fall through to label ??Subroutine215_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   3852          void *zclParseInConfigReportCmd( zclParseCmd_t *pCmd )
   \                     zclParseInConfigReportCmd:
   3853          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000   74EA         MOV       A,#-0x16
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV       A,#-0x2
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   8A..         MOV       ?V2,R2
   \   00000C   8B..         MOV       ?V3,R3
   3854            zclCfgReportCmd_t *cfgReportCmd;
   3855            uint8 *pBuf = pCmd->pData;
   \   00000E   EA           MOV       A,R2
   \   00000F   2403         ADD       A,#0x3
   \   000011   F5..         MOV       ?V0,A
   \   000013   E4           CLR       A
   \   000014   35..         ADDC      A,?V3
   \   000016   F5..         MOV       ?V1,A
   \   000018   85..82       MOV       DPL,?V0
   \   00001B   12....       LCALL     ?Subroutine119 & 0xFFFF
   3856            uint8 *dataPtr;
   3857            uint8 numAttr = 0;
   3858            uint8 dataType;
   3859            uint8 hdrLen;
   3860            uint16 dataLen = 0;
   \                     ??CrossCallReturnLabel_209:
   \   00001E   75..00       MOV       ?V6,#0x0
   \   000021   75..00       MOV       ?V7,#0x0
   \   000024   8007         SJMP      ??zclParseInConfigReportCmd_0
   3861            uint8 reportChangeLen; // length of Reportable Change field
   3862          
   3863            // Calculate the length of the Request command
   3864            while ( pBuf < ( pCmd->pData + pCmd->dataLen ) )
   3865            {
   3866              uint8 direction;
   3867          
   3868              numAttr++;
   3869              direction = *pBuf++;
   3870              pBuf += 2; // move pass the attribute ID
   3871          
   3872              // Is there a Reportable Change field?
   3873              if ( direction == ZCL_SEND_ATTR_REPORTS )
   3874              {
   3875                dataType = *pBuf++;
   3876                pBuf += 4; // move pass the Min and Max Reporting Intervals
   3877          
   3878                // For attributes of 'discrete' data types this field is omitted
   3879                if ( zclAnalogDataType( dataType ) )
   3880                {
   3881                  reportChangeLen = zclGetDataTypeLength( dataType );
   3882                  pBuf += reportChangeLen;
   3883          
   3884                  // add padding if needed
   3885                  if ( PADDING_NEEDED( reportChangeLen ) )
   3886                  {
   3887                    reportChangeLen++;
   3888                  }
   3889          
   3890                  dataLen += reportChangeLen;
   3891                }
   3892                else
   3893                {
   3894                  pBuf++; // move past reportable change field
   3895                }
   3896              }
   3897              else
   3898              {
   3899                pBuf += 2; // move pass the Timeout Period
   \                     ??zclParseInConfigReportCmd_1:
   \   000026   EE           MOV       A,R6
   \   000027   2405         ADD       A,#0x5
   \   000029   FE           MOV       R6,A
   \   00002A   5001         JNC       ??zclParseInConfigReportCmd_0
   \   00002C   0F           INC       R7
   3900              }
   \                     ??zclParseInConfigReportCmd_0:
   \   00002D   85..82       MOV       DPL,?V2
   \   000030   85..83       MOV       DPH,?V3
   \   000033   A3           INC       DPTR
   \   000034   12....       LCALL     ?Subroutine93 & 0xFFFF
   \                     ??CrossCallReturnLabel_159:
   \   000037   12....       LCALL     ?Subroutine66 & 0xFFFF
   \                     ??CrossCallReturnLabel_113:
   \   00003A   5039         JNC       ??zclParseInConfigReportCmd_2
   \   00003C   05..         INC       ?V4
   \   00003E   8E82         MOV       DPL,R6
   \   000040   8F83         MOV       DPH,R7
   \   000042   E0           MOVX      A,@DPTR
   \   000043   70E1         JNZ       ??zclParseInConfigReportCmd_1
   \   000045   A3           INC       DPTR
   \   000046   A3           INC       DPTR
   \   000047   A3           INC       DPTR
   \   000048   E0           MOVX      A,@DPTR
   \   000049   F5..         MOV       ?V5,A
   \   00004B   EE           MOV       A,R6
   \   00004C   2408         ADD       A,#0x8
   \   00004E   FE           MOV       R6,A
   \   00004F   5001         JNC       ??zclParseInConfigReportCmd_3
   \   000051   0F           INC       R7
   \                     ??zclParseInConfigReportCmd_3:
   \   000052                ; Setup parameters for call to function zclAnalogDataType
   \   000052   A9..         MOV       R1,?V5
   \   000054   12....       LCALL     `??zclAnalogDataType::?relay`; Banked call to: zclAnalogDataType
   \   000057   E9           MOV       A,R1
   \   000058   6010         JZ        ??zclParseInConfigReportCmd_4
   \   00005A                ; Setup parameters for call to function zclGetDataTypeLength
   \   00005A   A9..         MOV       R1,?V5
   \   00005C   12....       LCALL     `??zclGetDataTypeLength::?relay`; Banked call to: zclGetDataTypeLength
   \   00005F   12....       LCALL     ?Subroutine147 & 0xFFFF
   \                     ??CrossCallReturnLabel_264:
   \   000062   5001         JNC       ??zclParseInConfigReportCmd_5
   \   000064   08           INC       R0
   \                     ??zclParseInConfigReportCmd_5:
   \   000065   12....       LCALL     ?Subroutine146 & 0xFFFF
   \                     ??CrossCallReturnLabel_262:
   \   000068   80C3         SJMP      ??zclParseInConfigReportCmd_0
   \                     ??zclParseInConfigReportCmd_4:
   \   00006A   8E82         MOV       DPL,R6
   \   00006C   8F83         MOV       DPH,R7
   \   00006E   A3           INC       DPTR
   \   00006F   AE82         MOV       R6,DPL
   \   000071   AF83         MOV       R7,DPH
   \   000073   80B8         SJMP      ??zclParseInConfigReportCmd_0
   3901            } // while loop
   3902          
   3903            hdrLen = sizeof( zclCfgReportCmd_t ) + ( numAttr * sizeof( zclCfgReportRec_t ) );
   \                     ??zclParseInConfigReportCmd_2:
   \   000075   75F00C       MOV       B,#0xc
   \   000078   E5..         MOV       A,?V4
   \   00007A   A4           MUL       AB
   \   00007B   04           INC       A
   \   00007C   F5..         MOV       ?V2,A
   3904          
   3905            cfgReportCmd = (zclCfgReportCmd_t *)zcl_mem_alloc( hdrLen + dataLen );
   \   00007E                ; Setup parameters for call to function osal_mem_alloc
   \   00007E   25..         ADD       A,?V6
   \   000080   FA           MOV       R2,A
   \   000081   E4           CLR       A
   \   000082   35..         ADDC      A,?V7
   \   000084   FB           MOV       R3,A
   \   000085   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000088   8A..         MOV       ?V8,R2
   \   00008A   8B..         MOV       ?V9,R3
   3906            if ( cfgReportCmd != NULL )
   \   00008C   EA           MOV       A,R2
   \   00008D   45..         ORL       A,?V9
   \   00008F   7003         JNZ       $+5
   \   000091   02....       LJMP      ??zclParseInConfigReportCmd_6 & 0xFFFF
   3907            {
   3908              uint8 i;
   3909              pBuf = pCmd->pData;
   \   000094   85..82       MOV       DPL,?V0
   \   000097   85..83       MOV       DPH,?V1
   \   00009A   12....       LCALL     ??Subroutine236_0 & 0xFFFF
   3910              dataPtr = (uint8 *)( (uint8 *)cfgReportCmd + hdrLen );
   \                     ??CrossCallReturnLabel_532:
   \   00009D   A8..         MOV       R0,?V2
   \   00009F   EA           MOV       A,R2
   \   0000A0   28           ADD       A,R0
   \   0000A1   F5..         MOV       ?V6,A
   \   0000A3   E4           CLR       A
   \   0000A4   3B           ADDC      A,R3
   \   0000A5   F5..         MOV       ?V7,A
   3911          
   3912              cfgReportCmd->numAttr = numAttr;
   \   0000A7   8A82         MOV       DPL,R2
   \   0000A9   8B83         MOV       DPH,R3
   \   0000AB   E5..         MOV       A,?V4
   \   0000AD   F0           MOVX      @DPTR,A
   3913              for ( i = 0; i < numAttr; i++ )
   \   0000AE   75..00       MOV       ?V5,#0x0
   \   0000B1   8018         SJMP      ??zclParseInConfigReportCmd_7
   3914              {
   3915                zclCfgReportRec_t *reportRec = &(cfgReportCmd->attrList[i]);
   3916          
   3917                zcl_memset( reportRec, 0, sizeof( zclCfgReportRec_t ) );
   3918          
   3919                reportRec->direction = *pBuf++;
   3920                reportRec->attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   3921                pBuf += 2;
   3922                if ( reportRec->direction == ZCL_SEND_ATTR_REPORTS )
   3923                {
   3924                  // Attribute to be reported
   3925                  reportRec->dataType = *pBuf++;
   3926                  reportRec->minReportInt = BUILD_UINT16( pBuf[0], pBuf[1] );
   3927                  pBuf += 2;
   3928                  reportRec->maxReportInt = BUILD_UINT16( pBuf[0], pBuf[1] );
   3929                  pBuf += 2;
   3930          
   3931                  // For attributes of 'discrete' data types this field is omitted
   3932                  if ( zclAnalogDataType( reportRec->dataType ) )
   3933                  {
   3934                    zcl_BuildAnalogData( reportRec->dataType, dataPtr, pBuf);
   3935                    reportRec->reportableChange = dataPtr;
   3936          
   3937                    reportChangeLen = zclGetDataTypeLength( reportRec->dataType );
   3938                    pBuf += reportChangeLen;
   3939          
   3940                    // advance attribute data pointer
   3941                    if ( PADDING_NEEDED( reportChangeLen ) )
   3942                    {
   3943                      reportChangeLen++;
   3944                    }
   3945          
   3946                    dataPtr += reportChangeLen;
   3947                  }
   3948                }
   3949                else
   3950                {
   3951                  // Attribute reports to be received
   3952                  reportRec->timeoutPeriod = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??zclParseInConfigReportCmd_8:
   \   0000B3   8882         MOV       DPL,R0
   \   0000B5   8983         MOV       DPH,R1
   \   0000B7   12....       LCALL     ?Subroutine101 & 0xFFFF
   \                     ??CrossCallReturnLabel_174:
   \   0000BA   A3           INC       DPTR
   \   0000BB   A3           INC       DPTR
   \   0000BC   A3           INC       DPTR
   \   0000BD   A3           INC       DPTR
   \   0000BE   A3           INC       DPTR
   \   0000BF   A3           INC       DPTR
   \   0000C0   A3           INC       DPTR
   \   0000C1   A3           INC       DPTR
   \   0000C2   12....       LCALL     ??Subroutine234_0 & 0xFFFF
   3953                  pBuf += 2;
   \                     ??CrossCallReturnLabel_510:
   \   0000C5   0E           INC       R6
   \   0000C6   0E           INC       R6
   \   0000C7   ED           MOV       A,R5
   \   0000C8   FF           MOV       R7,A
   3954                }
   \                     ??zclParseInConfigReportCmd_9:
   \   0000C9   05..         INC       ?V5
   \                     ??zclParseInConfigReportCmd_7:
   \   0000CB   E5..         MOV       A,?V5
   \   0000CD   C3           CLR       C
   \   0000CE   95..         SUBB      A,?V4
   \   0000D0   4003         JC        $+5
   \   0000D2   02....       LJMP      ??zclParseInConfigReportCmd_6 & 0xFFFF
   \   0000D5   E5..         MOV       A,?V5
   \   0000D7   75F00C       MOV       B,#0xc
   \   0000DA   12....       LCALL     ?Subroutine187 & 0xFFFF
   \                     ??CrossCallReturnLabel_332:
   \   0000DD   12....       LCALL     ?Subroutine143 & 0xFFFF
   \                     ??CrossCallReturnLabel_256:
   \   0000E0                ; Setup parameters for call to function osal_memset
   \   0000E0   7C0C         MOV       R4,#0xc
   \   0000E2   7D00         MOV       R5,#0x0
   \   0000E4   7900         MOV       R1,#0x0
   \   0000E6   AA..         MOV       R2,?V0
   \   0000E8   AB..         MOV       R3,?V1
   \   0000EA   12....       LCALL     `??osal_memset::?relay`; Banked call to: osal_memset
   \   0000ED   8E82         MOV       DPL,R6
   \   0000EF   8F83         MOV       DPH,R7
   \   0000F1   E0           MOVX      A,@DPTR
   \   0000F2   FB           MOV       R3,A
   \   0000F3   85..82       MOV       DPL,?V0
   \   0000F6   85..83       MOV       DPH,?V1
   \   0000F9   12....       LCALL     ??Subroutine229_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_476:
   \   0000FC   12....       LCALL     ?Subroutine102 & 0xFFFF
   \                     ??CrossCallReturnLabel_175:
   \   0000FF   12....       LCALL     ??Subroutine216_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_424:
   \   000102   5001         JNC       ??zclParseInConfigReportCmd_10
   \   000104   0F           INC       R7
   \                     ??zclParseInConfigReportCmd_10:
   \   000105   2402         ADD       A,#0x2
   \   000107   FC           MOV       R4,A
   \   000108   E4           CLR       A
   \   000109   3F           ADDC      A,R7
   \   00010A   FD           MOV       R5,A
   \   00010B   8E82         MOV       DPL,R6
   \   00010D   8F83         MOV       DPH,R7
   \   00010F   A3           INC       DPTR
   \   000110   A882         MOV       R0,DPL
   \   000112   A983         MOV       R1,DPH
   \   000114   8E82         MOV       DPL,R6
   \   000116   8F83         MOV       DPH,R7
   \   000118   E0           MOVX      A,@DPTR
   \   000119   FA           MOV       R2,A
   \   00011A   EB           MOV       A,R3
   \   00011B   7096         JNZ       ??zclParseInConfigReportCmd_8
   \   00011D   E5..         MOV       A,?V0
   \   00011F   2403         ADD       A,#0x3
   \   000121   F5..         MOV       ?V12,A
   \   000123   E4           CLR       A
   \   000124   35..         ADDC      A,?V1
   \   000126   F5..         MOV       ?V13,A
   \   000128   EA           MOV       A,R2
   \   000129   85..82       MOV       DPL,?V12
   \   00012C   85..83       MOV       DPH,?V13
   \   00012F   F0           MOVX      @DPTR,A
   \   000130   0E           INC       R6
   \   000131   E9           MOV       A,R1
   \   000132   FF           MOV       R7,A
   \   000133   8E82         MOV       DPL,R6
   \   000135   8F83         MOV       DPH,R7
   \   000137   E0           MOVX      A,@DPTR
   \   000138   F5..         MOV       ?V2,A
   \   00013A   8C82         MOV       DPL,R4
   \   00013C   8D83         MOV       DPH,R5
   \   00013E   E0           MOVX      A,@DPTR
   \   00013F   F9           MOV       R1,A
   \   000140   E5..         MOV       A,?V2
   \   000142   85..82       MOV       DPL,?V0
   \   000145   85..83       MOV       DPH,?V1
   \   000148   12....       LCALL     ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_421:
   \   00014B   5001         JNC       ??zclParseInConfigReportCmd_11
   \   00014D   0F           INC       R7
   \                     ??zclParseInConfigReportCmd_11:
   \   00014E   8E82         MOV       DPL,R6
   \   000150   8F83         MOV       DPH,R7
   \   000152   E0           MOVX      A,@DPTR
   \   000153   12....       LCALL     ?Subroutine102 & 0xFFFF
   \                     ??CrossCallReturnLabel_176:
   \   000156   A3           INC       DPTR
   \   000157   A3           INC       DPTR
   \   000158   12....       LCALL     ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_422:
   \   00015B   5001         JNC       ??zclParseInConfigReportCmd_12
   \   00015D   0F           INC       R7
   \                     ??zclParseInConfigReportCmd_12:
   \   00015E                ; Setup parameters for call to function zclAnalogDataType
   \   00015E   EA           MOV       A,R2
   \   00015F   F9           MOV       R1,A
   \   000160   12....       LCALL     `??zclAnalogDataType::?relay`; Banked call to: zclAnalogDataType
   \   000163   E9           MOV       A,R1
   \   000164   7003         JNZ       $+5
   \   000166   02....       LJMP      ??zclParseInConfigReportCmd_9 & 0xFFFF
   \   000169   8E..         MOV       ?V2,R6
   \   00016B   8F..         MOV       ?V3,R7
   \   00016D                ; Setup parameters for call to function zclGetAttrDataLength
   \   00016D   AA..         MOV       R2,?V6
   \   00016F   AB..         MOV       R3,?V7
   \   000171   85..82       MOV       DPL,?V12
   \   000174   85..83       MOV       DPH,?V13
   \   000177   E0           MOVX      A,@DPTR
   \   000178   F9           MOV       R1,A
   \   000179   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   00017C   8A..         MOV       ?V10,R2
   \   00017E   8B..         MOV       ?V11,R3
   \   000180   A8..         MOV       R0,?V10
   \   000182   A9..         MOV       R1,?V11
   \   000184   85..82       MOV       DPL,?XSP + 0
   \   000187   85..83       MOV       DPH,?XSP + 1
   \   00018A   7401         MOV       A,#0x1
   \   00018C   F0           MOVX      @DPTR,A
   \   00018D   A3           INC       DPTR
   \   00018E   E4           CLR       A
   \   00018F   F0           MOVX      @DPTR,A
   \   000190   85..82       MOV       DPL,?XSP + 0
   \   000193   85..83       MOV       DPH,?XSP + 1
   \   000196   E0           MOVX      A,@DPTR
   \   000197   600C         JZ        ??zclParseInConfigReportCmd_13
   \   000199   75..01       MOV       ?V10,#0x1
   \   00019C   75..00       MOV       ?V11,#0x0
   \   00019F   7A00         MOV       R2,#0x0
   \   0001A1   7B00         MOV       R3,#0x0
   \   0001A3   8036         SJMP      ??zclParseInConfigReportCmd_14
   \                     ??zclParseInConfigReportCmd_13:
   \   0001A5   75..FF       MOV       ?V10,#-0x1
   \   0001A8   75..FF       MOV       ?V11,#-0x1
   \   0001AB   E8           MOV       A,R0
   \   0001AC   24FF         ADD       A,#-0x1
   \   0001AE   1A           DEC       R2
   \   0001AF   E9           MOV       A,R1
   \   0001B0   34FF         ADDC      A,#-0x1
   \   0001B2   8026         SJMP      ??zclParseInConfigReportCmd_15
   \                     ??zclParseInConfigReportCmd_16:
   \   0001B4   85..82       MOV       DPL,?V2
   \   0001B7   85..83       MOV       DPH,?V3
   \   0001BA   E0           MOVX      A,@DPTR
   \   0001BB   C0E0         PUSH      A
   \   0001BD   E5..         MOV       A,?V6
   \   0001BF   2A           ADD       A,R2
   \   0001C0   F582         MOV       DPL,A
   \   0001C2   E5..         MOV       A,?V7
   \   0001C4   3B           ADDC      A,R3
   \   0001C5   F583         MOV       DPH,A
   \   0001C7   D0E0         POP       A
   \   0001C9   12....       LCALL     ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   0001CC   A3           INC       DPTR
   \   0001CD   8582..       MOV       ?V2,DPL
   \   0001D0   8583..       MOV       ?V3,DPH
   \   0001D3   EA           MOV       A,R2
   \   0001D4   25..         ADD       A,?V10
   \   0001D6   FA           MOV       R2,A
   \   0001D7   EB           MOV       A,R3
   \   0001D8   35..         ADDC      A,?V11
   \                     ??zclParseInConfigReportCmd_15:
   \   0001DA   FB           MOV       R3,A
   \                     ??zclParseInConfigReportCmd_14:
   \   0001DB   E8           MOV       A,R0
   \   0001DC   FC           MOV       R4,A
   \   0001DD   E9           MOV       A,R1
   \   0001DE   FD           MOV       R5,A
   \   0001DF   EC           MOV       A,R4
   \   0001E0   24FF         ADD       A,#-0x1
   \   0001E2   18           DEC       R0
   \   0001E3   ED           MOV       A,R5
   \   0001E4   34FF         ADDC      A,#-0x1
   \   0001E6   F9           MOV       R1,A
   \   0001E7   EC           MOV       A,R4
   \   0001E8   4D           ORL       A,R5
   \   0001E9   70C9         JNZ       ??zclParseInConfigReportCmd_16
   \   0001EB   85..82       MOV       DPL,?V0
   \   0001EE   85..83       MOV       DPH,?V1
   \   0001F1   A3           INC       DPTR
   \   0001F2   A3           INC       DPTR
   \   0001F3   A3           INC       DPTR
   \   0001F4   A3           INC       DPTR
   \   0001F5   A3           INC       DPTR
   \   0001F6   A3           INC       DPTR
   \   0001F7   A3           INC       DPTR
   \   0001F8   A3           INC       DPTR
   \   0001F9   A3           INC       DPTR
   \   0001FA   A3           INC       DPTR
   \   0001FB   E5..         MOV       A,?V6
   \   0001FD   F0           MOVX      @DPTR,A
   \   0001FE   A3           INC       DPTR
   \   0001FF   E5..         MOV       A,?V7
   \   000201   F0           MOVX      @DPTR,A
   \   000202                ; Setup parameters for call to function zclGetDataTypeLength
   \   000202   85..82       MOV       DPL,?V12
   \   000205   85..83       MOV       DPH,?V13
   \   000208   E0           MOVX      A,@DPTR
   \   000209   F9           MOV       R1,A
   \   00020A   12....       LCALL     `??zclGetDataTypeLength::?relay`; Banked call to: zclGetDataTypeLength
   \   00020D   12....       LCALL     ?Subroutine147 & 0xFFFF
   \                     ??CrossCallReturnLabel_265:
   \   000210   5001         JNC       ??zclParseInConfigReportCmd_17
   \   000212   08           INC       R0
   \                     ??zclParseInConfigReportCmd_17:
   \   000213   12....       LCALL     ?Subroutine146 & 0xFFFF
   3955              } // while loop
   3956            }
   \                     ??CrossCallReturnLabel_263:
   \   000216   02....       LJMP      ??zclParseInConfigReportCmd_9 & 0xFFFF
   3957          
   3958            return ( (void *)cfgReportCmd );
   \                     ??zclParseInConfigReportCmd_6:
   \   000219   AA..         MOV       R2,?V8
   \   00021B   AB..         MOV       R3,?V9
   \   00021D   02....       LJMP      ?Subroutine7 & 0xFFFF
   3959          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine147:
   \   000000   E9           MOV       A,R1
   \   000001   F8           MOV       R0,A
   \   000002   EE           MOV       A,R6
   \   000003   29           ADD       A,R1
   \   000004   FE           MOV       R6,A
   \   000005   E4           CLR       A
   \   000006   3F           ADDC      A,R7
   \   000007   FF           MOV       R7,A
   \   000008   E8           MOV       A,R0
   \   000009   A2E0         MOV       C,0xE0 /* A   */.0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine146:
   \   000000   E5..         MOV       A,?V6
   \   000002   28           ADD       A,R0
   \   000003   F5..         MOV       ?V6,A
   \   000005   E4           CLR       A
   \   000006   35..         ADDC      A,?V7
   \   000008   F5..         MOV       ?V7,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine102:
   \   000000   FC           MOV       R4,A
   \   000001   A3           INC       DPTR
   \   000002   E0           MOVX      A,@DPTR
   \   000003   F9           MOV       R1,A
   \   000004   EC           MOV       A,R4
   \   000005   85..82       MOV       DPL,?V0
   \   000008   85..83       MOV       DPH,?V1
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine143:
   \   000000   12....       LCALL     ?Subroutine201 & 0xFFFF
   \                     ??CrossCallReturnLabel_349:
   \   000003   8582..       MOV       ?V0,DPL
   \   000006   8583..       MOV       ?V1,DPH
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine93:
   \   000000   12....       LCALL     ?Subroutine175 & 0xFFFF
   \                     ??CrossCallReturnLabel_494:
   \   000003   85..82       MOV       DPL,?V0
   \   000006   85..83       MOV       DPH,?V1
   \   000009   22           RET
   3960          #endif
   3961          
   3962          #ifdef ZCL_REPORT_CONFIGURING_DEVICE
   3963          /*********************************************************************
   3964           * @fn      zclParseInConfigReportRspCmd
   3965           *
   3966           * @brief   Parse the "Profile" Configure Reporting Response Command
   3967           *
   3968           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   3969           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   3970           *
   3971           * @param   pCmd - pointer to incoming data to parse
   3972           *
   3973           * @return  pointer to the parsed command structure
   3974           */
   3975          static void *zclParseInConfigReportRspCmd( zclParseCmd_t *pCmd )
   3976          {
   3977            zclCfgReportRspCmd_t *cfgReportRspCmd;
   3978            uint8 *pBuf = pCmd->pData;
   3979            uint8 numAttr;
   3980          
   3981            numAttr = pCmd->dataLen / ( 1 + 1 + 2 ); // Status + Direction + Attribute ID
   3982          
   3983            cfgReportRspCmd = (zclCfgReportRspCmd_t *)zcl_mem_alloc( sizeof( zclCfgReportRspCmd_t )
   3984                                                      + ( numAttr * sizeof( zclCfgReportStatus_t ) ) );
   3985            if ( cfgReportRspCmd != NULL )
   3986            {
   3987              uint8 i;
   3988              cfgReportRspCmd->numAttr = numAttr;
   3989              for ( i = 0; i < cfgReportRspCmd->numAttr; i++ )
   3990              {
   3991                cfgReportRspCmd->attrList[i].status = *pBuf++;
   3992                cfgReportRspCmd->attrList[i].direction = *pBuf++;
   3993                cfgReportRspCmd->attrList[i].attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   3994                pBuf += 2;
   3995              }
   3996            }
   3997          
   3998            return ( (void *)cfgReportRspCmd );
   3999          }
   4000          #endif
   4001          
   4002          #ifdef ZCL_REPORTING_DEVICE
   4003          /*********************************************************************
   4004           * @fn      zclParseInReadReportCfgCmd
   4005           *
   4006           * @brief   Parse the "Profile" Read Reporting Configuration Command
   4007           *
   4008           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4009           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4010           *
   4011           * @param   pCmd - pointer to incoming data to parse
   4012           *
   4013           * @return  pointer to the parsed command structure
   4014           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4015          void *zclParseInReadReportCfgCmd( zclParseCmd_t *pCmd )
   \                     zclParseInReadReportCfgCmd:
   4016          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   4017            zclReadReportCfgCmd_t *readReportCfgCmd;
   4018            uint8 *pBuf = pCmd->pData;
   \   000005   12....       LCALL     ?Subroutine92 & 0xFFFF
   4019            uint8 numAttr;
   4020          
   4021            numAttr = pCmd->dataLen / ( 1 + 2 ); // Direction + Attribute ID
   \                     ??CrossCallReturnLabel_157:
   \   000008   F8           MOV       R0,A
   \   000009   A3           INC       DPTR
   \   00000A   E0           MOVX      A,@DPTR
   \   00000B   F9           MOV       R1,A
   \   00000C   7A03         MOV       R2,#0x3
   \   00000E   7B00         MOV       R3,#0x0
   \   000010   12....       LCALL     ?US_DIV_MOD
   \   000013   E8           MOV       A,R0
   \   000014   F5..         MOV       ?V0,A
   4022          
   4023            readReportCfgCmd = (zclReadReportCfgCmd_t *)zcl_mem_alloc( sizeof( zclReadReportCfgCmd_t )
   4024                                                            + ( numAttr * sizeof( zclReadReportCfgRec_t ) ) );
   \   000016                ; Setup parameters for call to function osal_mem_alloc
   \   000016   12....       LCALL     ?Subroutine190 & 0xFFFF
   \                     ??CrossCallReturnLabel_567:
   \   000019   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   4025            if ( readReportCfgCmd != NULL )
   \   00001C   EA           MOV       A,R2
   \   00001D   4B           ORL       A,R3
   \   00001E   6027         JZ        ??zclParseInReadReportCfgCmd_0
   4026            {
   4027              uint8 i;
   4028              readReportCfgCmd->numAttr = numAttr;
   \   000020   8A82         MOV       DPL,R2
   \   000022   8B83         MOV       DPH,R3
   \   000024   E5..         MOV       A,?V0
   \   000026   F0           MOVX      @DPTR,A
   4029              for ( i = 0; i < readReportCfgCmd->numAttr; i++)
   \   000027   75..00       MOV       ?V0,#0x0
   \   00002A   8012         SJMP      ??zclParseInReadReportCfgCmd_1
   4030              {
   4031                readReportCfgCmd->attrList[i].direction = *pBuf++;;
   \                     ??zclParseInReadReportCfgCmd_2:
   \   00002C   E5..         MOV       A,?V0
   \   00002E   12....       LCALL     ?Subroutine20 & 0xFFFF
   4032                readReportCfgCmd->attrList[i].attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??CrossCallReturnLabel_475:
   \   000031   12....       LCALL     ?Subroutine82 & 0xFFFF
   \                     ??CrossCallReturnLabel_140:
   \   000034   F0           MOVX      @DPTR,A
   4033                pBuf += 2;
   \   000035   EE           MOV       A,R6
   \   000036   2402         ADD       A,#0x2
   \   000038   FE           MOV       R6,A
   \   000039   5001         JNC       ??zclParseInReadReportCfgCmd_3
   \   00003B   0F           INC       R7
   4034              }
   \                     ??zclParseInReadReportCfgCmd_3:
   \   00003C   05..         INC       ?V0
   \                     ??zclParseInReadReportCfgCmd_1:
   \   00003E   8A82         MOV       DPL,R2
   \   000040   8B83         MOV       DPH,R3
   \   000042   12....       LCALL     ??Subroutine257_0 & 0xFFFF
   4035            }
   \                     ??CrossCallReturnLabel_640:
   \   000045   40E5         JC        ??zclParseInReadReportCfgCmd_2
   4036          
   4037            return ( (void *)readReportCfgCmd );
   \                     ??zclParseInReadReportCfgCmd_0:
   \   000047   02....       LJMP      ??Subroutine203_0 & 0xFFFF
   4038          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine82:
   \   000000   F5..         MOV       ?V2,A
   \   000002   A3           INC       DPTR
   \   000003   E0           MOVX      A,@DPTR
   \   000004   FD           MOV       R5,A
   \   000005   E5..         MOV       A,?V2
   \   000007   8882         MOV       DPL,R0
   \   000009   8983         MOV       DPH,R1
   \   00000B   A3           INC       DPTR
   \   00000C   A3           INC       DPTR
   \   00000D   F0           MOVX      @DPTR,A
   \   00000E   A3           INC       DPTR
   \   00000F   ED           MOV       A,R5
   \   000010   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine92:
   \   000000   12....       LCALL     ?Subroutine172 & 0xFFFF
   \                     ??CrossCallReturnLabel_305:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine172:
   \   000000   8A82         MOV       DPL,R2
   \   000002   8B83         MOV       DPH,R3
   \   000004   A3           INC       DPTR
   \   000005   A3           INC       DPTR
   \   000006   A3           INC       DPTR
   \   000007   E0           MOVX      A,@DPTR
   \   000008   FE           MOV       R6,A
   \   000009   A3           INC       DPTR
   \   00000A   E0           MOVX      A,@DPTR
   \   00000B   FF           MOV       R7,A
   \   00000C   8A82         MOV       DPL,R2
   \   00000E   8B83         MOV       DPH,R3
   \   000010   A3           INC       DPTR
   \   000011   E0           MOVX      A,@DPTR
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine190:
   \   000000   75F003       MOV       B,#0x3
   \   000003                REQUIRE ??Subroutine246_0
   \   000003                ; // Fall through to label ??Subroutine246_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine246_0:
   \   000000   A4           MUL       AB
   \   000001   A9F0         MOV       R1,B
   \   000003   2401         ADD       A,#0x1
   \   000005   FA           MOV       R2,A
   \   000006   E4           CLR       A
   \   000007   39           ADDC      A,R1
   \   000008   FB           MOV       R3,A
   \   000009   22           RET
   4039          #endif
   4040          
   4041          #ifdef ZCL_REPORT_CONFIGURING_DEVICE
   4042          /*********************************************************************
   4043           * @fn      zclParseInReadReportCfgRspCmd
   4044           *
   4045           * @brief   Parse the "Profile" Read Reporting Configuration Response Command
   4046           *
   4047           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4048           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4049           *
   4050           * @param   pCmd - pointer to incoming data to parse
   4051           *
   4052           * @return  pointer to the parsed command structure
   4053           */
   4054          static void *zclParseInReadReportCfgRspCmd( zclParseCmd_t *pCmd )
   4055          {
   4056            zclReadReportCfgRspCmd_t *readReportCfgRspCmd;
   4057            uint8 reportChangeLen;
   4058            uint8 *pBuf = pCmd->pData;
   4059            uint8 *dataPtr;
   4060            uint8 numAttr = 0;
   4061            uint8 hdrLen;
   4062            uint16 dataLen = 0;
   4063          
   4064            // Calculate the length of the response command
   4065            while ( pBuf < ( pCmd->pData + pCmd->dataLen ) )
   4066            {
   4067              uint8 status;
   4068              uint8 direction;
   4069          
   4070              numAttr++;
   4071              status = *pBuf++;
   4072              direction = *pBuf++;
   4073              pBuf += 2; // move pass the attribute ID
   4074          
   4075              if ( status == ZCL_STATUS_SUCCESS )
   4076              {
   4077                if ( direction == ZCL_SEND_ATTR_REPORTS )
   4078                {
   4079                  uint8 dataType = *pBuf++;
   4080                  pBuf += 4; // move pass the Min and Max Reporting Intervals
   4081          
   4082                  // For attributes of 'discrete' data types this field is omitted
   4083                  if ( zclAnalogDataType( dataType ) )
   4084                  {
   4085                    reportChangeLen = zclGetDataTypeLength( dataType );
   4086                    pBuf += reportChangeLen;
   4087          
   4088                    // add padding if needed
   4089                    if ( PADDING_NEEDED( reportChangeLen ) )
   4090                    {
   4091                      reportChangeLen++;
   4092                    }
   4093          
   4094                    dataLen += reportChangeLen;
   4095                  }
   4096                }
   4097                else
   4098                {
   4099                  pBuf += 2; // move pass the Timeout field
   4100                }
   4101              }
   4102            } // while loop
   4103          
   4104            hdrLen = sizeof( zclReadReportCfgRspCmd_t ) + ( numAttr * sizeof( zclReportCfgRspRec_t ) );
   4105          
   4106            readReportCfgRspCmd = (zclReadReportCfgRspCmd_t *)zcl_mem_alloc( hdrLen + dataLen );
   4107            if ( readReportCfgRspCmd != NULL )
   4108            {
   4109              uint8 i;
   4110              pBuf = pCmd->pData;
   4111              dataPtr = (uint8 *)( (uint8 *)readReportCfgRspCmd + hdrLen );
   4112          
   4113              readReportCfgRspCmd->numAttr = numAttr;
   4114              for ( i = 0; i < numAttr; i++ )
   4115              {
   4116                zclReportCfgRspRec_t *reportRspRec = &(readReportCfgRspCmd->attrList[i]);
   4117          
   4118                reportRspRec->status = *pBuf++;
   4119                reportRspRec->direction = *pBuf++;
   4120                reportRspRec->attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   4121                pBuf += 2;
   4122          
   4123                if ( reportRspRec->status == ZCL_STATUS_SUCCESS )
   4124                {
   4125                  if ( reportRspRec->direction == ZCL_SEND_ATTR_REPORTS )
   4126                  {
   4127                    reportRspRec->dataType = *pBuf++;
   4128                    reportRspRec->minReportInt = BUILD_UINT16( pBuf[0], pBuf[1] );
   4129                    pBuf += 2;
   4130                    reportRspRec->maxReportInt = BUILD_UINT16( pBuf[0], pBuf[1] );
   4131                    pBuf += 2;
   4132          
   4133                    if ( zclAnalogDataType( reportRspRec->dataType ) )
   4134                    {
   4135                      zcl_BuildAnalogData( reportRspRec->dataType, dataPtr, pBuf);
   4136                      reportRspRec->reportableChange = dataPtr;
   4137          
   4138                      reportChangeLen = zclGetDataTypeLength( reportRspRec->dataType );
   4139                      pBuf += reportChangeLen;
   4140          
   4141                      // advance attribute data pointer
   4142                      if ( PADDING_NEEDED( reportChangeLen ) )
   4143                      {
   4144                        reportChangeLen++;
   4145                      }
   4146          
   4147                      dataPtr += reportChangeLen;
   4148                    }
   4149                  }
   4150                  else
   4151                  {
   4152                    reportRspRec->timeoutPeriod = BUILD_UINT16( pBuf[0], pBuf[1] );
   4153                    pBuf += 2;
   4154                  }
   4155                }
   4156              }
   4157            }
   4158          
   4159            return ( (void *)readReportCfgRspCmd );
   4160          }
   4161          #endif
   4162          
   4163          #ifdef ZCL_REPORT_DESTINATION_DEVICE
   4164          /*********************************************************************
   4165           * @fn      zclParseInReportCmd
   4166           *
   4167           * @brief   Parse the "Profile" Report Command
   4168           *
   4169           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4170           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4171           *
   4172           * @param   pCmd - pointer to incoming data to parse
   4173           *
   4174           * @return  pointer to the parsed command structure
   4175           */
   4176          void *zclParseInReportCmd( zclParseCmd_t *pCmd )
   4177          {
   4178            zclReportCmd_t *reportCmd;
   4179            uint8 *pBuf = pCmd->pData;
   4180            uint16 attrDataLen;
   4181            uint8 *dataPtr;
   4182            uint8 numAttr = 0;
   4183            uint8 hdrLen;
   4184            uint16 dataLen = 0;
   4185          
   4186            // find out the number of attributes and the length of attribute data
   4187            while ( pBuf < ( pCmd->pData + pCmd->dataLen ) )
   4188            {
   4189              uint8 dataType;
   4190          
   4191              numAttr++;
   4192              pBuf += 2; // move pass attribute id
   4193          
   4194              dataType = *pBuf++;
   4195          
   4196              attrDataLen = zclGetAttrDataLength( dataType, pBuf );
   4197              pBuf += attrDataLen; // move pass attribute data
   4198          
   4199              // add padding if needed
   4200              if ( PADDING_NEEDED( attrDataLen ) )
   4201              {
   4202                attrDataLen++;
   4203              }
   4204          
   4205              dataLen += attrDataLen;
   4206            }
   4207          
   4208            hdrLen = sizeof( zclReportCmd_t ) + ( numAttr * sizeof( zclReport_t ) );
   4209          
   4210            reportCmd = (zclReportCmd_t *)zcl_mem_alloc( hdrLen + dataLen );
   4211            if (reportCmd != NULL )
   4212            {
   4213              uint8 i;
   4214              pBuf = pCmd->pData;
   4215              dataPtr = (uint8 *)( (uint8 *)reportCmd + hdrLen );
   4216          
   4217              reportCmd->numAttr = numAttr;
   4218              for ( i = 0; i < numAttr; i++ )
   4219              {
   4220                zclReport_t *reportRec = &(reportCmd->attrList[i]);
   4221          
   4222                reportRec->attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   4223                pBuf += 2;
   4224                reportRec->dataType = *pBuf++;
   4225          
   4226                attrDataLen = zclGetAttrDataLength( reportRec->dataType, pBuf );
   4227                zcl_memcpy( dataPtr, pBuf, attrDataLen );
   4228                reportRec->attrData = dataPtr;
   4229          
   4230                pBuf += attrDataLen; // move pass attribute data
   4231          
   4232                // advance attribute data pointer
   4233                if ( PADDING_NEEDED( attrDataLen ) )
   4234                {
   4235                  attrDataLen++;
   4236                }
   4237          
   4238                dataPtr += attrDataLen;
   4239              }
   4240            }
   4241          
   4242            return ( (void *)reportCmd );
   4243          }
   4244          #endif
   4245          
   4246          /*********************************************************************
   4247           * @fn      zclParseInDefaultRspCmd
   4248           *
   4249           * @brief   Parse the "Profile" Default Response Command
   4250           *
   4251           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4252           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4253           *
   4254           * @param   pCmd - pointer to incoming data to parse
   4255           *
   4256           * @return  pointer to the parsed command structure
   4257           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine167:
   \   000000   8E82         MOV       DPL,R6
   \   000002   8F83         MOV       DPH,R7
   \   000004                REQUIRE ??Subroutine224_0
   \   000004                ; // Fall through to label ??Subroutine224_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4258          static void *zclParseInDefaultRspCmd( zclParseCmd_t *pCmd )
   \                     zclParseInDefaultRspCmd:
   4259          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   4260            zclDefaultRspCmd_t *defaultRspCmd;
   4261            uint8 *pBuf = pCmd->pData;
   \   000005   12....       LCALL     ?Subroutine77 & 0xFFFF
   4262          
   4263            defaultRspCmd = (zclDefaultRspCmd_t *)zcl_mem_alloc( sizeof ( zclDefaultRspCmd_t ) );
   \                     ??CrossCallReturnLabel_132:
   \   000008   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   4264            if ( defaultRspCmd != NULL )
   \   00000B   EA           MOV       A,R2
   \   00000C   4B           ORL       A,R3
   \   00000D   6003         JZ        ??CrossCallReturnLabel_20
   4265            {
   4266              defaultRspCmd->commandID = *pBuf++;
   \   00000F   12....       LCALL     ?Subroutine26 & 0xFFFF
   4267              defaultRspCmd->statusCode = *pBuf;
   4268            }
   4269          
   4270            return ( (void *)defaultRspCmd );
   \                     ??CrossCallReturnLabel_20:
   \   000012   02....       LJMP      ?Subroutine2 & 0xFFFF
   4271          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine77:
   \   000000   12....       LCALL     ?Subroutine174 & 0xFFFF
   \                     ??CrossCallReturnLabel_307:
   \   000003                ; Setup parameters for call to function osal_mem_alloc
   \   000003                ; Setup parameters for call to function osal_mem_alloc
   \   000003   7A02         MOV       R2,#0x2
   \   000005   7B00         MOV       R3,#0x0
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   12....       LCALL     ?Subroutine167 & 0xFFFF
   \                     ??CrossCallReturnLabel_458:
   \   000003   12....       LCALL     ?Subroutine160 & 0xFFFF
   \                     ??CrossCallReturnLabel_288:
   \   000006   A3           INC       DPTR
   \   000007   12....       LCALL     ??Subroutine224_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_454:
   \   00000A   A3           INC       DPTR
   \   00000B   F0           MOVX      @DPTR,A
   \   00000C   22           RET
   4272          
   4273          #ifdef ZCL_DISCOVER
   4274          /*********************************************************************
   4275           * @fn      zclParseInDiscAttrsCmd
   4276           *
   4277           * @brief   Parse the "Profile" Discovery Attributes and Attributes Extended Commands
   4278           *
   4279           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4280           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4281           *
   4282           * @param   pCmd - pointer to incoming data to parse
   4283           *
   4284           * @return  pointer to the parsed command structure
   4285           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4286          void *zclParseInDiscAttrsCmd( zclParseCmd_t *pCmd )
   \                     zclParseInDiscAttrsCmd:
   4287          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   4288            zclDiscoverAttrsCmd_t *pDiscoverCmd;
   4289            uint8 *pBuf = pCmd->pData;
   \   000005   12....       LCALL     ?Subroutine104 & 0xFFFF
   4290          
   4291            pDiscoverCmd = (zclDiscoverAttrsCmd_t *)zcl_mem_alloc( sizeof ( zclDiscoverAttrsCmd_t ) );
   \                     ??CrossCallReturnLabel_180:
   \   000008                ; Setup parameters for call to function osal_mem_alloc
   \   000008   7A03         MOV       R2,#0x3
   \   00000A   7B00         MOV       R3,#0x0
   \   00000C   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   4292            if ( pDiscoverCmd != NULL )
   \   00000F   EA           MOV       A,R2
   \   000010   4B           ORL       A,R3
   \   000011   6017         JZ        ??zclParseInDiscAttrsCmd_0
   4293            {
   4294              pDiscoverCmd->startAttr = BUILD_UINT16( pBuf[0], pBuf[1] );
   \   000013   8E82         MOV       DPL,R6
   \   000015   8F83         MOV       DPH,R7
   \   000017   12....       LCALL     ?Subroutine179 & 0xFFFF
   4295              pBuf += 2;
   4296              pDiscoverCmd->maxAttrIDs = *pBuf;
   4297            }
   \                     ??CrossCallReturnLabel_315:
   \   00001A   F9           MOV       R1,A
   \   00001B   EC           MOV       A,R4
   \   00001C   8A82         MOV       DPL,R2
   \   00001E   8B83         MOV       DPH,R3
   \   000020   12....       LCALL     ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   000023   8A82         MOV       DPL,R2
   \   000025   8B83         MOV       DPH,R3
   \   000027   A3           INC       DPTR
   \   000028   A3           INC       DPTR
   \   000029   F0           MOVX      @DPTR,A
   4298          
   4299            return ( (void *)pDiscoverCmd );
   \                     ??zclParseInDiscAttrsCmd_0:
   \   00002A   02....       LJMP      ?Subroutine2 & 0xFFFF
   4300          }
   4301          
   4302          /*********************************************************************
   4303           * @fn      zclParseInDiscAttrsRspCmd
   4304           *
   4305           * @brief   Parse the "Profile" Discovery Response Commands
   4306           *
   4307           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4308           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4309           *
   4310           * @param   pCmd - pointer to incoming data to parse
   4311           *
   4312           * @return  pointer to the parsed command structure
   4313           */
   4314          #define ZCLDISCRSPCMD_DATALEN(a)  ((a)-1) // data len - Discovery Complete

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4315          static void *zclParseInDiscAttrsRspCmd( zclParseCmd_t *pCmd )
   \                     zclParseInDiscAttrsRspCmd:
   4316          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   4317            zclDiscoverAttrsRspCmd_t *pDiscoverRspCmd;
   4318            uint8 *pBuf = pCmd->pData;
   \   000005   12....       LCALL     ?Subroutine75 & 0xFFFF
   4319            uint8 numAttr = ZCLDISCRSPCMD_DATALEN(pCmd->dataLen) / ( 2 + 1 ); // Attr ID + Data Type
   \                     ??CrossCallReturnLabel_128:
   \   000008   F8           MOV       R0,A
   \   000009   A3           INC       DPTR
   \   00000A   E0           MOVX      A,@DPTR
   \   00000B   34FF         ADDC      A,#-0x1
   \   00000D   F9           MOV       R1,A
   \   00000E   7A03         MOV       R2,#0x3
   \   000010   7B00         MOV       R3,#0x0
   \   000012   12....       LCALL     ?US_DIV_MOD
   \   000015   E8           MOV       A,R0
   \   000016   F5..         MOV       ?V1,A
   4320          
   4321            pDiscoverRspCmd = (zclDiscoverAttrsRspCmd_t *)zcl_mem_alloc( sizeof ( zclDiscoverAttrsRspCmd_t ) +
   4322                              ( numAttr * sizeof(zclDiscoverAttrInfo_t) ) );
   \   000018                ; Setup parameters for call to function osal_mem_alloc
   \   000018   12....       LCALL     ?Subroutine133 & 0xFFFF
   \                     ??CrossCallReturnLabel_627:
   \   00001B   39           ADDC      A,R1
   \   00001C   FB           MOV       R3,A
   \   00001D   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   4323          
   4324            if ( pDiscoverRspCmd != NULL )
   \   000020   EA           MOV       A,R2
   \   000021   4B           ORL       A,R3
   \   000022   6027         JZ        ??zclParseInDiscAttrsRspCmd_0
   4325            {
   4326              uint8 i;
   4327          
   4328              pDiscoverRspCmd->discComplete = *pBuf++;
   \   000024   12....       LCALL     ?Subroutine17 & 0xFFFF
   4329              pDiscoverRspCmd->numAttr = numAttr;
   \                     ??CrossCallReturnLabel_6:
   \   000027   E5..         MOV       A,?V1
   \   000029   F0           MOVX      @DPTR,A
   4330          
   4331              for ( i = 0; i < numAttr; i++ )
   \   00002A   75..00       MOV       ?V0,#0x0
   \   00002D   8015         SJMP      ??zclParseInDiscAttrsRspCmd_1
   4332              {
   4333                pDiscoverRspCmd->attrList[i].attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??zclParseInDiscAttrsRspCmd_2:
   \   00002F   E5..         MOV       A,?V0
   \   000031   12....       LCALL     ?Subroutine189 & 0xFFFF
   4334                pBuf += 2;
   4335                pDiscoverRspCmd->attrList[i].dataType = *pBuf++;
   4336              }
   \                     ??CrossCallReturnLabel_334:
   \   000034   E0           MOVX      A,@DPTR
   \   000035   12....       LCALL     ?Subroutine82 & 0xFFFF
   \                     ??CrossCallReturnLabel_141:
   \   000038   12....       LCALL     ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   00003B   EE           MOV       A,R6
   \   00003C   2403         ADD       A,#0x3
   \   00003E   FE           MOV       R6,A
   \   00003F   5001         JNC       ??zclParseInDiscAttrsRspCmd_3
   \   000041   0F           INC       R7
   \                     ??zclParseInDiscAttrsRspCmd_3:
   \   000042   05..         INC       ?V0
   \                     ??zclParseInDiscAttrsRspCmd_1:
   \   000044   E5..         MOV       A,?V0
   \   000046   C3           CLR       C
   \   000047   95..         SUBB      A,?V1
   \   000049   40E4         JC        ??zclParseInDiscAttrsRspCmd_2
   4337            }
   4338          
   4339            return ( (void *)pDiscoverRspCmd );
   \                     ??zclParseInDiscAttrsRspCmd_0:
   \   00004B   02....       LJMP      ??Subroutine203_0 & 0xFFFF
   4340          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   12....       LCALL     ?Subroutine167 & 0xFFFF
   \                     ??CrossCallReturnLabel_457:
   \   000003   12....       LCALL     ?Subroutine151 & 0xFFFF
   \                     ??CrossCallReturnLabel_478:
   \   000006   8A82         MOV       DPL,R2
   \   000008   8B83         MOV       DPH,R3
   \   00000A   A3           INC       DPTR
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine75:
   \   000000   12....       LCALL     ?Subroutine172 & 0xFFFF
   \                     ??CrossCallReturnLabel_306:
   \   000003   24FF         ADD       A,#-0x1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   12....       LCALL     ?Subroutine159 & 0xFFFF
   \                     ??CrossCallReturnLabel_284:
   \   000003   8882         MOV       DPL,R0
   \   000005   8983         MOV       DPH,R1
   \   000007   A3           INC       DPTR
   \   000008   A3           INC       DPTR
   \   000009   A3           INC       DPTR
   \   00000A   A3           INC       DPTR
   \   00000B   F0           MOVX      @DPTR,A
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine133:
   \   000000   75F003       MOV       B,#0x3
   \   000003   A4           MUL       AB
   \   000004   A9F0         MOV       R1,B
   \   000006                REQUIRE ??Subroutine254_0
   \   000006                ; // Fall through to label ??Subroutine254_0
   4341          
   4342          /*********************************************************************
   4343           * @fn      zclParseInDiscCmdsCmd
   4344           *
   4345           * @brief   Parse the "Profile" Discovery Commands
   4346           *
   4347           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4348           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4349           *
   4350           * @param   pCmd - pointer to incoming data to parse
   4351           *
   4352           * @return  pointer to the parsed command structure
   4353           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4354          void *zclParseInDiscCmdsCmd( zclParseCmd_t *pCmd )
   \                     zclParseInDiscCmdsCmd:
   4355          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   4356            zclDiscoverCmdsCmd_t *pDiscoverCmd;
   4357            uint8 *pBuf = pCmd->pData;
   \   000005   12....       LCALL     ?Subroutine77 & 0xFFFF
   4358          
   4359            pDiscoverCmd = (zclDiscoverCmdsCmd_t *)zcl_mem_alloc( sizeof ( zclDiscoverCmdsCmd_t ) );
   \                     ??CrossCallReturnLabel_133:
   \   000008   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   4360            if ( pDiscoverCmd != NULL )
   \   00000B   EA           MOV       A,R2
   \   00000C   4B           ORL       A,R3
   \   00000D   6003         JZ        ??CrossCallReturnLabel_21
   4361            {
   4362              pDiscoverCmd->startCmdID = *pBuf++;
   \   00000F   12....       LCALL     ?Subroutine26 & 0xFFFF
   4363              pDiscoverCmd->maxCmdID = *pBuf++;
   4364            }
   4365          
   4366            return ( (void *)pDiscoverCmd );
   \                     ??CrossCallReturnLabel_21:
   \   000012   02....       LJMP      ?Subroutine2 & 0xFFFF
   4367          }
   4368          
   4369          /*********************************************************************
   4370           * @fn      zclParseInDiscCmdsRspCmd
   4371           *
   4372           * @brief   Parse the Discover Commands Response Command
   4373           *
   4374           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4375           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4376           *
   4377           * @param   pCmd - pointer to incoming data to parse
   4378           *
   4379           * @return  pointer to the parsed command structure
   4380           */
   4381          #define ZCLDISCRSPCMD_DATALEN(a)  ((a)-1) // data len - Discovery Complete

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4382          static void *zclParseInDiscCmdsRspCmd( zclParseCmd_t *pCmd )
   \                     zclParseInDiscCmdsRspCmd:
   4383          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000   74F4         MOV       A,#-0xc
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   4384            zclDiscoverCmdsCmdRsp_t *pDiscoverRspCmd;
   4385            uint8 *pBuf = pCmd->pData;
   \   000005   12....       LCALL     ?Subroutine92 & 0xFFFF
   4386            uint8 numCmds = ZCLDISCRSPCMD_DATALEN(pCmd->dataLen);  // length of command ID variable array
   \                     ??CrossCallReturnLabel_158:
   \   000008   14           DEC       A
   \   000009   F5..         MOV       ?V0,A
   4387          
   4388              // allocate memory for size of structure plus variable array
   4389            pDiscoverRspCmd = (zclDiscoverCmdsCmdRsp_t *)zcl_mem_alloc( sizeof ( zclDiscoverCmdsCmdRsp_t ) +
   4390                              ( numCmds * sizeof(uint8) ) );
   \   00000B                ; Setup parameters for call to function osal_mem_alloc
   \   00000B   2405         ADD       A,#0x5
   \   00000D   FA           MOV       R2,A
   \   00000E   E4           CLR       A
   \   00000F   3400         ADDC      A,#0x0
   \   000011   FB           MOV       R3,A
   \   000012   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   4391            if ( pDiscoverRspCmd != NULL )
   \   000015   EA           MOV       A,R2
   \   000016   4B           ORL       A,R3
   \   000017   6032         JZ        ??zclParseInDiscCmdsRspCmd_0
   4392            {
   4393              uint8 i;
   4394              pDiscoverRspCmd->discComplete = *pBuf++;
   \   000019   12....       LCALL     ?Subroutine17 & 0xFFFF
   4395              pDiscoverRspCmd->numCmd = numCmds;
   \                     ??CrossCallReturnLabel_7:
   \   00001C   A3           INC       DPTR
   \   00001D   E5..         MOV       A,?V0
   \   00001F   F0           MOVX      @DPTR,A
   4396          
   4397              for ( i = 0; i < numCmds; i++ )
   \   000020   7800         MOV       R0,#0x0
   \   000022   8021         SJMP      ??zclParseInDiscCmdsRspCmd_1
   4398              {
   4399                pDiscoverRspCmd->pCmdID[i] = *pBuf++;
   \                     ??zclParseInDiscCmdsRspCmd_2:
   \   000024   8E82         MOV       DPL,R6
   \   000026   8F83         MOV       DPH,R7
   \   000028   E0           MOVX      A,@DPTR
   \   000029   C0E0         PUSH      A
   \   00002B   E8           MOV       A,R0
   \   00002C   FC           MOV       R4,A
   \   00002D   8A82         MOV       DPL,R2
   \   00002F   8B83         MOV       DPH,R3
   \   000031   A3           INC       DPTR
   \   000032   A3           INC       DPTR
   \   000033   A3           INC       DPTR
   \   000034   E0           MOVX      A,@DPTR
   \   000035   2C           ADD       A,R4
   \   000036   F9           MOV       R1,A
   \   000037   A3           INC       DPTR
   \   000038   E0           MOVX      A,@DPTR
   \   000039   3400         ADDC      A,#0x0
   \   00003B   8982         MOV       DPL,R1
   \   00003D   F583         MOV       DPH,A
   \   00003F   D0E0         POP       A
   \   000041   12....       LCALL     ?Subroutine23 & 0xFFFF
   4400              }
   \                     ??CrossCallReturnLabel_17:
   \   000044   08           INC       R0
   \                     ??zclParseInDiscCmdsRspCmd_1:
   \   000045   E8           MOV       A,R0
   \   000046   C3           CLR       C
   \   000047   95..         SUBB      A,?V0
   \   000049   40D9         JC        ??zclParseInDiscCmdsRspCmd_2
   4401            }
   4402          
   4403            return ( (void *)pDiscoverRspCmd );
   \                     ??zclParseInDiscCmdsRspCmd_0:
   \   00004B   02....       LJMP      ??Subroutine203_0 & 0xFFFF
   4404          }
   4405          
   4406          /*********************************************************************
   4407           * @fn      zclParseInDiscAttrsExtRspCmd
   4408           *
   4409           * @brief   Parse the "Profile" Discovery Extended Attributes Response Commands
   4410           *
   4411           *      NOTE: THIS FUNCTION ALLOCATES THE RETURN BUFFER, SO THE CALLING
   4412           *            FUNCTION IS RESPONSIBLE TO FREE THE MEMORY.
   4413           *
   4414           * @param   pCmd - pointer to incoming data to parse
   4415           *
   4416           * @return  pointer to the parsed command structure
   4417           */
   4418          #define ZCLDISCRSPCMD_DATALEN(a)  ((a)-1) // data len - Discovery Complete

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4419          static void *zclParseInDiscAttrsExtRspCmd( zclParseCmd_t *pCmd )
   \                     zclParseInDiscAttrsExtRspCmd:
   4420          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000   74F2         MOV       A,#-0xe
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 14
   \   000005                ; Auto size: 0
   4421            zclDiscoverAttrsExtRsp_t *pDiscoverRspCmd;
   4422            uint8 i;
   4423            uint8 *pBuf = pCmd->pData;
   \   000005   12....       LCALL     ?Subroutine75 & 0xFFFF
   4424            uint8 numAttrs = ZCLDISCRSPCMD_DATALEN(pCmd->dataLen) / ( 2 + 1 + 1 ); // Attr ID + Data Type + Access Control
   \                     ??CrossCallReturnLabel_129:
   \   000008   F5..         MOV       ?V0,A
   \   00000A   A3           INC       DPTR
   \   00000B   E0           MOVX      A,@DPTR
   \   00000C   34FF         ADDC      A,#-0x1
   \   00000E   F5..         MOV       ?V1,A
   \   000010   7402         MOV       A,#0x2
   \   000012   78..         MOV       R0,#?V0
   \   000014   12....       LCALL     ?US_SHR
   \   000017   E5..         MOV       A,?V0
   \   000019   F5..         MOV       ?V0,A
   4425          
   4426            pDiscoverRspCmd = (zclDiscoverAttrsExtRsp_t *)zcl_mem_alloc( sizeof ( zclDiscoverAttrsExtRsp_t ) +
   4427                              ( numAttrs * sizeof(zclExtAttrInfo_t) ) );
   \   00001B                ; Setup parameters for call to function osal_mem_alloc
   \   00001B   F5..         MOV       ?V2,A
   \   00001D   75..00       MOV       ?V3,#0x0
   \   000020   7402         MOV       A,#0x2
   \   000022   78..         MOV       R0,#?V2
   \   000024   12....       LCALL     ?S_SHL
   \   000027   E5..         MOV       A,?V2
   \   000029   12....       LCALL     ??Subroutine254_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_625:
   \   00002C   35..         ADDC      A,?V3
   \   00002E   FB           MOV       R3,A
   \   00002F   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   4428          
   4429            if ( pDiscoverRspCmd != NULL )
   \   000032   EA           MOV       A,R2
   \   000033   4B           ORL       A,R3
   \   000034   6053         JZ        ??zclParseInDiscAttrsExtRspCmd_0
   4430            {
   4431              pDiscoverRspCmd->discComplete = *pBuf++;
   \   000036   12....       LCALL     ?Subroutine17 & 0xFFFF
   4432              pDiscoverRspCmd->numAttr = numAttrs;
   \                     ??CrossCallReturnLabel_8:
   \   000039   E5..         MOV       A,?V0
   \   00003B   F0           MOVX      @DPTR,A
   4433          
   4434              for ( i = 0; i < numAttrs; i++ )
   \   00003C   7C00         MOV       R4,#0x0
   \   00003E   8043         SJMP      ??zclParseInDiscAttrsExtRspCmd_1
   4435              {
   4436                pDiscoverRspCmd->aExtAttrInfo[i].attrID = BUILD_UINT16( pBuf[0], pBuf[1] );
   \                     ??zclParseInDiscAttrsExtRspCmd_2:
   \   000040   EC           MOV       A,R4
   \   000041   F5..         MOV       ?V2,A
   \   000043   75..00       MOV       ?V3,#0x0
   \   000046   7402         MOV       A,#0x2
   \   000048   78..         MOV       R0,#?V2
   \   00004A   12....       LCALL     ?S_SHL
   \   00004D   EA           MOV       A,R2
   \   00004E   25..         ADD       A,?V2
   \   000050   F8           MOV       R0,A
   \   000051   EB           MOV       A,R3
   \   000052   35..         ADDC      A,?V3
   \   000054   F9           MOV       R1,A
   \   000055   8E82         MOV       DPL,R6
   \   000057   8F83         MOV       DPH,R7
   \   000059   E0           MOVX      A,@DPTR
   \   00005A   F5..         MOV       ?V4,A
   \   00005C   A3           INC       DPTR
   \   00005D   E0           MOVX      A,@DPTR
   \   00005E   F5..         MOV       ?V3,A
   \   000060   E5..         MOV       A,?V4
   \   000062   8882         MOV       DPL,R0
   \   000064   8983         MOV       DPH,R1
   \   000066   A3           INC       DPTR
   \   000067   A3           INC       DPTR
   \   000068   F0           MOVX      @DPTR,A
   \   000069   A3           INC       DPTR
   \   00006A   E5..         MOV       A,?V3
   \   00006C   12....       LCALL     ?Subroutine22 & 0xFFFF
   4437                pBuf += 2;
   4438                pDiscoverRspCmd->aExtAttrInfo[i].attrDataType = *pBuf++;
   4439                pDiscoverRspCmd->aExtAttrInfo[i].attrAccessControl = *pBuf++;
   \                     ??CrossCallReturnLabel_14:
   \   00006F   8E82         MOV       DPL,R6
   \   000071   8F83         MOV       DPH,R7
   \   000073   A3           INC       DPTR
   \   000074   A3           INC       DPTR
   \   000075   A3           INC       DPTR
   \   000076   12....       LCALL     ?Subroutine111 & 0xFFFF
   4440              }
   \                     ??CrossCallReturnLabel_192:
   \   000079   A3           INC       DPTR
   \   00007A   F0           MOVX      @DPTR,A
   \   00007B   EE           MOV       A,R6
   \   00007C   2404         ADD       A,#0x4
   \   00007E   FE           MOV       R6,A
   \   00007F   5001         JNC       ??zclParseInDiscAttrsExtRspCmd_3
   \   000081   0F           INC       R7
   \                     ??zclParseInDiscAttrsExtRspCmd_3:
   \   000082   0C           INC       R4
   \                     ??zclParseInDiscAttrsExtRspCmd_1:
   \   000083   EC           MOV       A,R4
   \   000084   C3           CLR       C
   \   000085   95..         SUBB      A,?V0
   \   000087   40B7         JC        ??zclParseInDiscAttrsExtRspCmd_2
   4441            }
   4442          
   4443            return ( (void *)pDiscoverRspCmd );
   \                     ??zclParseInDiscAttrsExtRspCmd_0:
   \   000089   02....       LJMP      ?Subroutine3 & 0xFFFF
   4444          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine111:
   \   000000   12....       LCALL     ?Subroutine170 & 0xFFFF
   \                     ??CrossCallReturnLabel_301:
   \   000003   A3           INC       DPTR
   \   000004   A3           INC       DPTR
   \   000005   A3           INC       DPTR
   \   000006   22           RET
   4445          #endif // ZCL_DISCOVER
   4446          
   4447          #ifdef ZCL_READ
   4448          /*********************************************************************
   4449           * @fn      zclProcessInReadCmd
   4450           *
   4451           * @brief   Process the "Profile" Read Command
   4452           *
   4453           * @param   pInMsg - incoming message to process
   4454           *
   4455           * @return  TRUE if command processed. FALSE, otherwise.
   4456           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine54:
   \   000000   8E82         MOV       DPL,R6
   \   000002   8F83         MOV       DPH,R7
   \   000004                REQUIRE ??Subroutine209_0
   \   000004                ; // Fall through to label ??Subroutine209_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine209_0:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003   A3           INC       DPTR
   \   000004   A3           INC       DPTR
   \   000005   A3           INC       DPTR
   \   000006                REQUIRE ??Subroutine210_0
   \   000006                ; // Fall through to label ??Subroutine210_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4457          static uint8 zclProcessInReadCmd( zclIncoming_t *pInMsg )
   \                     zclProcessInReadCmd:
   4458          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000                REQUIRE ?V14
   \   000000                REQUIRE ?V15
   \   000000   74E8         MOV       A,#-0x18
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV       A,#-0x8
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   12....       LCALL     ?Subroutine140 & 0xFFFF
   4459            zclReadCmd_t *readCmd;
   4460            zclReadRspCmd_t *readRspCmd;
   4461            zclAttrRec_t attrRec;
   4462            uint16 len;
   4463            uint8 i;
   4464            uint8 attrFound;
   4465          
   4466            readCmd = (zclReadCmd_t *)pInMsg->attrCmd;
   \                     ??CrossCallReturnLabel_250:
   \   00000D   E0           MOVX      A,@DPTR
   \   00000E   F5..         MOV       ?V10,A
   \   000010   A3           INC       DPTR
   \   000011   E0           MOVX      A,@DPTR
   \   000012   F5..         MOV       ?V11,A
   4467          
   4468            // calculate the length of the response status record
   4469            len = sizeof( zclReadRspCmd_t ) + (readCmd->numAttr * sizeof( zclReadRspStatus_t ));
   4470          
   4471            readRspCmd = zcl_mem_alloc( len );
   \   000014                ; Setup parameters for call to function osal_mem_alloc
   \   000014   85..82       MOV       DPL,?V10
   \   000017   F583         MOV       DPH,A
   \   000019   E0           MOVX      A,@DPTR
   \   00001A   75F006       MOV       B,#0x6
   \   00001D   12....       LCALL     ??Subroutine246_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_566:
   \   000020   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000023   8A..         MOV       ?V0,R2
   \   000025   8B..         MOV       ?V1,R3
   4472            if ( readRspCmd == NULL )
   \   000027   EA           MOV       A,R2
   \   000028   45..         ORL       A,?V1
   \   00002A   7005         JNZ       ??zclProcessInReadCmd_0
   4473            {
   4474              return FALSE; // EMBEDDED RETURN
   \   00002C   7900         MOV       R1,#0x0
   \   00002E   02....       LJMP      ??zclProcessInReadCmd_1 & 0xFFFF
   4475            }
   4476          
   4477            readRspCmd->numAttr = readCmd->numAttr;
   \                     ??zclProcessInReadCmd_0:
   \   000031   85..82       MOV       DPL,?V10
   \   000034   85..83       MOV       DPH,?V11
   \   000037   12....       LCALL     ?Subroutine90 & 0xFFFF
   4478            for ( i = 0; i < readCmd->numAttr; i++ )
   \                     ??CrossCallReturnLabel_156:
   \   00003A   75..00       MOV       ?V2,#0x0
   \   00003D   EE           MOV       A,R6
   \   00003E   2402         ADD       A,#0x2
   \   000040   F5..         MOV       ?V14,A
   \   000042   E4           CLR       A
   \   000043   3F           ADDC      A,R7
   \   000044   F5..         MOV       ?V15,A
   \   000046   800B         SJMP      ??zclProcessInReadCmd_2
   4479            {
   4480              zclReadRspStatus_t *statusRec = &(readRspCmd->attrList[i]);
   4481          
   4482              statusRec->attrID = readCmd->attrID[i];
   4483              
   4484              attrFound = zclFindAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, readCmd->attrID[i], &attrRec );
   4485              
   4486              //Validate the attribute is found and the access control
   4487              if ( ( attrFound == TRUE ) && 
   4488                   (  (attrRec.attr.accessControl & ACCESS_GLOBAL) || 
   4489                      (GET_BIT( &attrRec.attr.accessControl, ACCESS_CONTROL_MASK ) == pInMsg->hdr.fc.direction ) ) )
   4490              {
   4491                if ( zcl_AccessCtrlRead( attrRec.attr.accessControl ) )
   4492                {
   4493                  statusRec->status = zclAuthorizeRead( pInMsg->msg->endPoint,
   4494                                                        &(pInMsg->msg->srcAddr), &attrRec );
   4495                  if ( statusRec->status == ZCL_STATUS_SUCCESS )
   4496                  {
   4497                    statusRec->data = attrRec.attr.dataPtr;
   4498                    statusRec->dataType = attrRec.attr.dataType;
   4499                  }
   4500                }
   4501                else
   4502                {
   4503                  statusRec->status = ZCL_STATUS_WRITE_ONLY;
   4504                }
   4505              }
   4506              else
   4507              {
   4508                statusRec->status = ZCL_STATUS_UNSUPPORTED_ATTRIBUTE;
   \                     ??zclProcessInReadCmd_3:
   \   000048   85..82       MOV       DPL,?V6
   \   00004B   85..83       MOV       DPH,?V7
   \   00004E   7486         MOV       A,#-0x7a
   \                     ??zclProcessInReadCmd_4:
   \   000050   F0           MOVX      @DPTR,A
   4509              }
   \                     ??zclProcessInReadCmd_5:
   \   000051   05..         INC       ?V2
   \                     ??zclProcessInReadCmd_2:
   \   000053   85..82       MOV       DPL,?V10
   \   000056   85..83       MOV       DPH,?V11
   \   000059   12....       LCALL     ??Subroutine232_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_507:
   \   00005C   4003         JC        $+5
   \   00005E   02....       LJMP      ??zclProcessInReadCmd_6 & 0xFFFF
   \   000061   A8..         MOV       R0,?V2
   \   000063   E8           MOV       A,R0
   \   000064   75F006       MOV       B,#0x6
   \   000067   A4           MUL       AB
   \   000068   FA           MOV       R2,A
   \   000069   ABF0         MOV       R3,B
   \   00006B   E5..         MOV       A,?V0
   \   00006D   2A           ADD       A,R2
   \   00006E   F582         MOV       DPL,A
   \   000070   E5..         MOV       A,?V1
   \   000072   3B           ADDC      A,R3
   \   000073   F583         MOV       DPH,A
   \   000075   A3           INC       DPTR
   \   000076   8582..       MOV       ?V4,DPL
   \   000079   8583..       MOV       ?V5,DPH
   \   00007C   E8           MOV       A,R0
   \   00007D   28           ADD       A,R0
   \   00007E   F8           MOV       R0,A
   \   00007F   E4           CLR       A
   \   000080   33           RLC       A
   \   000081   F9           MOV       R1,A
   \   000082   E5..         MOV       A,?V10
   \   000084   28           ADD       A,R0
   \   000085   F582         MOV       DPL,A
   \   000087   E5..         MOV       A,?V11
   \   000089   12....       LCALL     ?Subroutine145 & 0xFFFF
   \                     ??CrossCallReturnLabel_261:
   \   00008C   12....       LCALL     ?Subroutine69 & 0xFFFF
   \                     ??CrossCallReturnLabel_119:
   \   00008F   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_516:
   \   000092   E5..         MOV       A,?V4
   \   000094   2402         ADD       A,#0x2
   \   000096   F5..         MOV       ?V6,A
   \   000098   E4           CLR       A
   \   000099   35..         ADDC      A,?V5
   \   00009B   F5..         MOV       ?V7,A
   \   00009D   12....       LCALL     ?Subroutine123 & 0xFFFF
   \                     ??CrossCallReturnLabel_528:
   \   0000A0                ; Setup parameters for call to function zclFindAttrRec
   \   0000A0   A8..         MOV       R0,?XSP + 0
   \   0000A2   A9..         MOV       R1,?XSP + 1
   \   0000A4   88..         MOV       ?V12,R0
   \   0000A6   89..         MOV       ?V13,R1
   \   0000A8   78..         MOV       R0,#?V12
   \   0000AA   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000AD   8A82         MOV       DPL,R2
   \   0000AF   8B83         MOV       DPH,R3
   \   0000B1   12....       LCALL     ??Subroutine226_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_461:
   \   0000B4   85..82       MOV       DPL,?V8
   \   0000B7   85..83       MOV       DPH,?V9
   \   0000BA   12....       LCALL     ??Subroutine237_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_555:
   \   0000BD   12....       LCALL     ?Subroutine137 & 0xFFFF
   \                     ??CrossCallReturnLabel_241:
   \   0000C0   12....       LCALL     `??zclFindAttrRec::?relay`; Banked call to: zclFindAttrRec
   \   0000C3   7402         MOV       A,#0x2
   \   0000C5   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000C8   E9           MOV       A,R1
   \   0000C9   6401         XRL       A,#0x1
   \   0000CB   6003         JZ        $+5
   \   0000CD   02....       LJMP      ??zclProcessInReadCmd_3 & 0xFFFF
   \   0000D0   7405         MOV       A,#0x5
   \   0000D2   12....       LCALL     ?XSTACK_DISP0_8
   \   0000D5   E0           MOVX      A,@DPTR
   \   0000D6   A2E6         MOV       C,0xE0 /* A   */.6
   \   0000D8   401A         JC        ??zclProcessInReadCmd_7
   \   0000DA   85..82       MOV       DPL,?V14
   \   0000DD   85..83       MOV       DPH,?V15
   \   0000E0   12....       LCALL     ?Subroutine100 & 0xFFFF
   \                     ??CrossCallReturnLabel_171:
   \   0000E3   7405         MOV       A,#0x5
   \   0000E5   12....       LCALL     ?XSTACK_DISP0_8
   \   0000E8   E0           MOVX      A,@DPTR
   \   0000E9   A2E7         MOV       C,0xE0 /* A   */.7
   \   0000EB   20F001       JB        B.0,??zclProcessInReadCmd_8
   \   0000EE   B3           CPL       C
   \                     ??zclProcessInReadCmd_8:
   \   0000EF   4003         JC        $+5
   \   0000F1   02....       LJMP      ??zclProcessInReadCmd_3 & 0xFFFF
   \                     ??zclProcessInReadCmd_7:
   \   0000F4   A2E0         MOV       C,0xE0 /* A   */.0
   \   0000F6   5069         JNC       ??zclProcessInReadCmd_9
   \   0000F8   8E82         MOV       DPL,R6
   \   0000FA   8F83         MOV       DPH,R7
   \   0000FC   12....       LCALL     ??Subroutine230_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_484:
   \   0000FF   E8           MOV       A,R0
   \   000100   2406         ADD       A,#0x6
   \   000102   F5..         MOV       ?V8,A
   \   000104   E4           CLR       A
   \   000105   39           ADDC      A,R1
   \   000106   F5..         MOV       ?V9,A
   \   000108   7405         MOV       A,#0x5
   \   00010A   12....       LCALL     ?XSTACK_DISP0_8
   \   00010D   E0           MOVX      A,@DPTR
   \   00010E   A2E4         MOV       C,0xE0 /* A   */.4
   \   000110   5020         JNC       ??zclProcessInReadCmd_10
   \   000112                ; Setup parameters for call to function zclGetAuthorizeCB
   \   000112   12....       LCALL     ?Subroutine136 & 0xFFFF
   \                     ??CrossCallReturnLabel_238:
   \   000115   12....       LCALL     `??zclGetAuthorizeCB::?relay`; Banked call to: zclGetAuthorizeCB
   \   000118   8A82         MOV       DPL,R2
   \   00011A   8B83         MOV       DPH,R3
   \   00011C   E582         MOV       A,DPL
   \   00011E   4583         ORL       A,DPH
   \   000120   6010         JZ        ??zclProcessInReadCmd_10
   \   000122                ; Setup parameters for indirect call
   \   000122   7901         MOV       R1,#0x1
   \   000124   AC..         MOV       R4,?XSP + 0
   \   000126   AD..         MOV       R5,?XSP + 1
   \   000128   AA..         MOV       R2,?V8
   \   00012A   AB..         MOV       R3,?V9
   \   00012C   12....       LCALL     ?CALL_IND
   \   00012F   E9           MOV       A,R1
   \   000130   8002         SJMP      ??zclProcessInReadCmd_11
   \                     ??zclProcessInReadCmd_10:
   \   000132   7400         MOV       A,#0x0
   4510            }
   \                     ??zclProcessInReadCmd_11:
   \   000134   85..82       MOV       DPL,?V6
   \   000137   85..83       MOV       DPH,?V7
   \   00013A   F0           MOVX      @DPTR,A
   \   00013B   6003         JZ        $+5
   \   00013D   02....       LJMP      ??zclProcessInReadCmd_5 & 0xFFFF
   \   000140   7406         MOV       A,#0x6
   \   000142   12....       LCALL     ?XSTACK_DISP0_8
   \   000145   12....       LCALL     ?Subroutine69 & 0xFFFF
   \                     ??CrossCallReturnLabel_120:
   \   000148   A3           INC       DPTR
   \   000149   A3           INC       DPTR
   \   00014A   A3           INC       DPTR
   \   00014B   A3           INC       DPTR
   \   00014C   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_517:
   \   00014F   7404         MOV       A,#0x4
   \   000151   12....       LCALL     ?XSTACK_DISP0_8
   \   000154   E0           MOVX      A,@DPTR
   \   000155   85..82       MOV       DPL,?V4
   \   000158   85..83       MOV       DPH,?V5
   \   00015B   A3           INC       DPTR
   \   00015C   A3           INC       DPTR
   \   00015D   A3           INC       DPTR
   \   00015E   02....       LJMP      ??zclProcessInReadCmd_4 & 0xFFFF
   \                     ??zclProcessInReadCmd_9:
   \   000161   85..82       MOV       DPL,?V6
   \   000164   85..83       MOV       DPH,?V7
   \   000167   748F         MOV       A,#-0x71
   \   000169   02....       LJMP      ??zclProcessInReadCmd_4 & 0xFFFF
   4511          
   4512            // Build and send Read Response command
   4513            zcl_SendReadRsp( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr), pInMsg->msg->clusterId,
   4514                             readRspCmd, !pInMsg->hdr.fc.direction,
   4515                             true, pInMsg->hdr.transSeqNum );
   \                     ??zclProcessInReadCmd_6:
   \   00016C   12....       LCALL     ?Subroutine123 & 0xFFFF
   \                     ??CrossCallReturnLabel_529:
   \   00016F                ; Setup parameters for call to function zcl_SendReadRsp
   \   00016F   12....       LCALL     ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_404:
   \   000172   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000175   75..01       MOV       ?V2,#0x1
   \   000178   78..         MOV       R0,#?V2
   \   00017A   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00017D   85..82       MOV       DPL,?V14
   \   000180   85..83       MOV       DPH,?V15
   \   000183   12....       LCALL     ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_83:
   \   000186   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000189   78..         MOV       R0,#?V0
   \   00018B   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00018E   85..82       MOV       DPL,?V8
   \   000191   85..83       MOV       DPH,?V9
   \   000194   12....       LCALL     ?Subroutine110 & 0xFFFF
   \                     ??CrossCallReturnLabel_465:
   \   000197   E5..         MOV       A,?V8
   \   000199   12....       LCALL     ??Subroutine256_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_633:
   \   00019C   35..         ADDC      A,?V9
   \   00019E   FB           MOV       R3,A
   \   00019F   12....       LCALL     ?Subroutine137 & 0xFFFF
   \                     ??CrossCallReturnLabel_242:
   \   0001A2   12....       LCALL     `??zcl_SendReadRsp::?relay`; Banked call to: zcl_SendReadRsp
   \   0001A5   7405         MOV       A,#0x5
   \   0001A7   12....       LCALL     ?DEALLOC_XSTACK8
   4516            zcl_mem_free( readRspCmd );
   \   0001AA                ; Setup parameters for call to function osal_mem_free
   \   0001AA   AA..         MOV       R2,?V0
   \   0001AC   AB..         MOV       R3,?V1
   \   0001AE   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   4517          
   4518            return TRUE;
   \   0001B1   7901         MOV       R1,#0x1
   \                     ??zclProcessInReadCmd_1:
   \   0001B3   7408         MOV       A,#0x8
   \   0001B5   02....       LJMP      ?Subroutine5 & 0xFFFF
   4519          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine137:
   \   000000   E5..         MOV       A,?V8
   \   000002   12....       LCALL     ?Subroutine192 & 0xFFFF
   \                     ??CrossCallReturnLabel_610:
   \   000005   35..         ADDC      A,?V9
   \   000007   F583         MOV       DPH,A
   \   000009   E0           MOVX      A,@DPTR
   \   00000A   F9           MOV       R1,A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine123:
   \   000000   8E82         MOV       DPL,R6
   \   000002   8F83         MOV       DPH,R7
   \   000004                REQUIRE ??Subroutine235_0
   \   000004                ; // Fall through to label ??Subroutine235_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine100:
   \   000000   12....       LCALL     ?Subroutine200 & 0xFFFF
   \                     ??CrossCallReturnLabel_613:
   \   000003   A2E0         MOV       C,0xE0 /* A   */.0
   \   000005   92F0         MOV       B.0,C
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine58:
   \   000000   12....       LCALL     ?Subroutine173 & 0xFFFF
   \                     ??CrossCallReturnLabel_598:
   \   000003   F5..         MOV       ?V2,A
   \   000005   78..         MOV       R0,#?V2
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine184:
   \   000000   EA           MOV       A,R2
   \   000001   FE           MOV       R6,A
   \   000002   EB           MOV       A,R3
   \   000003   FF           MOV       R7,A
   \   000004   EE           MOV       A,R6
   \   000005                REQUIRE ??Subroutine251_0
   \   000005                ; // Fall through to label ??Subroutine251_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine251_0:
   \   000000   240C         ADD       A,#0xc
   \   000002   F582         MOV       DPL,A
   \   000004   E4           CLR       A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine256_0:
   \   000000   2406         ADD       A,#0x6
   \   000002   FA           MOV       R2,A
   \   000003   E4           CLR       A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine140:
   \   000000   12....       LCALL     ?Subroutine184 & 0xFFFF
   \                     ??CrossCallReturnLabel_592:
   \   000003   3F           ADDC      A,R7
   \   000004   F583         MOV       DPH,A
   \   000006   22           RET
   4520          #endif // ZCL_READ
   4521          
   4522          #ifdef ZCL_WRITE
   4523          /*********************************************************************
   4524           * @fn      processInWriteCmd
   4525           *
   4526           * @brief   Process the "Profile" Write and Write No Response Commands
   4527           *
   4528           * @param   pInMsg - incoming message to process
   4529           *
   4530           * @return  TRUE if command processed. FALSE, otherwise.
   4531           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4532          static uint8 zclProcessInWriteCmd( zclIncoming_t *pInMsg )
   \                     zclProcessInWriteCmd:
   4533          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000                REQUIRE ?V14
   \   000000                REQUIRE ?V15
   \   000000   74E8         MOV       A,#-0x18
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV       A,#-0xa
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   8A..         MOV       ?V2,R2
   \   00000C   8B..         MOV       ?V3,R3
   4534            zclWriteCmd_t *writeCmd;
   4535            zclWriteRspCmd_t *writeRspCmd;
   4536            uint8 sendRsp = FALSE;
   \   00000E   C2..         CLR       ?VB.0
   4537            uint8 j = 0;
   \   000010   7E00         MOV       R6,#0x0
   4538            uint8 i;
   4539          
   4540            writeCmd = (zclWriteCmd_t *)pInMsg->attrCmd;
   \   000012   EA           MOV       A,R2
   \   000013   12....       LCALL     ??Subroutine251_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_593:
   \   000016   35..         ADDC      A,?V3
   \   000018   F583         MOV       DPH,A
   \   00001A   E0           MOVX      A,@DPTR
   \   00001B   F5..         MOV       ?V14,A
   \   00001D   A3           INC       DPTR
   \   00001E   E0           MOVX      A,@DPTR
   \   00001F   F5..         MOV       ?V15,A
   4541            if ( pInMsg->hdr.commandID == ZCL_CMD_WRITE )
   \   000021   8A82         MOV       DPL,R2
   \   000023   8B83         MOV       DPH,R3
   \   000025   A3           INC       DPTR
   \   000026   A3           INC       DPTR
   \   000027   A3           INC       DPTR
   \   000028   A3           INC       DPTR
   \   000029   A3           INC       DPTR
   \   00002A   A3           INC       DPTR
   \   00002B   A3           INC       DPTR
   \   00002C   E0           MOVX      A,@DPTR
   \   00002D   6402         XRL       A,#0x2
   \   00002F   701C         JNZ       ??zclProcessInWriteCmd_0
   4542            {
   4543              // We need to send a response back - allocate space for it
   4544              writeRspCmd = (zclWriteRspCmd_t *)zcl_mem_alloc( sizeof( zclWriteRspCmd_t )
   4545                      + sizeof( zclWriteRspStatus_t ) * writeCmd->numAttr );
   \   000031                ; Setup parameters for call to function osal_mem_alloc
   \   000031   85..82       MOV       DPL,?V14
   \   000034   85..83       MOV       DPH,?V15
   \   000037   12....       LCALL     ?Subroutine84 & 0xFFFF
   \                     ??CrossCallReturnLabel_144:
   \   00003A   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   00003D   8A..         MOV       ?V4,R2
   \   00003F   8B..         MOV       ?V5,R3
   4546              if ( writeRspCmd == NULL )
   \   000041   EA           MOV       A,R2
   \   000042   45..         ORL       A,?V5
   \   000044   7005         JNZ       ??zclProcessInWriteCmd_1
   4547              {
   4548                return FALSE; // EMBEDDED RETURN
   \   000046   7900         MOV       R1,#0x0
   \   000048   02....       LJMP      ??zclProcessInWriteCmd_2 & 0xFFFF
   4549              }
   4550          
   4551              sendRsp = TRUE;
   \                     ??zclProcessInWriteCmd_1:
   \   00004B   D2..         SETB      ?VB.0
   4552            }
   4553          
   4554            for ( i = 0; i < writeCmd->numAttr; i++ )
   \                     ??zclProcessInWriteCmd_0:
   \   00004D   7F00         MOV       R7,#0x0
   \   00004F   8010         SJMP      ??zclProcessInWriteCmd_3
   4555            {
   4556              zclAttrRec_t attrRec;
   4557              zclWriteRec_t *statusRec = &(writeCmd->attrList[i]);
   4558          
   4559              if ( zclFindAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId,
   4560                                   statusRec->attrID, &attrRec ) )
   4561              {
   4562                if ( GET_BIT( &attrRec.attr.accessControl, ACCESS_CONTROLEXT_MASK ) != pInMsg->hdr.fc.direction )
   4563                {
   4564                  writeRspCmd->attrList[j].status = ZCL_STATUS_UNSUPPORTED_ATTRIBUTE;
   4565                  writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4566                  break;
   4567                }
   4568                if ( statusRec->dataType == attrRec.attr.dataType )
   4569                {
   4570                  uint8 status;
   4571          
   4572                  // Write the new attribute value
   4573                  if ( attrRec.attr.dataPtr != NULL )
   4574                  {
   4575                    //Handle special case for Identify
   4576                    if((pInMsg->msg->clusterId == ZCL_CLUSTER_ID_GEN_IDENTIFY) && (statusRec->attrID == ATTRID_IDENTIFY_TIME))
   4577                    {
   4578                      uint16 identifyTime; 
   4579                            
   4580                      osal_memcpy((uint8*)&identifyTime,statusRec->attrData,sizeof(uint16));
   4581                                  
   4582                      bdb_ZclIdentifyCmdInd(identifyTime, pInMsg->msg->endPoint);
   4583                      
   4584                      status = ZCL_STATUS_SUCCESS;
   4585                    }          
   4586                    else
   4587                    {                
   4588                      status = zclWriteAttrData( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
   4589                                                 &attrRec, statusRec );
   4590                    }
   4591                  }
   4592                  else // Use CB
   4593                  {
   4594                    status = zclWriteAttrDataUsingCB( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
   4595                                                      &attrRec, statusRec->attrData );
   4596                  }
   4597          
   4598                  // If successful, a write attribute status record shall NOT be generated
   4599                  if ( sendRsp && status != ZCL_STATUS_SUCCESS )
   4600                  {
   4601                    // Attribute is read only - move on to the next write attribute record
   4602                    writeRspCmd->attrList[j].status = status;
   4603                    writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4604                  }
   4605                }
   4606                else
   4607                {
   4608                  // Attribute data type is incorrect - move on to the next write attribute record
   4609                  if ( sendRsp )
   4610                  {
   4611                    writeRspCmd->attrList[j].status = ZCL_STATUS_INVALID_DATA_TYPE;
   4612                    writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4613                  }
   4614                }
   4615              }
   4616              else
   4617              {
   4618                // Attribute is not supported - move on to the next write attribute record
   4619                if ( sendRsp )
   \                     ??zclProcessInWriteCmd_4:
   \   000051   A2..         MOV       C,?VB.0
   \   000053   500B         JNC       ??CrossCallReturnLabel_9
   4620                {
   4621                  writeRspCmd->attrList[j].status = ZCL_STATUS_UNSUPPORTED_ATTRIBUTE;
   \   000055   85..82       MOV       DPL,?V12
   \   000058   85..83       MOV       DPH,?V13
   \   00005B   7486         MOV       A,#-0x7a
   4622                  writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4623                }
   4624              }
   \                     ??zclProcessInWriteCmd_5:
   \   00005D   12....       LCALL     ?Subroutine18 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   000060   0F           INC       R7
   \                     ??zclProcessInWriteCmd_3:
   \   000061   85..82       MOV       DPL,?V14
   \   000064   85..83       MOV       DPH,?V15
   \   000067   E0           MOVX      A,@DPTR
   \   000068   F8           MOV       R0,A
   \   000069   EF           MOV       A,R7
   \   00006A   C3           CLR       C
   \   00006B   98           SUBB      A,R0
   \   00006C   507F         JNC       ??CrossCallReturnLabel_10
   \   00006E   EF           MOV       A,R7
   \   00006F   75F005       MOV       B,#0x5
   \   000072   A4           MUL       AB
   \   000073   F8           MOV       R0,A
   \   000074   A9F0         MOV       R1,B
   \   000076   E5..         MOV       A,?V14
   \   000078   28           ADD       A,R0
   \   000079   F582         MOV       DPL,A
   \   00007B   E5..         MOV       A,?V15
   \   00007D   12....       LCALL     ?Subroutine143 & 0xFFFF
   \                     ??CrossCallReturnLabel_257:
   \   000080   EE           MOV       A,R6
   \   000081   75F003       MOV       B,#0x3
   \   000084   A4           MUL       AB
   \   000085   F8           MOV       R0,A
   \   000086   A9F0         MOV       R1,B
   \   000088   E5..         MOV       A,?V4
   \   00008A   28           ADD       A,R0
   \   00008B   F582         MOV       DPL,A
   \   00008D   E5..         MOV       A,?V5
   \   00008F   39           ADDC      A,R1
   \   000090   F583         MOV       DPH,A
   \   000092   E582         MOV       A,DPL
   \   000094   2402         ADD       A,#0x2
   \   000096   F5..         MOV       ?V8,A
   \   000098   E4           CLR       A
   \   000099   3583         ADDC      A,DPH
   \   00009B   F5..         MOV       ?V9,A
   \   00009D   A3           INC       DPTR
   \   00009E   8582..       MOV       ?V12,DPL
   \   0000A1   8583..       MOV       ?V13,DPH
   \   0000A4   12....       LCALL     ?Subroutine118 & 0xFFFF
   \                     ??CrossCallReturnLabel_564:
   \   0000A7                ; Setup parameters for call to function zclFindAttrRec
   \   0000A7   7402         MOV       A,#0x2
   \   0000A9   12....       LCALL     ?XSTACK_DISP100_8
   \   0000AC   88..         MOV       ?V10,R0
   \   0000AE   89..         MOV       ?V11,R1
   \   0000B0   78..         MOV       R0,#?V10
   \   0000B2   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000B5   85..82       MOV       DPL,?V0
   \   0000B8   85..83       MOV       DPH,?V1
   \   0000BB   12....       LCALL     ??Subroutine247_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_569:
   \   0000BE   12....       LCALL     `??zclFindAttrRec::?relay`; Banked call to: zclFindAttrRec
   \   0000C1   7402         MOV       A,#0x2
   \   0000C3   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000C6   E9           MOV       A,R1
   \   0000C7   6088         JZ        ??zclProcessInWriteCmd_4
   \   0000C9   85..82       MOV       DPL,?V2
   \   0000CC   85..83       MOV       DPH,?V3
   \   0000CF   A3           INC       DPTR
   \   0000D0   A3           INC       DPTR
   \   0000D1   12....       LCALL     ?Subroutine100 & 0xFFFF
   \                     ??CrossCallReturnLabel_172:
   \   0000D4   7407         MOV       A,#0x7
   \   0000D6   12....       LCALL     ?XSTACK_DISP0_8
   \   0000D9   E0           MOVX      A,@DPTR
   \   0000DA   A2E7         MOV       C,0xE0 /* A   */.7
   \   0000DC   20F001       JB        B.0,??zclProcessInWriteCmd_6
   \   0000DF   B3           CPL       C
   \                     ??zclProcessInWriteCmd_6:
   \   0000E0   4074         JC        ??zclProcessInWriteCmd_7
   \   0000E2   85..82       MOV       DPL,?V12
   \   0000E5   85..83       MOV       DPH,?V13
   \   0000E8   7486         MOV       A,#-0x7a
   \   0000EA   12....       LCALL     ?Subroutine18 & 0xFFFF
   4625            } // for loop
   4626          
   4627            if ( sendRsp )
   \                     ??CrossCallReturnLabel_10:
   \   0000ED   A2..         MOV       C,?VB.0
   \   0000EF   505E         JNC       ??zclProcessInWriteCmd_8
   4628            {
   4629              writeRspCmd->numAttr = j;
   \   0000F1   EE           MOV       A,R6
   \   0000F2   85..82       MOV       DPL,?V4
   \   0000F5   85..83       MOV       DPH,?V5
   \   0000F8   F0           MOVX      @DPTR,A
   4630              if ( writeRspCmd->numAttr == 0 )
   \   0000F9   700B         JNZ       ??zclProcessInWriteCmd_9
   4631              {
   4632                // Since all records were written successful, include a single status record
   4633                // in the resonse command with the status field set to SUCCESS and the
   4634                // attribute ID field omitted.
   4635                writeRspCmd->attrList[0].status = ZCL_STATUS_SUCCESS;
   \   0000FB   A3           INC       DPTR
   \   0000FC   E4           CLR       A
   \   0000FD   F0           MOVX      @DPTR,A
   4636                writeRspCmd->numAttr = 1;
   \   0000FE   85..82       MOV       DPL,?V4
   \   000101   85..83       MOV       DPH,?V5
   \   000104   04           INC       A
   \   000105   F0           MOVX      @DPTR,A
   4637              }
   4638          
   4639              zcl_SendWriteRsp( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
   4640                                pInMsg->msg->clusterId, writeRspCmd, !pInMsg->hdr.fc.direction,
   4641                                true, pInMsg->hdr.transSeqNum );
   \                     ??zclProcessInWriteCmd_9:
   \   000106   85..82       MOV       DPL,?V2
   \   000109   85..83       MOV       DPH,?V3
   \   00010C   12....       LCALL     ??Subroutine236_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_533:
   \   00010F                ; Setup parameters for call to function zcl_SendWriteRsp
   \   00010F   85..82       MOV       DPL,?V2
   \   000112   85..83       MOV       DPH,?V3
   \   000115   A3           INC       DPTR
   \   000116   A3           INC       DPTR
   \   000117   A3           INC       DPTR
   \   000118   A3           INC       DPTR
   \   000119   A3           INC       DPTR
   \   00011A   A3           INC       DPTR
   \   00011B   12....       LCALL     ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_99:
   \   00011E   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000121   75..01       MOV       ?V0,#0x1
   \   000124   78..         MOV       R0,#?V0
   \   000126   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000129   85..82       MOV       DPL,?V2
   \   00012C   85..83       MOV       DPH,?V3
   \   00012F   A3           INC       DPTR
   \   000130   A3           INC       DPTR
   \   000131   E0           MOVX      A,@DPTR
   \   000132   12....       LCALL     ?Subroutine141 & 0xFFFF
   \                     ??CrossCallReturnLabel_253:
   \   000135   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000138   78..         MOV       R0,#?V4
   \   00013A   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00013D   12....       LCALL     ?Subroutine63 & 0xFFFF
   \                     ??CrossCallReturnLabel_103:
   \   000140   12....       LCALL     `??zcl_SendWriteRsp::?relay`; Banked call to: zcl_SendWriteRsp
   \   000143   7405         MOV       A,#0x5
   \   000145   12....       LCALL     ?DEALLOC_XSTACK8
   4642              zcl_mem_free( writeRspCmd );
   \   000148                ; Setup parameters for call to function osal_mem_free
   \   000148   AA..         MOV       R2,?V4
   \   00014A   AB..         MOV       R3,?V5
   \   00014C   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   4643            }
   4644          
   4645            return TRUE;
   \                     ??zclProcessInWriteCmd_8:
   \   00014F   7901         MOV       R1,#0x1
   \                     ??zclProcessInWriteCmd_2:
   \   000151   740A         MOV       A,#0xa
   \   000153   02....       LJMP      ?Subroutine5 & 0xFFFF
   \                     ??zclProcessInWriteCmd_7:
   \   000156   85..82       MOV       DPL,?V0
   \   000159   85..83       MOV       DPH,?V1
   \   00015C   A3           INC       DPTR
   \   00015D   A3           INC       DPTR
   \   00015E   E0           MOVX      A,@DPTR
   \   00015F   F8           MOV       R0,A
   \   000160   7406         MOV       A,#0x6
   \   000162   12....       LCALL     ?XSTACK_DISP0_8
   \   000165   E0           MOVX      A,@DPTR
   \   000166   68           XRL       A,R0
   \   000167   6003         JZ        $+5
   \   000169   02....       LJMP      ??zclProcessInWriteCmd_10 & 0xFFFF
   \   00016C   12....       LCALL     ?Subroutine118 & 0xFFFF
   \                     ??CrossCallReturnLabel_565:
   \   00016F   7408         MOV       A,#0x8
   \   000171   12....       LCALL     ?XSTACK_DISP0_8
   \   000174   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_443:
   \   000177   606F         JZ        ??zclProcessInWriteCmd_11
   \   000179   85..82       MOV       DPL,?V6
   \   00017C   85..83       MOV       DPH,?V7
   \   00017F   A3           INC       DPTR
   \   000180   A3           INC       DPTR
   \   000181   A3           INC       DPTR
   \   000182   A3           INC       DPTR
   \   000183   E0           MOVX      A,@DPTR
   \   000184   6403         XRL       A,#0x3
   \   000186   7002         JNZ       ??zclProcessInWriteCmd_12
   \   000188   A3           INC       DPTR
   \   000189   E0           MOVX      A,@DPTR
   \                     ??zclProcessInWriteCmd_12:
   \   00018A   704A         JNZ       ??zclProcessInWriteCmd_13
   \   00018C   85..82       MOV       DPL,?V0
   \   00018F   85..83       MOV       DPH,?V1
   \   000192   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_444:
   \   000195   703F         JNZ       ??zclProcessInWriteCmd_13
   \   000197                ; Setup parameters for call to function osal_memcpy
   \   000197   85..82       MOV       DPL,?V0
   \   00019A   85..83       MOV       DPH,?V1
   \   00019D   A3           INC       DPTR
   \   00019E   A3           INC       DPTR
   \   00019F   A3           INC       DPTR
   \   0001A0   12....       LCALL     ??Subroutine235_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_526:
   \   0001A3   75..00       MOV       ?V10,#0x0
   \   0001A6   78..         MOV       R0,#?V8
   \   0001A8   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   0001AB   7C02         MOV       R4,#0x2
   \   0001AD   7D00         MOV       R5,#0x0
   \   0001AF   7403         MOV       A,#0x3
   \   0001B1   12....       LCALL     ?XSTACK_DISP101_8
   \   0001B4   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0001B7   7403         MOV       A,#0x3
   \   0001B9   12....       LCALL     ?DEALLOC_XSTACK8
   \   0001BC                ; Setup parameters for call to function bdb_ZclIdentifyCmdInd
   \   0001BC   85..82       MOV       DPL,?V2
   \   0001BF   85..83       MOV       DPH,?V3
   \   0001C2   E0           MOVX      A,@DPTR
   \   0001C3   F8           MOV       R0,A
   \   0001C4   12....       LCALL     ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_110:
   \   0001C7   85..82       MOV       DPL,?XSP + 0
   \   0001CA   85..83       MOV       DPH,?XSP + 1
   \   0001CD   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_551:
   \   0001D0   12....       LCALL     `??bdb_ZclIdentifyCmdInd::?relay`; Banked call to: bdb_ZclIdentifyCmdInd
   \   0001D3   02....       LJMP      ??CrossCallReturnLabel_9 & 0xFFFF
   \                     ??zclProcessInWriteCmd_13:
   \   0001D6                ; Setup parameters for call to function zclWriteAttrData
   \   0001D6   78..         MOV       R0,#?V0
   \   0001D8   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0001DB   7404         MOV       A,#0x4
   \   0001DD   12....       LCALL     ?XSTACK_DISP102_8
   \   0001E0   12....       LCALL     ?Subroutine135 & 0xFFFF
   \                     ??CrossCallReturnLabel_235:
   \   0001E3   12....       LCALL     `??zclWriteAttrData::?relay`; Banked call to: zclWriteAttrData
   \   0001E6   8017         SJMP      ??zclProcessInWriteCmd_14
   \                     ??zclProcessInWriteCmd_11:
   \   0001E8                ; Setup parameters for call to function zclWriteAttrDataUsingCB
   \   0001E8   85..82       MOV       DPL,?V0
   \   0001EB   85..83       MOV       DPH,?V1
   \   0001EE   A3           INC       DPTR
   \   0001EF   A3           INC       DPTR
   \   0001F0   A3           INC       DPTR
   \   0001F1   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   0001F4   7404         MOV       A,#0x4
   \   0001F6   12....       LCALL     ?XSTACK_DISP102_8
   \   0001F9   12....       LCALL     ?Subroutine135 & 0xFFFF
   \                     ??CrossCallReturnLabel_236:
   \   0001FC   12....       LCALL     `??zclWriteAttrDataUsingCB::?relay`; Banked call to: zclWriteAttrDataUsingCB
   \                     ??zclProcessInWriteCmd_14:
   \   0001FF   7402         MOV       A,#0x2
   \   000201   12....       LCALL     ?DEALLOC_XSTACK8
   \   000204   E9           MOV       A,R1
   \   000205   A2..         MOV       C,?VB.0
   \   000207   4003         JC        $+5
   \   000209   02....       LJMP      ??CrossCallReturnLabel_9 & 0xFFFF
   \   00020C   7003         JNZ       $+5
   \   00020E   02....       LJMP      ??CrossCallReturnLabel_9 & 0xFFFF
   \   000211   85..82       MOV       DPL,?V12
   \   000214   85..83       MOV       DPH,?V13
   \   000217   02....       LJMP      ??zclProcessInWriteCmd_5 & 0xFFFF
   \                     ??zclProcessInWriteCmd_10:
   \   00021A   A2..         MOV       C,?VB.0
   \   00021C   4003         JC        $+5
   \   00021E   02....       LJMP      ??CrossCallReturnLabel_9 & 0xFFFF
   \   000221   85..82       MOV       DPL,?V12
   \   000224   85..83       MOV       DPH,?V13
   \   000227   748D         MOV       A,#-0x73
   \   000229   02....       LJMP      ??zclProcessInWriteCmd_5 & 0xFFFF
   4646          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine177:
   \   000000   A3           INC       DPTR
   \   000001                REQUIRE ??Subroutine240_0
   \   000001                ; // Fall through to label ??Subroutine240_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   12....       LCALL     ?Subroutine155 & 0xFFFF
   \                     ??CrossCallReturnLabel_277:
   \   000003   12....       LCALL     ?Subroutine175 & 0xFFFF
   \                     ??CrossCallReturnLabel_490:
   \   000006   85..82       MOV       DPL,?V8
   \   000009   85..83       MOV       DPH,?V9
   \   00000C   E8           MOV       A,R0
   \   00000D   F0           MOVX      @DPTR,A
   \   00000E   A3           INC       DPTR
   \   00000F   E9           MOV       A,R1
   \   000010   F0           MOVX      @DPTR,A
   \   000011   0E           INC       R6
   \   000012   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine135:
   \   000000   E5..         MOV       A,?V6
   \   000002   12....       LCALL     ??Subroutine256_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_637:
   \   000005   35..         ADDC      A,?V7
   \   000007   FB           MOV       R3,A
   \   000008   12....       LCALL     ?Subroutine191 & 0xFFFF
   \                     ??CrossCallReturnLabel_573:
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine118:
   \   000000   85..82       MOV       DPL,?V2
   \   000003   85..83       MOV       DPH,?V3
   \   000006                REQUIRE ??Subroutine245_0
   \   000006                ; // Fall through to label ??Subroutine245_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine84:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   12....       LCALL     ?Subroutine190 & 0xFFFF
   \                     ??CrossCallReturnLabel_568:
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine63:
   \   000000   8E82         MOV       DPL,R6
   \   000002   8F83         MOV       DPH,R7
   \   000004   12....       LCALL     ?Subroutine164 & 0xFFFF
   \                     ??CrossCallReturnLabel_578:
   \   000007   12....       LCALL     ?Subroutine194 & 0xFFFF
   \                     ??CrossCallReturnLabel_639:
   \   00000A   3F           ADDC      A,R7
   \   00000B   FB           MOV       R3,A
   \   00000C   EE           MOV       A,R6
   \   00000D   12....       LCALL     ?Subroutine192 & 0xFFFF
   \                     ??CrossCallReturnLabel_607:
   \   000010   3F           ADDC      A,R7
   \   000011   F583         MOV       DPH,A
   \   000013   E0           MOVX      A,@DPTR
   \   000014   F9           MOV       R1,A
   \   000015   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine247_0:
   \   000000   12....       LCALL     ??Subroutine248_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_581:
   \   000003   85..82       MOV       DPL,?V6
   \   000006   85..83       MOV       DPH,?V7
   \   000009   12....       LCALL     ?Subroutine177 & 0xFFFF
   \                     ??CrossCallReturnLabel_621:
   \   00000C   12....       LCALL     ?Subroutine191 & 0xFFFF
   \                     ??CrossCallReturnLabel_574:
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine191:
   \   000000   E5..         MOV       A,?V6
   \   000002   2414         ADD       A,#0x14
   \   000004   F582         MOV       DPL,A
   \   000006   E4           CLR       A
   \   000007   35..         ADDC      A,?V7
   \   000009   F583         MOV       DPH,A
   \   00000B   E0           MOVX      A,@DPTR
   \   00000C   F9           MOV       R1,A
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine194:
   \   000000   EE           MOV       A,R6
   \   000001                REQUIRE ??Subroutine256_0
   \   000001                ; // Fall through to label ??Subroutine256_0
   4647          
   4648          /*********************************************************************
   4649           * @fn      zclRevertWriteUndividedCmd
   4650           *
   4651           * @brief   Revert the "Profile" Write Undevided Command
   4652           *
   4653           * @param   pInMsg - incoming message to process
   4654           * @param   curWriteRec - old data
   4655           * @param   numAttr - number of attributes to be reverted
   4656           *
   4657           * @return  none
   4658           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4659          static void zclRevertWriteUndividedCmd( zclIncoming_t *pInMsg,
   \                     zclRevertWriteUndividedCmd:
   4660                                              zclWriteRec_t *curWriteRec, uint16 numAttr )
   4661          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000   74EC         MOV       A,#-0x14
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV       A,#-0x8
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   8A..         MOV       ?V2,R2
   \   00000C   8B..         MOV       ?V3,R3
   \   00000E   8C..         MOV       ?V10,R4
   \   000010   8D..         MOV       ?V11,R5
   4662            uint8 i;
   4663          
   4664            for ( i = 0; i < numAttr; i++ )
   \   000012   75..00       MOV       ?V0,#0x0
   \   000015   741C         MOV       A,#0x1c
   \   000017   12....       LCALL     ?XSTACK_DISP0_8
   \   00001A   12....       LCALL     ??Subroutine235_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_527:
   \   00001D   802F         SJMP      ??zclRevertWriteUndividedCmd_0
   4665            {
   4666              zclAttrRec_t attrRec;
   4667              zclWriteRec_t *statusRec = &(curWriteRec[i]);
   4668          
   4669              if ( !zclFindAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId,
   4670                                    statusRec->attrID, &attrRec ) )
   4671              {
   4672                break; // should never happen
   4673              }
   4674          
   4675              if ( attrRec.attr.dataPtr != NULL )
   4676              {
   4677                // Just copy the old data back - no need to validate the data
   4678                uint16 dataLen = zclGetAttrDataLength( attrRec.attr.dataType, statusRec->attrData );
   4679                zcl_memcpy( attrRec.attr.dataPtr, statusRec->attrData, dataLen );
   4680              }
   4681              else // Use CB
   4682              {
   4683                // Write the old data back
   4684                zclWriteAttrDataUsingCB( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
   4685                                         &attrRec, statusRec->attrData );
   \                     ??zclRevertWriteUndividedCmd_1:
   \   00001F   85..82       MOV       DPL,?V2
   \   000022   85..83       MOV       DPH,?V3
   \   000025   12....       LCALL     ??Subroutine236_0 & 0xFFFF
   4686              }
   \                     ??CrossCallReturnLabel_534:
   \   000028                ; Setup parameters for call to function zclWriteAttrDataUsingCB
   \   000028   8A..         MOV       ?V4,R2
   \   00002A   8B..         MOV       ?V5,R3
   \   00002C   78..         MOV       R0,#?V4
   \   00002E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000031   7402         MOV       A,#0x2
   \   000033   12....       LCALL     ?XSTACK_DISP102_8
   \   000036   12....       LCALL     ?Subroutine194 & 0xFFFF
   \                     ??CrossCallReturnLabel_638:
   \   000039   3F           ADDC      A,R7
   \   00003A   FB           MOV       R3,A
   \   00003B   EE           MOV       A,R6
   \   00003C   12....       LCALL     ?Subroutine138 & 0xFFFF
   \                     ??CrossCallReturnLabel_245:
   \   00003F   3F           ADDC      A,R7
   \   000040   F583         MOV       DPH,A
   \   000042   E0           MOVX      A,@DPTR
   \   000043   F9           MOV       R1,A
   \   000044   12....       LCALL     `??zclWriteAttrDataUsingCB::?relay`; Banked call to: zclWriteAttrDataUsingCB
   \   000047   7402         MOV       A,#0x2
   \   000049   12....       LCALL     ?DEALLOC_XSTACK8
   \                     ??zclRevertWriteUndividedCmd_2:
   \   00004C   05..         INC       ?V0
   \                     ??zclRevertWriteUndividedCmd_0:
   \   00004E   C3           CLR       C
   \   00004F   E5..         MOV       A,?V0
   \   000051   95..         SUBB      A,?V8
   \   000053   E4           CLR       A
   \   000054   95..         SUBB      A,?V9
   \   000056   4003         JC        $+5
   \   000058   02....       LJMP      ??zclRevertWriteUndividedCmd_3 & 0xFFFF
   \   00005B   E5..         MOV       A,?V0
   \   00005D   75F005       MOV       B,#0x5
   \   000060   A4           MUL       AB
   \   000061   F8           MOV       R0,A
   \   000062   A9F0         MOV       R1,B
   \   000064   E5..         MOV       A,?V10
   \   000066   28           ADD       A,R0
   \   000067   FE           MOV       R6,A
   \   000068   E5..         MOV       A,?V11
   \   00006A   39           ADDC      A,R1
   \   00006B   FF           MOV       R7,A
   \   00006C   85..82       MOV       DPL,?V2
   \   00006F   85..83       MOV       DPH,?V3
   \   000072   12....       LCALL     ?Subroutine105 & 0xFFFF
   \                     ??CrossCallReturnLabel_181:
   \   000075                ; Setup parameters for call to function zclFindAttrRec
   \   000075   A8..         MOV       R0,?XSP + 0
   \   000077   A9..         MOV       R1,?XSP + 1
   \   000079   88..         MOV       ?V6,R0
   \   00007B   89..         MOV       ?V7,R1
   \   00007D   78..         MOV       R0,#?V6
   \   00007F   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000082   8E82         MOV       DPL,R6
   \   000084   8F83         MOV       DPH,R7
   \   000086   12....       LCALL     ??Subroutine226_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_462:
   \   000089   85..82       MOV       DPL,?V4
   \   00008C   85..83       MOV       DPH,?V5
   \   00008F   12....       LCALL     ??Subroutine237_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_556:
   \   000092   E5..         MOV       A,?V4
   \   000094   12....       LCALL     ?Subroutine138 & 0xFFFF
   \                     ??CrossCallReturnLabel_246:
   \   000097   35..         ADDC      A,?V5
   \   000099   F583         MOV       DPH,A
   \   00009B   E0           MOVX      A,@DPTR
   \   00009C   F9           MOV       R1,A
   \   00009D   12....       LCALL     `??zclFindAttrRec::?relay`; Banked call to: zclFindAttrRec
   \   0000A0   7402         MOV       A,#0x2
   \   0000A2   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000A5   E9           MOV       A,R1
   \   0000A6   604D         JZ        ??zclRevertWriteUndividedCmd_3
   \   0000A8   EE           MOV       A,R6
   \   0000A9   2403         ADD       A,#0x3
   \   0000AB   F5..         MOV       ?V4,A
   \   0000AD   E4           CLR       A
   \   0000AE   3F           ADDC      A,R7
   \   0000AF   F5..         MOV       ?V5,A
   \   0000B1   85..82       MOV       DPL,?V4
   \   0000B4   F583         MOV       DPH,A
   \   0000B6   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_552:
   \   0000B9   7406         MOV       A,#0x6
   \   0000BB   12....       LCALL     ?XSTACK_DISP0_8
   \   0000BE   12....       LCALL     ??Subroutine236_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_535:
   \   0000C1   EE           MOV       A,R6
   \   0000C2   4F           ORL       A,R7
   \   0000C3   7003         JNZ       $+5
   \   0000C5   02....       LJMP      ??zclRevertWriteUndividedCmd_1 & 0xFFFF
   \   0000C8                ; Setup parameters for call to function zclGetAttrDataLength
   \   0000C8   7404         MOV       A,#0x4
   \   0000CA   12....       LCALL     ?XSTACK_DISP0_8
   \   0000CD   E0           MOVX      A,@DPTR
   \   0000CE   F9           MOV       R1,A
   \   0000CF   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   0000D2   8A..         MOV       ?V6,R2
   \   0000D4   8B..         MOV       ?V7,R3
   \   0000D6   AC..         MOV       R4,?V6
   \   0000D8   AD..         MOV       R5,?V7
   \   0000DA                ; Setup parameters for call to function osal_memcpy
   \   0000DA   85..82       MOV       DPL,?V4
   \   0000DD   85..83       MOV       DPH,?V5
   \   0000E0   12....       LCALL     ?Subroutine64 & 0xFFFF
   4687            } // for loop
   \                     ??CrossCallReturnLabel_107:
   \   0000E3   12....       LCALL     ?PUSH_XSTACK_I_THREE
   \   0000E6   EE           MOV       A,R6
   \   0000E7   FA           MOV       R2,A
   \   0000E8   EF           MOV       A,R7
   \   0000E9   FB           MOV       R3,A
   \   0000EA   12....       LCALL     `??osal_memcpy::?relay`; Banked call to: osal_memcpy
   \   0000ED   7403         MOV       A,#0x3
   \   0000EF   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000F2   02....       LJMP      ??zclRevertWriteUndividedCmd_2 & 0xFFFF
   4688          }
   \                     ??zclRevertWriteUndividedCmd_3:
   \   0000F5   7408         MOV       A,#0x8
   \   0000F7   80..         SJMP      ??Subroutine242_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine242_0:
   \   000000   12....       LCALL     ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine243_0
   \   000003                ; // Fall through to label ??Subroutine243_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine105:
   \   000000   12....       LCALL     ?Subroutine175 & 0xFFFF
   \                     ??CrossCallReturnLabel_495:
   \   000003   88..         MOV       ?V4,R0
   \   000005   89..         MOV       ?V5,R1
   \   000007   22           RET
   4689          
   4690          /*********************************************************************
   4691           * @fn      zclProcessInWriteUndividedCmd
   4692           *
   4693           * @brief   Process the "Profile" Write Undivided Command
   4694           *
   4695           * @param   pInMsg - incoming message to process
   4696           *
   4697           * @return  TRUE if command processed. FALSE, otherwise.
   4698           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4699          static uint8 zclProcessInWriteUndividedCmd( zclIncoming_t *pInMsg )
   \                     zclProcessInWriteUndividedCmd:
   4700          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000                REQUIRE ?V12
   \   000000                REQUIRE ?V13
   \   000000                REQUIRE ?V14
   \   000000                REQUIRE ?V15
   \   000000   74E8         MOV       A,#-0x18
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 12
   \   000005   74F4         MOV       A,#-0xc
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   8A..         MOV       ?V4,R2
   \   00000C   8B..         MOV       ?V5,R3
   4701            zclWriteCmd_t *writeCmd;
   4702            zclWriteRspCmd_t *writeRspCmd;
   4703            zclAttrRec_t attrRec;
   4704            uint16 dataLen;
   4705            uint16 curLen = 0;
   \   00000E   75..00       MOV       ?V8,#0x0
   \   000011   75..00       MOV       ?V9,#0x0
   4706            uint8 j = 0;
   \   000014   7E00         MOV       R6,#0x0
   4707            uint8 i;
   4708          
   4709            writeCmd = (zclWriteCmd_t *)pInMsg->attrCmd;
   \   000016   EA           MOV       A,R2
   \   000017   12....       LCALL     ??Subroutine251_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_594:
   \   00001A   35..         ADDC      A,?V5
   \   00001C   F583         MOV       DPH,A
   \   00001E   12....       LCALL     ??Subroutine230_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_485:
   \   000021   7402         MOV       A,#0x2
   \   000023   12....       LCALL     ?XSTACK_DISP0_8
   \   000026   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   4710          
   4711            // Allocate space for Write Response Command
   4712            writeRspCmd = (zclWriteRspCmd_t *)zcl_mem_alloc( sizeof( zclWriteRspCmd_t )
   4713                             + sizeof( zclWriteRspStatus_t )* writeCmd->numAttr );
   \                     ??CrossCallReturnLabel_518:
   \   000029                ; Setup parameters for call to function osal_mem_alloc
   \   000029   7402         MOV       A,#0x2
   \   00002B   12....       LCALL     ?XSTACK_DISP0_8
   \   00002E   12....       LCALL     ?Subroutine121 & 0xFFFF
   \                     ??CrossCallReturnLabel_211:
   \   000031   12....       LCALL     ?Subroutine84 & 0xFFFF
   \                     ??CrossCallReturnLabel_145:
   \   000034   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000037   8A..         MOV       ?V0,R2
   \   000039   8B..         MOV       ?V1,R3
   4714            if ( writeRspCmd == NULL )
   \   00003B   EA           MOV       A,R2
   \   00003C   45..         ORL       A,?V1
   \   00003E   7003         JNZ       $+5
   \   000040   02....       LJMP      ??zclProcessInWriteUndividedCmd_0 & 0xFFFF
   4715            {
   4716              return FALSE; // EMBEDDED RETURN
   4717            }
   4718          
   4719            // If any attribute cannot be written, no attribute values are changed. Hence,
   4720            // make sure all the attributes are supported and writable
   4721            for ( i = 0; i < writeCmd->numAttr; i++ )
   \   000043   7F00         MOV       R7,#0x0
   \   000045   8043         SJMP      ??zclProcessInWriteUndividedCmd_1
   4722            {
   4723              zclWriteRec_t *statusRec = &(writeCmd->attrList[i]);
   4724          
   4725              if ( !zclFindAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId,
   4726                                    statusRec->attrID, &attrRec ) )
   4727              {
   4728                // Attribute is not supported - stop here
   4729                writeRspCmd->attrList[j].status = ZCL_STATUS_UNSUPPORTED_ATTRIBUTE;
   4730                writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4731                break;
   4732              }
   4733          
   4734              if ( statusRec->dataType != attrRec.attr.dataType )
   4735              {
   4736                // Attribute data type is incorrect - stope here
   4737                writeRspCmd->attrList[j].status = ZCL_STATUS_INVALID_DATA_TYPE;
   4738                writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4739                break;
   4740              }
   4741          
   4742              if ( !zcl_AccessCtrlWrite( attrRec.attr.accessControl ) )
   4743              {
   4744                // Attribute is not writable - stop here
   4745                writeRspCmd->attrList[j].status = ZCL_STATUS_READ_ONLY;
   4746                writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4747                break;
   4748              }
   4749          
   4750              if ( zcl_AccessCtrlAuthWrite( attrRec.attr.accessControl ) )
   4751              {
   4752                // Not authorized to write - stop here
   4753                writeRspCmd->attrList[j].status = ZCL_STATUS_NOT_AUTHORIZED;
   4754                writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4755                break;
   4756              }
   4757          
   4758              // Attribute Data length
   4759              if ( attrRec.attr.dataPtr != NULL )
   4760              {
   4761                dataLen = zclGetAttrDataLength( attrRec.attr.dataType, attrRec.attr.dataPtr );
   4762              }
   4763              else // Use CB
   4764              {
   4765                dataLen = zclGetAttrDataLengthUsingCB( pInMsg->msg->endPoint, pInMsg->msg->clusterId,
   4766                                                       statusRec->attrID );
   \                     ??zclProcessInWriteUndividedCmd_2:
   \   000047   85..82       MOV       DPL,?V4
   \   00004A   85..83       MOV       DPH,?V5
   \   00004D   12....       LCALL     ?Subroutine85 & 0xFFFF
   4767              }
   \                     ??CrossCallReturnLabel_147:
   \   000050   FC           MOV       R4,A
   \   000051   A3           INC       DPTR
   \   000052   E0           MOVX      A,@DPTR
   \   000053   FD           MOV       R5,A
   \   000054   8882         MOV       DPL,R0
   \   000056   8983         MOV       DPH,R1
   \   000058   12....       LCALL     ??Subroutine237_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_557:
   \   00005B   12....       LCALL     ?Subroutine136 & 0xFFFF
   \                     ??CrossCallReturnLabel_239:
   \   00005E   12....       LCALL     `??zclGetAttrDataLengthUsingCB::?relay`; Banked call to: zclGetAttrDataLengthUsingCB
   \                     ??zclProcessInWriteUndividedCmd_3:
   \   000061   85..82       MOV       DPL,?XSP + 0
   \   000064   85..83       MOV       DPH,?XSP + 1
   \   000067   12....       LCALL     ??Subroutine250_0 & 0xFFFF
   4768          
   4769              // add padding if needed
   4770              if ( PADDING_NEEDED( dataLen ) )
   \                     ??CrossCallReturnLabel_586:
   \   00006A   85..82       MOV       DPL,?XSP + 0
   \   00006D   85..83       MOV       DPH,?XSP + 1
   \   000070   E0           MOVX      A,@DPTR
   \   000071   A2E0         MOV       C,0xE0 /* A   */.0
   \   000073   5003         JNC       ??CrossCallReturnLabel_266
   4771              {
   4772                dataLen++;
   \   000075   12....       LCALL     ?Subroutine148 & 0xFFFF
   4773              }
   4774          
   4775              curLen += dataLen;
   \                     ??CrossCallReturnLabel_266:
   \   000078   85..82       MOV       DPL,?XSP + 0
   \   00007B   85..83       MOV       DPH,?XSP + 1
   \   00007E   E0           MOVX      A,@DPTR
   \   00007F   25..         ADD       A,?V8
   \   000081   F5..         MOV       ?V8,A
   \   000083   A3           INC       DPTR
   \   000084   E0           MOVX      A,@DPTR
   \   000085   35..         ADDC      A,?V9
   \   000087   F5..         MOV       ?V9,A
   \   000089   0F           INC       R7
   \                     ??zclProcessInWriteUndividedCmd_1:
   \   00008A   7402         MOV       A,#0x2
   \   00008C   12....       LCALL     ?XSTACK_DISP0_8
   \   00008F   12....       LCALL     ?Subroutine76 & 0xFFFF
   \                     ??CrossCallReturnLabel_130:
   \   000092   5043         JNC       ??zclProcessInWriteUndividedCmd_4
   \   000094   EF           MOV       A,R7
   \   000095   75F005       MOV       B,#0x5
   \   000098   A4           MUL       AB
   \   000099   F8           MOV       R0,A
   \   00009A   A9F0         MOV       R1,B
   \   00009C   7402         MOV       A,#0x2
   \   00009E   12....       LCALL     ?XSTACK_DISP0_8
   \   0000A1   12....       LCALL     ?Subroutine70 & 0xFFFF
   \                     ??CrossCallReturnLabel_121:
   \   0000A4   12....       LCALL     ?Subroutine117 & 0xFFFF
   \                     ??CrossCallReturnLabel_206:
   \   0000A7   12....       LCALL     ?XSTACK_DISP100_8
   \   0000AA   88..         MOV       ?V10,R0
   \   0000AC   89..         MOV       ?V11,R1
   \   0000AE   78..         MOV       R0,#?V10
   \   0000B0   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000B3   12....       LCALL     ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_570:
   \   0000B6   12....       LCALL     `??zclFindAttrRec::?relay`; Banked call to: zclFindAttrRec
   \   0000B9   7402         MOV       A,#0x2
   \   0000BB   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000BE   E9           MOV       A,R1
   \   0000BF   7047         JNZ       ??zclProcessInWriteUndividedCmd_5
   \   0000C1   85..82       MOV       DPL,?V0
   \   0000C4   85..83       MOV       DPH,?V1
   \   0000C7   A3           INC       DPTR
   \   0000C8   7486         MOV       A,#-0x7a
   \                     ??zclProcessInWriteUndividedCmd_6:
   \   0000CA   12....       LCALL     ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   0000CD   12....       LCALL     ?Subroutine93 & 0xFFFF
   \                     ??CrossCallReturnLabel_160:
   \   0000D0   A3           INC       DPTR
   \   0000D1   A3           INC       DPTR
   \   0000D2   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_519:
   \   0000D5   7E01         MOV       R6,#0x1
   4776            } // for loop
   4777          
   4778            writeRspCmd->numAttr = j;
   \                     ??zclProcessInWriteUndividedCmd_4:
   \   0000D7   EE           MOV       A,R6
   \   0000D8   85..82       MOV       DPL,?V0
   \   0000DB   85..83       MOV       DPH,?V1
   \   0000DE   F0           MOVX      @DPTR,A
   4779            if ( writeRspCmd->numAttr == 0 ) // All attributes can be written
   \   0000DF   6003         JZ        $+5
   \   0000E1   02....       LJMP      ??zclProcessInWriteUndividedCmd_7 & 0xFFFF
   4780            {
   4781              uint8 *curDataPtr;
   4782              zclWriteRec_t *curWriteRec;
   4783          
   4784              // calculate the length of the current data header
   4785              uint8 hdrLen = j * sizeof( zclWriteRec_t );
   \   0000E4   75F005       MOV       B,#0x5
   \   0000E7   A4           MUL       AB
   \   0000E8   FF           MOV       R7,A
   4786          
   4787              // Allocate space to keep a copy of the current data
   4788              curWriteRec = (zclWriteRec_t *) zcl_mem_alloc( hdrLen + curLen );
   \   0000E9                ; Setup parameters for call to function osal_mem_alloc
   \   0000E9   25..         ADD       A,?V8
   \   0000EB   FA           MOV       R2,A
   \   0000EC   E4           CLR       A
   \   0000ED   35..         ADDC      A,?V9
   \   0000EF   FB           MOV       R3,A
   \   0000F0   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   0000F3   8A..         MOV       ?V14,R2
   \   0000F5   8B..         MOV       ?V15,R3
   4789              if ( curWriteRec == NULL )
   \   0000F7   EA           MOV       A,R2
   \   0000F8   45..         ORL       A,?V15
   \   0000FA   705C         JNZ       ??zclProcessInWriteUndividedCmd_8
   4790              {
   4791                zcl_mem_free(writeRspCmd );
   \   0000FC                ; Setup parameters for call to function osal_mem_free
   \   0000FC   AA..         MOV       R2,?V0
   \   0000FE   AB..         MOV       R3,?V1
   \   000100   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   4792                return FALSE; // EMBEDDED RETURN
   \                     ??zclProcessInWriteUndividedCmd_0:
   \   000103   7900         MOV       R1,#0x0
   \   000105   02....       LJMP      ??zclProcessInWriteUndividedCmd_9 & 0xFFFF
   4793              }
   \                     ??zclProcessInWriteUndividedCmd_5:
   \   000108   7408         MOV       A,#0x8
   \   00010A   12....       LCALL     ?XSTACK_DISP0_8
   \   00010D   12....       LCALL     ??Subroutine228_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_471:
   \   000110   A3           INC       DPTR
   \   000111   A3           INC       DPTR
   \   000112   E0           MOVX      A,@DPTR
   \   000113   69           XRL       A,R1
   \   000114   600B         JZ        ??zclProcessInWriteUndividedCmd_10
   \   000116   85..82       MOV       DPL,?V0
   \   000119   85..83       MOV       DPH,?V1
   \   00011C   A3           INC       DPTR
   \   00011D   748D         MOV       A,#-0x73
   \   00011F   80A9         SJMP      ??zclProcessInWriteUndividedCmd_6
   \                     ??zclProcessInWriteUndividedCmd_10:
   \   000121   7409         MOV       A,#0x9
   \   000123   12....       LCALL     ?XSTACK_DISP0_8
   \   000126   E0           MOVX      A,@DPTR
   \   000127   A2E1         MOV       C,0xE0 /* A   */.1
   \   000129   400B         JC        ??zclProcessInWriteUndividedCmd_11
   \   00012B   85..82       MOV       DPL,?V0
   \   00012E   85..83       MOV       DPH,?V1
   \   000131   A3           INC       DPTR
   \   000132   7488         MOV       A,#-0x78
   \   000134   8094         SJMP      ??zclProcessInWriteUndividedCmd_6
   \                     ??zclProcessInWriteUndividedCmd_11:
   \   000136   A2E5         MOV       C,0xE0 /* A   */.5
   \   000138   500B         JNC       ??zclProcessInWriteUndividedCmd_12
   \   00013A   85..82       MOV       DPL,?V0
   \   00013D   85..83       MOV       DPH,?V1
   \   000140   A3           INC       DPTR
   \   000141   747E         MOV       A,#0x7e
   \   000143   8085         SJMP      ??zclProcessInWriteUndividedCmd_6
   \                     ??zclProcessInWriteUndividedCmd_12:
   \   000145   740A         MOV       A,#0xa
   \   000147   12....       LCALL     ?XSTACK_DISP0_8
   \   00014A   12....       LCALL     ??Subroutine204_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_364:
   \   00014D   7003         JNZ       $+5
   \   00014F   02....       LJMP      ??zclProcessInWriteUndividedCmd_2 & 0xFFFF
   \   000152                ; Setup parameters for call to function zclGetAttrDataLength
   \   000152   12....       LCALL     `??zclGetAttrDataLength::?relay`; Banked call to: zclGetAttrDataLength
   \   000155   02....       LJMP      ??zclProcessInWriteUndividedCmd_3 & 0xFFFF
   4794          
   4795              curDataPtr = (uint8 *)((uint8 *)curWriteRec + hdrLen);
   \                     ??zclProcessInWriteUndividedCmd_8:
   \   000158   EA           MOV       A,R2
   \   000159   2F           ADD       A,R7
   \   00015A   F5..         MOV       ?V8,A
   \   00015C   E4           CLR       A
   \   00015D   3B           ADDC      A,R3
   \   00015E   F5..         MOV       ?V9,A
   4796          
   4797              // Write the new data over
   4798              for ( i = 0; i < writeCmd->numAttr; i++ )
   \   000160   7F00         MOV       R7,#0x0
   \   000162   801C         SJMP      ??zclProcessInWriteUndividedCmd_13
   4799              {
   4800                uint8 status;
   4801                zclWriteRec_t *statusRec = &(writeCmd->attrList[i]);
   4802                zclWriteRec_t *curStatusRec = &(curWriteRec[i]);
   4803          
   4804                if ( !zclFindAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId,
   4805                                      statusRec->attrID, &attrRec ) )
   4806                {
   4807                  break; // should never happen
   4808                }
   4809          
   4810                // Keep a copy of the current data before before writing the new data over
   4811                curStatusRec->attrID = statusRec->attrID;
   4812                curStatusRec->attrData = curDataPtr;
   4813          
   4814                if ( attrRec.attr.dataPtr != NULL )
   4815                {
   4816                  // Read the current value
   4817                  zclReadAttrData( curDataPtr, &attrRec, &dataLen );
   4818          
   4819                  // Write the new attribute value
   4820                  status = zclWriteAttrData( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
   4821                                             &attrRec, statusRec );
   4822                }
   4823                else // Use CBs
   4824                {
   4825                  // Read the current value
   4826                  zclReadAttrDataUsingCB( pInMsg->msg->endPoint, pInMsg->msg->clusterId,
   4827                                          statusRec->attrID, curDataPtr, &dataLen );
   4828                  // Write the new attribute value
   4829                  status = zclWriteAttrDataUsingCB( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
   4830                                                    &attrRec, statusRec->attrData );
   4831                }
   4832          
   4833                // If successful, a write attribute status record shall NOT be generated
   4834                if ( status != ZCL_STATUS_SUCCESS )
   4835                {
   4836                  writeRspCmd->attrList[j].status = status;
   4837                  writeRspCmd->attrList[j++].attrID = statusRec->attrID;
   4838          
   4839                  // Since this write failed, we need to revert all the pervious writes
   4840                  zclRevertWriteUndividedCmd( pInMsg, curWriteRec, i);
   4841                  break;
   4842                }
   4843          
   4844                // add padding if needed
   4845                if ( PADDING_NEEDED( dataLen ) )
   \                     ??zclProcessInWriteUndividedCmd_14:
   \   000164   85..82       MOV       DPL,?XSP + 0
   \   000167   85..83       MOV       DPH,?XSP + 1
   \   00016A   E0           MOVX      A,@DPTR
   \   00016B   A2E0         MOV       C,0xE0 /* A   */.0
   \   00016D   5003         JNC       ??CrossCallReturnLabel_267
   4846                {
   4847                  dataLen++;
   \   00016F   12....       LCALL     ?Subroutine148 & 0xFFFF
   4848                }
   4849          
   4850                curDataPtr += dataLen;
   \                     ??CrossCallReturnLabel_267:
   \   000172   12....       LCALL     ?Subroutine106 & 0xFFFF
   \                     ??CrossCallReturnLabel_489:
   \   000175   E5..         MOV       A,?V8
   \   000177   28           ADD       A,R0
   \   000178   F5..         MOV       ?V8,A
   \   00017A   E5..         MOV       A,?V9
   \   00017C   39           ADDC      A,R1
   \   00017D   F5..         MOV       ?V9,A
   \   00017F   0F           INC       R7
   \                     ??zclProcessInWriteUndividedCmd_13:
   \   000180   7402         MOV       A,#0x2
   \   000182   12....       LCALL     ?XSTACK_DISP0_8
   \   000185   12....       LCALL     ?Subroutine76 & 0xFFFF
   \                     ??CrossCallReturnLabel_131:
   \   000188   4003         JC        $+5
   \   00018A   02....       LJMP      ??zclProcessInWriteUndividedCmd_15 & 0xFFFF
   \   00018D   EF           MOV       A,R7
   \   00018E   75F005       MOV       B,#0x5
   \   000191   A4           MUL       AB
   \   000192   F8           MOV       R0,A
   \   000193   A9F0         MOV       R1,B
   \   000195   7402         MOV       A,#0x2
   \   000197   12....       LCALL     ?XSTACK_DISP0_8
   \   00019A   12....       LCALL     ?Subroutine70 & 0xFFFF
   \                     ??CrossCallReturnLabel_122:
   \   00019D   E5..         MOV       A,?V14
   \   00019F   28           ADD       A,R0
   \   0001A0   F5..         MOV       ?V12,A
   \   0001A2   E5..         MOV       A,?V15
   \   0001A4   39           ADDC      A,R1
   \   0001A5   F5..         MOV       ?V13,A
   \   0001A7   12....       LCALL     ?Subroutine117 & 0xFFFF
   \                     ??CrossCallReturnLabel_207:
   \   0001AA   12....       LCALL     ?XSTACK_DISP100_8
   \   0001AD   88..         MOV       ?V10,R0
   \   0001AF   89..         MOV       ?V11,R1
   \   0001B1   78..         MOV       R0,#?V10
   \   0001B3   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0001B6   12....       LCALL     ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_571:
   \   0001B9   12....       LCALL     `??zclFindAttrRec::?relay`; Banked call to: zclFindAttrRec
   \   0001BC   7402         MOV       A,#0x2
   \   0001BE   12....       LCALL     ?DEALLOC_XSTACK8
   \   0001C1   E9           MOV       A,R1
   \   0001C2   7003         JNZ       $+5
   \   0001C4   02....       LJMP      ??zclProcessInWriteUndividedCmd_15 & 0xFFFF
   \   0001C7   85..82       MOV       DPL,?V2
   \   0001CA   85..83       MOV       DPH,?V3
   \   0001CD   12....       LCALL     ??Subroutine230_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_486:
   \   0001D0   85..82       MOV       DPL,?V12
   \   0001D3   85..83       MOV       DPH,?V13
   \   0001D6   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_520:
   \   0001D9   85..82       MOV       DPL,?V12
   \   0001DC   85..83       MOV       DPH,?V13
   \   0001DF   A3           INC       DPTR
   \   0001E0   A3           INC       DPTR
   \   0001E1   A3           INC       DPTR
   \   0001E2   E5..         MOV       A,?V8
   \   0001E4   F0           MOVX      @DPTR,A
   \   0001E5   A3           INC       DPTR
   \   0001E6   E5..         MOV       A,?V9
   \   0001E8   F0           MOVX      @DPTR,A
   \   0001E9   740A         MOV       A,#0xa
   \   0001EB   12....       LCALL     ?XSTACK_DISP0_8
   \   0001EE   12....       LCALL     ??Subroutine221_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_445:
   \   0001F1   6039         JZ        ??zclProcessInWriteUndividedCmd_16
   \   0001F3                ; Setup parameters for call to function zclReadAttrData
   \   0001F3   A8..         MOV       R0,?XSP + 0
   \   0001F5   A9..         MOV       R1,?XSP + 1
   \   0001F7   88..         MOV       ?V6,R0
   \   0001F9   89..         MOV       ?V7,R1
   \   0001FB   78..         MOV       R0,#?V6
   \   0001FD   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000200   7406         MOV       A,#0x6
   \   000202   12....       LCALL     ?XSTACK_DISP102_8
   \   000205   AA..         MOV       R2,?V8
   \   000207   AB..         MOV       R3,?V9
   \   000209   12....       LCALL     `??zclReadAttrData::?relay`; Banked call to: zclReadAttrData
   \   00020C   7402         MOV       A,#0x2
   \   00020E   12....       LCALL     ?DEALLOC_XSTACK8
   \   000211   85..82       MOV       DPL,?V4
   \   000214   85..83       MOV       DPH,?V5
   \   000217   12....       LCALL     ??Subroutine245_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_562:
   \   00021A                ; Setup parameters for call to function zclWriteAttrData
   \   00021A   78..         MOV       R0,#?V2
   \   00021C   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00021F   7406         MOV       A,#0x6
   \   000221   12....       LCALL     ?XSTACK_DISP102_8
   \   000224   12....       LCALL     ?Subroutine135 & 0xFFFF
   \                     ??CrossCallReturnLabel_237:
   \   000227   12....       LCALL     `??zclWriteAttrData::?relay`; Banked call to: zclWriteAttrData
   \   00022A   8046         SJMP      ??zclProcessInWriteUndividedCmd_17
   \                     ??zclProcessInWriteUndividedCmd_16:
   \   00022C   85..82       MOV       DPL,?V4
   \   00022F   85..83       MOV       DPH,?V5
   \   000232   12....       LCALL     ??Subroutine245_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_563:
   \   000235                ; Setup parameters for call to function zclReadAttrDataUsingCB
   \   000235   A8..         MOV       R0,?XSP + 0
   \   000237   A9..         MOV       R1,?XSP + 1
   \   000239   88..         MOV       ?V10,R0
   \   00023B   89..         MOV       ?V11,R1
   \   00023D   78..         MOV       R0,#?V10
   \   00023F   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000242   78..         MOV       R0,#?V8
   \   000244   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000247   12....       LCALL     ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_572:
   \   00024A   12....       LCALL     `??zclReadAttrDataUsingCB::?relay`; Banked call to: zclReadAttrDataUsingCB
   \   00024D   7404         MOV       A,#0x4
   \   00024F   12....       LCALL     ?DEALLOC_XSTACK8
   \   000252   85..82       MOV       DPL,?V4
   \   000255   85..83       MOV       DPH,?V5
   \   000258   12....       LCALL     ?Subroutine86 & 0xFFFF
   \                     ??CrossCallReturnLabel_150:
   \   00025B   A3           INC       DPTR
   \   00025C   A3           INC       DPTR
   \   00025D   A3           INC       DPTR
   \   00025E   12....       LCALL     ?PUSH_XSTACK8_X_TWO
   \   000261   7406         MOV       A,#0x6
   \   000263   12....       LCALL     ?XSTACK_DISP102_8
   \   000266   E8           MOV       A,R0
   \   000267   12....       LCALL     ??Subroutine256_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_634:
   \   00026A   39           ADDC      A,R1
   \   00026B   FB           MOV       R3,A
   \   00026C   12....       LCALL     ?Subroutine136 & 0xFFFF
   \                     ??CrossCallReturnLabel_240:
   \   00026F   12....       LCALL     `??zclWriteAttrDataUsingCB::?relay`; Banked call to: zclWriteAttrDataUsingCB
   \                     ??zclProcessInWriteUndividedCmd_17:
   \   000272   7402         MOV       A,#0x2
   \   000274   12....       LCALL     ?DEALLOC_XSTACK8
   \   000277   E9           MOV       A,R1
   \   000278   FA           MOV       R2,A
   \   000279   EA           MOV       A,R2
   \   00027A   7003         JNZ       $+5
   \   00027C   02....       LJMP      ??zclProcessInWriteUndividedCmd_14 & 0xFFFF
   \   00027F   EE           MOV       A,R6
   \   000280   75F003       MOV       B,#0x3
   \   000283   A4           MUL       AB
   \   000284   F8           MOV       R0,A
   \   000285   A9F0         MOV       R1,B
   \   000287   E5..         MOV       A,?V0
   \   000289   28           ADD       A,R0
   \   00028A   F8           MOV       R0,A
   \   00028B   E5..         MOV       A,?V1
   \   00028D   39           ADDC      A,R1
   \   00028E   F9           MOV       R1,A
   \   00028F   EA           MOV       A,R2
   \   000290   8882         MOV       DPL,R0
   \   000292   8983         MOV       DPH,R1
   \   000294   A3           INC       DPTR
   \   000295   12....       LCALL     ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   000298   12....       LCALL     ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_588:
   \   00029B   0E           INC       R6
   \   00029C                ; Setup parameters for call to function zclRevertWriteUndividedCmd
   \   00029C   EF           MOV       A,R7
   \   00029D   F5..         MOV       ?V2,A
   \   00029F   75..00       MOV       ?V3,#0x0
   \   0002A2   78..         MOV       R0,#?V2
   \   0002A4   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0002A7   AC..         MOV       R4,?V14
   \   0002A9   AD..         MOV       R5,?V15
   \   0002AB   AA..         MOV       R2,?V4
   \   0002AD   AB..         MOV       R3,?V5
   \   0002AF   12....       LCALL     `??zclRevertWriteUndividedCmd::?relay`; Banked call to: zclRevertWriteUndividedCmd
   \   0002B2   7402         MOV       A,#0x2
   \   0002B4   12....       LCALL     ?DEALLOC_XSTACK8
   4851              } // for loop
   4852          
   4853              writeRspCmd->numAttr = j;
   \                     ??zclProcessInWriteUndividedCmd_15:
   \   0002B7   EE           MOV       A,R6
   \   0002B8   85..82       MOV       DPL,?V0
   \   0002BB   85..83       MOV       DPH,?V1
   \   0002BE   F0           MOVX      @DPTR,A
   4854              if ( writeRspCmd->numAttr  == 0 )
   \   0002BF   7007         JNZ       ??zclProcessInWriteUndividedCmd_18
   4855              {
   4856                // Since all records were written successful, include a single status record
   4857                // in the resonse command with the status field set to SUCCESS and the
   4858                // attribute ID field omitted.
   4859                writeRspCmd->attrList[0].status = ZCL_STATUS_SUCCESS;
   \   0002C1   A3           INC       DPTR
   \   0002C2   E4           CLR       A
   \   0002C3   12....       LCALL     ?Subroutine35 & 0xFFFF
   4860                writeRspCmd->numAttr = 1;
   4861              }
   \                     ??CrossCallReturnLabel_42:
   \   0002C6   04           INC       A
   \   0002C7   F0           MOVX      @DPTR,A
   4862          
   4863              zcl_mem_free( curWriteRec );
   \                     ??zclProcessInWriteUndividedCmd_18:
   \   0002C8                ; Setup parameters for call to function osal_mem_free
   \   0002C8   AA..         MOV       R2,?V14
   \   0002CA   AB..         MOV       R3,?V15
   \   0002CC   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   4864            }
   4865          
   4866            zcl_SendWriteRsp( pInMsg->msg->endPoint, &(pInMsg->msg->srcAddr),
   4867                              pInMsg->msg->clusterId, writeRspCmd, !pInMsg->hdr.fc.direction,
   4868                              true, pInMsg->hdr.transSeqNum );
   \                     ??zclProcessInWriteUndividedCmd_7:
   \   0002CF   12....       LCALL     ?Subroutine120 & 0xFFFF
   \                     ??CrossCallReturnLabel_537:
   \   0002D2                ; Setup parameters for call to function zcl_SendWriteRsp
   \   0002D2   85..82       MOV       DPL,?V4
   \   0002D5   85..83       MOV       DPH,?V5
   \   0002D8   12....       LCALL     ??Subroutine209_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_403:
   \   0002DB   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0002DE   75..01       MOV       ?V2,#0x1
   \   0002E1   78..         MOV       R0,#?V2
   \   0002E3   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0002E6   85..82       MOV       DPL,?V4
   \   0002E9   85..83       MOV       DPH,?V5
   \   0002EC   A3           INC       DPTR
   \   0002ED   A3           INC       DPTR
   \   0002EE   12....       LCALL     ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_84:
   \   0002F1   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0002F4   78..         MOV       R0,#?V0
   \   0002F6   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0002F9   12....       LCALL     ?Subroutine63 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   0002FC   12....       LCALL     `??zcl_SendWriteRsp::?relay`; Banked call to: zcl_SendWriteRsp
   \   0002FF   7405         MOV       A,#0x5
   \   000301   12....       LCALL     ?DEALLOC_XSTACK8
   4869            zcl_mem_free( writeRspCmd );
   \   000304                ; Setup parameters for call to function osal_mem_free
   \   000304   AA..         MOV       R2,?V0
   \   000306   AB..         MOV       R3,?V1
   \   000308   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   4870          
   4871            return TRUE;
   \   00030B   7901         MOV       R1,#0x1
   \                     ??zclProcessInWriteUndividedCmd_9:
   \   00030D   740C         MOV       A,#0xc
   \   00030F                REQUIRE ?Subroutine5
   \   00030F                ; // Fall through to label ?Subroutine5
   4872          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine148:
   \   000000   2401         ADD       A,#0x1
   \   000002   F0           MOVX      @DPTR,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   3400         ADDC      A,#0x0
   \   000007   F0           MOVX      @DPTR,A
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine136:
   \   000000   E8           MOV       A,R0
   \   000001   12....       LCALL     ?Subroutine192 & 0xFFFF
   \                     ??CrossCallReturnLabel_609:
   \   000004   39           ADDC      A,R1
   \   000005   F583         MOV       DPH,A
   \   000007   E0           MOVX      A,@DPTR
   \   000008   F9           MOV       R1,A
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine117:
   \   000000   85..82       MOV       DPL,?V4
   \   000003   85..83       MOV       DPH,?V5
   \   000006   E0           MOVX      A,@DPTR
   \   000007   F5..         MOV       ?V6,A
   \   000009   A3           INC       DPTR
   \   00000A   E0           MOVX      A,@DPTR
   \   00000B   F5..         MOV       ?V7,A
   \   00000D                ; Setup parameters for call to function zclFindAttrRec
   \   00000D                ; Setup parameters for call to function zclFindAttrRec
   \   00000D   7404         MOV       A,#0x4
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine76:
   \   000000   12....       LCALL     ?Subroutine161 & 0xFFFF
   \                     ??CrossCallReturnLabel_292:
   \   000003   E0           MOVX      A,@DPTR
   \   000004   F8           MOV       R0,A
   \   000005   EF           MOV       A,R7
   \   000006   C3           CLR       C
   \   000007   98           SUBB      A,R0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine70:
   \   000000   E0           MOVX      A,@DPTR
   \   000001   28           ADD       A,R0
   \   000002   FA           MOV       R2,A
   \   000003   A3           INC       DPTR
   \   000004   E0           MOVX      A,@DPTR
   \   000005   39           ADDC      A,R1
   \   000006   8A82         MOV       DPL,R2
   \   000008   F583         MOV       DPH,A
   \   00000A   A3           INC       DPTR
   \   00000B   8582..       MOV       ?V2,DPL
   \   00000E   8583..       MOV       ?V3,DPH
   \   000011   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine48:
   \   000000   85..82       MOV       DPL,?V2
   \   000003   85..83       MOV       DPH,?V3
   \   000006                REQUIRE ??Subroutine247_0
   \   000006                ; // Fall through to label ??Subroutine247_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine45:
   \   000000   F0           MOVX      @DPTR,A
   \   000001   85..82       MOV       DPL,?V2
   \   000004   85..83       MOV       DPH,?V3
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine44:
   \   000000   12....       LCALL     ?Subroutine176 & 0xFFFF
   \                     ??CrossCallReturnLabel_309:
   \   000003                REQUIRE ??Subroutine249_0
   \   000003                ; // Fall through to label ??Subroutine249_0
   4873          #endif // ZCL_WRITE
   4874          
   4875          #ifdef ZCL_DISCOVER
   4876          /*********************************************************************
   4877           * @fn      zclProcessInDiscAttrs
   4878           *
   4879           * @brief   Process the "Profile" Discover Attributes Commands
   4880           *
   4881           * @param   pInMsg - incoming message to process
   4882           *
   4883           * @return  TRUE if command processed. FALSE, otherwise.
   4884           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4885          static uint8 zclProcessInDiscAttrs( zclIncoming_t *pInMsg )
   \                     zclProcessInDiscAttrs:
   4886          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV       A,#-0x10
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV       A,#-0xa
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   12....       LCALL     ?Subroutine184 & 0xFFFF
   4887            zclDiscoverAttrsCmd_t *pDiscoverCmd;
   4888            zclAttrRec_t attrRec;
   4889            uint16 attrID;
   4890            uint8 numAttrs;
   4891            uint8 i;
   4892          
   4893            pDiscoverCmd = (zclDiscoverAttrsCmd_t *)pInMsg->attrCmd;
   \                     ??CrossCallReturnLabel_591:
   \   00000D   3F           ADDC      A,R7
   \   00000E   12....       LCALL     ?Subroutine72 & 0xFFFF
   4894          
   4895            // Find out the number of attributes supported within the specified range
   4896            for ( i = 0, attrID = pDiscoverCmd->startAttr; i < pDiscoverCmd->maxAttrIDs; i++, attrID++ )
   \                     ??CrossCallReturnLabel_470:
   \   000011   75..00       MOV       ?V2,#0x0
   \   000014   85..82       MOV       DPL,?V0
   \   000017   F583         MOV       DPH,A
   \   000019   12....       LCALL     ??Subroutine230_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_487:
   \   00001C   85..82       MOV       DPL,?XSP + 0
   \   00001F   85..83       MOV       DPH,?XSP + 1
   \   000022   E8           MOV       A,R0
   \   000023   F0           MOVX      @DPTR,A
   \   000024   A3           INC       DPTR
   \   000025   E9           MOV       A,R1
   \   000026   8010         SJMP      ??zclProcessInDiscAttrs_0
   \                     ??zclProcessInDiscAttrs_1:
   \   000028   05..         INC       ?V2
   \   00002A   85..82       MOV       DPL,?XSP + 0
   \   00002D   85..83       MOV       DPH,?XSP + 1
   \   000030   E0           MOVX      A,@DPTR
   \   000031   2401         ADD       A,#0x1
   \   000033   F0           MOVX      @DPTR,A
   \   000034   A3           INC       DPTR
   \   000035   E0           MOVX      A,@DPTR
   \   000036   3400         ADDC      A,#0x0
   \                     ??zclProcessInDiscAttrs_0:
   \   000038   12....       LCALL     ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   00003B   F8           MOV       R0,A
   \   00003C   E5..         MOV       A,?V2
   \   00003E   C3           CLR       C
   \   00003F   98           SUBB      A,R0
   \   000040   5037         JNC       ??zclProcessInDiscAttrs_2
   4897            {
   4898              // finds the next attribute on this endpoint/cluster after the range.
   4899              // attributes must be in numerical order in the list.
   4900              if ( !zclFindNextAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, pInMsg->hdr.fc.direction, &attrID, &attrRec ) )
   \   000042   8E82         MOV       DPL,R6
   \   000044   8F83         MOV       DPH,R7
   \   000046   12....       LCALL     ?Subroutine105 & 0xFFFF
   4901              {
   4902                break;
   4903              }
   4904            }
   \                     ??CrossCallReturnLabel_182:
   \   000049                ; Setup parameters for call to function zclFindNextAttrRec
   \   000049   7402         MOV       A,#0x2
   \   00004B   12....       LCALL     ?XSTACK_DISP100_8
   \   00004E   88..         MOV       ?V6,R0
   \   000050   89..         MOV       ?V7,R1
   \   000052   78..         MOV       R0,#?V6
   \   000054   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000057   7402         MOV       A,#0x2
   \   000059   12....       LCALL     ?XSTACK_DISP100_8
   \   00005C   88..         MOV       ?V6,R0
   \   00005E   89..         MOV       ?V7,R1
   \   000060   78..         MOV       R0,#?V6
   \   000062   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000065   8E82         MOV       DPL,R6
   \   000067   8F83         MOV       DPH,R7
   \   000069   A3           INC       DPTR
   \   00006A   A3           INC       DPTR
   \   00006B   12....       LCALL     ??Subroutine253_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_600:
   \   00006E   12....       LCALL     `??zclFindNextAttrRec::?relay`; Banked call to: zclFindNextAttrRec
   \   000071   7404         MOV       A,#0x4
   \   000073   12....       LCALL     ?DEALLOC_XSTACK8
   \   000076   E9           MOV       A,R1
   \   000077   70AF         JNZ       ??zclProcessInDiscAttrs_1
   4905          
   4906            numAttrs = i;  // store range of attributes in buffer
   4907          
   4908              // Process message for either attributes or extended attributes
   4909            if( pInMsg->hdr.commandID == ZCL_CMD_DISCOVER_ATTRS )
   \                     ??zclProcessInDiscAttrs_2:
   \   000079   8E82         MOV       DPL,R6
   \   00007B   8F83         MOV       DPH,R7
   \   00007D   A3           INC       DPTR
   \   00007E   A3           INC       DPTR
   \   00007F   A3           INC       DPTR
   \   000080   A3           INC       DPTR
   \   000081   A3           INC       DPTR
   \   000082   A3           INC       DPTR
   \   000083   A3           INC       DPTR
   \   000084   E0           MOVX      A,@DPTR
   \   000085   F8           MOV       R0,A
   \   000086   740C         MOV       A,#0xc
   \   000088   68           XRL       A,R0
   \   000089   700F         JNZ       ??zclProcessInDiscAttrs_3
   4910            {
   4911              zclProcessInDiscAttrsCmd( pInMsg, pDiscoverCmd, numAttrs );
   \   00008B                ; Setup parameters for call to function zclProcessInDiscAttrsCmd
   \   00008B   A9..         MOV       R1,?V2
   \   00008D   AC..         MOV       R4,?V0
   \   00008F   AD..         MOV       R5,?V1
   \   000091   EE           MOV       A,R6
   \   000092   FA           MOV       R2,A
   \   000093   EF           MOV       A,R7
   \   000094   FB           MOV       R3,A
   \   000095   12....       LCALL     `??zclProcessInDiscAttrsCmd::?relay`; Banked call to: zclProcessInDiscAttrsCmd
   \   000098   8012         SJMP      ??zclProcessInDiscAttrs_4
   4912            }
   4913            else if ( pInMsg->hdr.commandID == ZCL_CMD_DISCOVER_ATTRS_EXT )
   \                     ??zclProcessInDiscAttrs_3:
   \   00009A   7415         MOV       A,#0x15
   \   00009C   68           XRL       A,R0
   \   00009D   700D         JNZ       ??zclProcessInDiscAttrs_4
   4914            {
   4915              zclProcessInDiscAttrsExtCmd( pInMsg, pDiscoverCmd, numAttrs );
   \   00009F                ; Setup parameters for call to function zclProcessInDiscAttrsExtCmd
   \   00009F   A9..         MOV       R1,?V2
   \   0000A1   AC..         MOV       R4,?V0
   \   0000A3   AD..         MOV       R5,?V1
   \   0000A5   EE           MOV       A,R6
   \   0000A6   FA           MOV       R2,A
   \   0000A7   EF           MOV       A,R7
   \   0000A8   FB           MOV       R3,A
   \   0000A9   12....       LCALL     `??zclProcessInDiscAttrsExtCmd::?relay`; Banked call to: zclProcessInDiscAttrsExtCmd
   4916            }
   4917          
   4918            return TRUE;
   \                     ??zclProcessInDiscAttrs_4:
   \   0000AC   7901         MOV       R1,#0x1
   \   0000AE   740A         MOV       A,#0xa
   \   0000B0   02....       LJMP      ?Subroutine8 & 0xFFFF
   4919          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine253_0:
   \   000000   12....       LCALL     ?Subroutine168 & 0xFFFF
   \                     ??CrossCallReturnLabel_605:
   \   000003   FC           MOV       R4,A
   \   000004   85..82       MOV       DPL,?V4
   \   000007   85..83       MOV       DPH,?V5
   \   00000A   12....       LCALL     ?Subroutine177 & 0xFFFF
   \                     ??CrossCallReturnLabel_622:
   \   00000D   E5..         MOV       A,?V4
   \   00000F   12....       LCALL     ?Subroutine192 & 0xFFFF
   \                     ??CrossCallReturnLabel_612:
   \   000012   35..         ADDC      A,?V5
   \   000014   F583         MOV       DPH,A
   \   000016   E0           MOVX      A,@DPTR
   \   000017   F9           MOV       R1,A
   \   000018   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine168:
   \   000000   12....       LCALL     ?Subroutine200 & 0xFFFF
   \                     ??CrossCallReturnLabel_615:
   \   000003   5401         ANL       A,#0x1
   \   000005   22           RET
   4920          
   4921          /*********************************************************************
   4922           * @fn      zclProcessInDiscAttrsCmd
   4923           *
   4924           * @brief   Process the Discover Attributes Command
   4925           *
   4926           * @param   pInMsg - incoming message to process
   4927           *
   4928           * @param   pDiscoverCmd - structure from requesting command
   4929           *
   4930           * @param   attrLenBuf - describes the amount of attributes to be processed
   4931           *
   4932           * @return  none
   4933           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine34:
   \   000000   75..00       MOV       ?V2,#0x0
   \   000003   85..82       MOV       DPL,?V4
   \   000006   85..83       MOV       DPH,?V5
   \   000009   12....       LCALL     ?Subroutine175 & 0xFFFF
   \                     ??CrossCallReturnLabel_491:
   \   00000C   85..82       MOV       DPL,?XSP + 0
   \   00000F   85..83       MOV       DPH,?XSP + 1
   \   000012                REQUIRE ??Subroutine233_0
   \   000012                ; // Fall through to label ??Subroutine233_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   740A         MOV       A,#0xa
   \   000002                REQUIRE ??Subroutine242_0
   \   000002                ; // Fall through to label ??Subroutine242_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4934          static void zclProcessInDiscAttrsCmd( zclIncoming_t *pInMsg, zclDiscoverAttrsCmd_t *pDiscoverCmd, uint8 numAttrs )
   \                     zclProcessInDiscAttrsCmd:
   4935          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000   74EC         MOV       A,#-0x14
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV       A,#-0xa
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   8A..         MOV       ?V6,R2
   \   00000C   8B..         MOV       ?V7,R3
   \   00000E   8C..         MOV       ?V4,R4
   \   000010   8D..         MOV       ?V5,R5
   \   000012   E9           MOV       A,R1
   \   000013   FE           MOV       R6,A
   4936            zclDiscoverAttrsRspCmd_t *pDiscoverRsp;
   4937            uint8 discComplete = TRUE;
   \   000014   7F01         MOV       R7,#0x1
   4938            zclAttrRec_t attrRec;
   4939            uint16 attrID;
   4940            uint8 i;
   4941          
   4942            // Allocate space for the response command
   4943            pDiscoverRsp = (zclDiscoverAttrsRspCmd_t *)zcl_mem_alloc( sizeof (zclDiscoverAttrsRspCmd_t)
   4944                                                                    + sizeof ( zclDiscoverAttrInfo_t ) * numAttrs );
   \   000016                ; Setup parameters for call to function osal_mem_alloc
   \   000016   12....       LCALL     ?Subroutine133 & 0xFFFF
   \                     ??CrossCallReturnLabel_628:
   \   000019   39           ADDC      A,R1
   \   00001A   FB           MOV       R3,A
   \   00001B   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   00001E   8A..         MOV       ?V0,R2
   \   000020   8B..         MOV       ?V1,R3
   4945            if ( pDiscoverRsp == NULL )
   \   000022   EA           MOV       A,R2
   \   000023   45..         ORL       A,?V1
   \   000025   7003         JNZ       $+5
   \   000027   02....       LJMP      ??zclProcessInDiscAttrsCmd_0 & 0xFFFF
   4946            {
   4947              return; // EMBEDDED RETURN
   4948            }
   4949          
   4950            if ( numAttrs != 0 )
   \   00002A   12....       LCALL     ?Subroutine132 & 0xFFFF
   \                     ??CrossCallReturnLabel_231:
   \   00002D   7003         JNZ       $+5
   \   00002F   02....       LJMP      ??zclProcessInDiscAttrsCmd_1 & 0xFFFF
   4951            {
   4952              for ( i = 0, attrID = pDiscoverCmd->startAttr; i < numAttrs; i++, attrID++ )
   \   000032   12....       LCALL     ?Subroutine34 & 0xFFFF
   4953              {
   4954                if ( !zclFindNextAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, pInMsg->hdr.fc.direction, &attrID, &attrRec ) )
   \                     ??CrossCallReturnLabel_522:
   \   000035   12....       LCALL     ?Subroutine107 & 0xFFFF
   \                     ??CrossCallReturnLabel_183:
   \   000038   12....       LCALL     ?XSTACK_DISP100_8
   \   00003B   88..         MOV       ?V10,R0
   \   00003D   89..         MOV       ?V11,R1
   \   00003F   78..         MOV       R0,#?V10
   \   000041   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000044   7402         MOV       A,#0x2
   \   000046   12....       LCALL     ?XSTACK_DISP100_8
   \   000049   88..         MOV       ?V10,R0
   \   00004B   89..         MOV       ?V11,R1
   \   00004D   78..         MOV       R0,#?V10
   \   00004F   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000052   12....       LCALL     ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_601:
   \   000055   12....       LCALL     `??zclFindNextAttrRec::?relay`; Banked call to: zclFindNextAttrRec
   \   000058   7404         MOV       A,#0x4
   \   00005A   12....       LCALL     ?DEALLOC_XSTACK8
   \   00005D   E9           MOV       A,R1
   \   00005E   6026         JZ        ??zclProcessInDiscAttrsCmd_2
   4955                {
   4956                  break; // should not happen, as numAttrs already calculated
   4957                }
   4958          
   4959                pDiscoverRsp->attrList[i].attrID = attrRec.attr.attrId;
   \   000060   E5..         MOV       A,?V2
   \   000062   75F003       MOV       B,#0x3
   \   000065   A4           MUL       AB
   \   000066   F8           MOV       R0,A
   \   000067   A9F0         MOV       R1,B
   \   000069   E5..         MOV       A,?V0
   \   00006B   28           ADD       A,R0
   \   00006C   F8           MOV       R0,A
   \   00006D   E5..         MOV       A,?V1
   \   00006F   39           ADDC      A,R1
   \   000070   F9           MOV       R1,A
   \   000071   7404         MOV       A,#0x4
   \   000073   12....       LCALL     ?XSTACK_DISP0_8
   \   000076   12....       LCALL     ?Subroutine44 & 0xFFFF
   4960                pDiscoverRsp->attrList[i].dataType = attrRec.attr.dataType;
   \                     ??CrossCallReturnLabel_589:
   \   000079   7406         MOV       A,#0x6
   \   00007B   12....       LCALL     ?XSTACK_DISP0_8
   \   00007E   12....       LCALL     ?Subroutine112 & 0xFFFF
   4961              }
   \                     ??CrossCallReturnLabel_197:
   \   000081   12....       LCALL     ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   000084   40AF         JC        ??CrossCallReturnLabel_522
   4962          
   4963              // Are there more attributes to be discovered?
   4964              if ( zclFindNextAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, pInMsg->hdr.fc.direction, &attrID, &attrRec ) )
   \                     ??zclProcessInDiscAttrsCmd_2:
   \   000086   12....       LCALL     ?Subroutine113 & 0xFFFF
   \                     ??CrossCallReturnLabel_198:
   \   000089   12....       LCALL     ?XSTACK_DISP100_8
   \   00008C   88..         MOV       ?V4,R0
   \   00008E   89..         MOV       ?V5,R1
   \   000090   78..         MOV       R0,#?V4
   \   000092   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000095   7402         MOV       A,#0x2
   \   000097   12....       LCALL     ?XSTACK_DISP100_8
   \   00009A   88..         MOV       ?V4,R0
   \   00009C   89..         MOV       ?V5,R1
   \   00009E   78..         MOV       R0,#?V4
   \   0000A0   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000A3   12....       LCALL     ?Subroutine53 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   0000A6   12....       LCALL     `??zclFindNextAttrRec::?relay`; Banked call to: zclFindNextAttrRec
   \   0000A9   7404         MOV       A,#0x4
   \   0000AB   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000AE   E9           MOV       A,R1
   \   0000AF   6002         JZ        ??zclProcessInDiscAttrsCmd_1
   4965              {
   4966                discComplete = FALSE;
   \   0000B1   7F00         MOV       R7,#0x0
   4967              }
   4968            }
   4969          
   4970            pDiscoverRsp->discComplete = discComplete;
   \                     ??zclProcessInDiscAttrsCmd_1:
   \   0000B3   12....       LCALL     ?Subroutine16 & 0xFFFF
   4971            pDiscoverRsp->numAttr = numAttrs;
   4972          
   4973            zcl_SendDiscoverAttrsRspCmd( pInMsg->msg->endPoint, &pInMsg->msg->srcAddr,
   4974                                         pInMsg->msg->clusterId, pDiscoverRsp, !(pInMsg->hdr.fc.direction),
   4975                                         true, pInMsg->hdr.transSeqNum );
   \                     ??CrossCallReturnLabel_4:
   \   0000B6   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000B9   75..01       MOV       ?V4,#0x1
   \   0000BC   78..         MOV       R0,#?V4
   \   0000BE   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000C1   12....       LCALL     ?Subroutine57 & 0xFFFF
   \                     ??CrossCallReturnLabel_596:
   \   0000C4   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000C7   78..         MOV       R0,#?V0
   \   0000C9   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000CC   12....       LCALL     ?Subroutine55 & 0xFFFF
   \                     ??CrossCallReturnLabel_69:
   \   0000CF   12....       LCALL     `??zcl_SendDiscoverAttrsRspCmd::?relay`; Banked call to: zcl_SendDiscoverAttrsRspCmd
   \   0000D2   7405         MOV       A,#0x5
   \   0000D4   12....       LCALL     ?DEALLOC_XSTACK8
   4976            zcl_mem_free( pDiscoverRsp );
   \   0000D7                ; Setup parameters for call to function osal_mem_free
   \   0000D7   AA..         MOV       R2,?V0
   \   0000D9   AB..         MOV       R3,?V1
   \   0000DB   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   4977          
   4978            return;
   \                     ??zclProcessInDiscAttrsCmd_0:
   \   0000DE   02....       LJMP      ?Subroutine6 & 0xFFFF
   4979          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine57:
   \   000000   85..82       MOV       DPL,?V8
   \   000003   85..83       MOV       DPH,?V9
   \   000006                REQUIRE ??Subroutine252_0
   \   000006                ; // Fall through to label ??Subroutine252_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine50:
   \   000000   85..82       MOV       DPL,?V8
   \   000003   85..83       MOV       DPH,?V9
   \   000006                REQUIRE ??Subroutine253_0
   \   000006                ; // Fall through to label ??Subroutine253_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine132:
   \   000000   E5..         MOV       A,?V6
   \   000002   2402         ADD       A,#0x2
   \   000004   F5..         MOV       ?V8,A
   \   000006   E4           CLR       A
   \   000007   35..         ADDC      A,?V7
   \   000009   F5..         MOV       ?V9,A
   \   00000B   EE           MOV       A,R6
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine113:
   \   000000   12....       LCALL     ?Subroutine165 & 0xFFFF
   \                     ??CrossCallReturnLabel_632:
   \   000003                ; Setup parameters for call to function zclFindNextAttrRec
   \   000003                ; Setup parameters for call to function zclFindNextAttrRec
   \   000003   7402         MOV       A,#0x2
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine165:
   \   000000   85..82       MOV       DPL,?V6
   \   000003   85..83       MOV       DPH,?V7
   \   000006                REQUIRE ??Subroutine255_0
   \   000006                ; // Fall through to label ??Subroutine255_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine107:
   \   000000   85..82       MOV       DPL,?V6
   \   000003   85..83       MOV       DPH,?V7
   \   000006   12....       LCALL     ?Subroutine171 & 0xFFFF
   \                     ??CrossCallReturnLabel_303:
   \   000009                ; Setup parameters for call to function zclFindNextAttrRec
   \   000009                ; Setup parameters for call to function zclFindNextAttrRec
   \   000009   7402         MOV       A,#0x2
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine55:
   \   000000   85..82       MOV       DPL,?V2
   \   000003   85..83       MOV       DPH,?V3
   \   000006   12....       LCALL     ?Subroutine164 & 0xFFFF
   \                     ??CrossCallReturnLabel_577:
   \   000009   E5..         MOV       A,?V2
   \   00000B   12....       LCALL     ??Subroutine256_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_636:
   \   00000E   35..         ADDC      A,?V3
   \   000010   FB           MOV       R3,A
   \   000011   E5..         MOV       A,?V2
   \   000013   12....       LCALL     ?Subroutine192 & 0xFFFF
   \                     ??CrossCallReturnLabel_606:
   \   000016   35..         ADDC      A,?V3
   \   000018   F583         MOV       DPH,A
   \   00001A   E0           MOVX      A,@DPTR
   \   00001B   F9           MOV       R1,A
   \   00001C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine53:
   \   000000   85..82       MOV       DPL,?V8
   \   000003   85..83       MOV       DPH,?V9
   \   000006   12....       LCALL     ?Subroutine168 & 0xFFFF
   \                     ??CrossCallReturnLabel_604:
   \   000009   12....       LCALL     ?Subroutine162 & 0xFFFF
   \                     ??CrossCallReturnLabel_295:
   \   00000C   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   A3           INC       DPTR
   \   000001   A3           INC       DPTR
   \   000002   A3           INC       DPTR
   \   000003   A3           INC       DPTR
   \   000004   F0           MOVX      @DPTR,A
   \   000005   05..         INC       ?V2
   \   000007   85..82       MOV       DPL,?XSP + 0
   \   00000A   85..83       MOV       DPH,?XSP + 1
   \   00000D   E0           MOVX      A,@DPTR
   \   00000E   2F           ADD       A,R7
   \   00000F   F0           MOVX      @DPTR,A
   \   000010   A3           INC       DPTR
   \   000011   E0           MOVX      A,@DPTR
   \   000012   3400         ADDC      A,#0x0
   \   000014   F0           MOVX      @DPTR,A
   \   000015   E5..         MOV       A,?V2
   \   000017   C3           CLR       C
   \   000018   9E           SUBB      A,R6
   \   000019   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   EF           MOV       A,R7
   \   000001   85..82       MOV       DPL,?V0
   \   000004   85..83       MOV       DPH,?V1
   \   000007   F0           MOVX      @DPTR,A
   \   000008   EE           MOV       A,R6
   \   000009   A3           INC       DPTR
   \   00000A   F0           MOVX      @DPTR,A
   \   00000B   12....       LCALL     ?Subroutine165 & 0xFFFF
   \                     ??CrossCallReturnLabel_631:
   \   00000E                ; Setup parameters for call to function zcl_SendDiscoverAttrsRspCmd
   \   00000E                ; Setup parameters for call to function zcl_SendDiscoverAttrsExtRsp
   \   00000E   85..82       MOV       DPL,?V6
   \   000011   85..83       MOV       DPH,?V7
   \   000014   A3           INC       DPTR
   \   000015   A3           INC       DPTR
   \   000016   A3           INC       DPTR
   \   000017   A3           INC       DPTR
   \   000018   A3           INC       DPTR
   \   000019   A3           INC       DPTR
   \   00001A   E0           MOVX      A,@DPTR
   \   00001B   F5..         MOV       ?V4,A
   \   00001D   78..         MOV       R0,#?V4
   \   00001F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine162:
   \   000000   FC           MOV       R4,A
   \   000001   85..82       MOV       DPL,?V2
   \   000004   85..83       MOV       DPH,?V3
   \   000007   A3           INC       DPTR
   \   000008   A3           INC       DPTR
   \   000009   A3           INC       DPTR
   \   00000A   A3           INC       DPTR
   \   00000B   E0           MOVX      A,@DPTR
   \   00000C   FA           MOV       R2,A
   \   00000D   A3           INC       DPTR
   \   00000E   E0           MOVX      A,@DPTR
   \   00000F   FB           MOV       R3,A
   \   000010   E5..         MOV       A,?V2
   \   000012   2414         ADD       A,#0x14
   \   000014   F582         MOV       DPL,A
   \   000016   E4           CLR       A
   \   000017   35..         ADDC      A,?V3
   \   000019   F583         MOV       DPH,A
   \   00001B   E0           MOVX      A,@DPTR
   \   00001C   F9           MOV       R1,A
   \   00001D   22           RET
   4980          
   4981          /*********************************************************************
   4982           * @fn      zclProcessInDiscAttrsExtCmd
   4983           *
   4984           * @brief   Process the Discover Attributes Extended Command
   4985           *
   4986           * @param   pInMsg - incoming message to process
   4987           *
   4988           * @param   pDiscoverCmd - structure from requesting command
   4989           *
   4990           * @param   attrLenBuf - describes the amount of attributes to be processed
   4991           *
   4992           * @return  none
   4993           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   4994          static void zclProcessInDiscAttrsExtCmd( zclIncoming_t *pInMsg, zclDiscoverAttrsCmd_t *pDiscoverCmd, uint8 numAttrs )
   \                     zclProcessInDiscAttrsExtCmd:
   4995          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000   74EC         MOV       A,#-0x14
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV       A,#-0xa
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   8A..         MOV       ?V6,R2
   \   00000C   8B..         MOV       ?V7,R3
   \   00000E   8C..         MOV       ?V4,R4
   \   000010   8D..         MOV       ?V5,R5
   \   000012   E9           MOV       A,R1
   \   000013   FE           MOV       R6,A
   4996            zclDiscoverAttrsExtRsp_t *pDiscoverExtRsp;
   4997            uint8 discComplete = TRUE;
   \   000014   7F01         MOV       R7,#0x1
   4998            zclAttrRec_t attrRec;
   4999            uint16 attrID;
   5000            uint8 i;
   5001          
   5002              // Allocate space for the response command
   5003            pDiscoverExtRsp = (zclDiscoverAttrsExtRsp_t *)zcl_mem_alloc( sizeof (zclDiscoverAttrsExtRsp_t)
   5004                                                                   + sizeof ( zclExtAttrInfo_t ) * numAttrs );
   \   000016                ; Setup parameters for call to function osal_mem_alloc
   \   000016   F5..         MOV       ?V0,A
   \   000018   75..00       MOV       ?V1,#0x0
   \   00001B   7402         MOV       A,#0x2
   \   00001D   78..         MOV       R0,#?V0
   \   00001F   12....       LCALL     ?S_SHL
   \   000022   E5..         MOV       A,?V0
   \   000024   12....       LCALL     ??Subroutine254_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_626:
   \   000027   35..         ADDC      A,?V1
   \   000029   FB           MOV       R3,A
   \   00002A   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   00002D   8A..         MOV       ?V0,R2
   \   00002F   8B..         MOV       ?V1,R3
   5005            if ( pDiscoverExtRsp == NULL )
   \   000031   EA           MOV       A,R2
   \   000032   45..         ORL       A,?V1
   \   000034   7003         JNZ       $+5
   \   000036   02....       LJMP      ??zclProcessInDiscAttrsExtCmd_0 & 0xFFFF
   5006            {
   5007              return; // EMBEDDED RETURN
   5008            }
   5009          
   5010          
   5011            if ( numAttrs != 0 )
   \   000039   12....       LCALL     ?Subroutine132 & 0xFFFF
   \                     ??CrossCallReturnLabel_232:
   \   00003C   7003         JNZ       $+5
   \   00003E   02....       LJMP      ??zclProcessInDiscAttrsExtCmd_1 & 0xFFFF
   5012            {
   5013              for ( i = 0, attrID = pDiscoverCmd->startAttr; i < numAttrs; i++, attrID++ )
   \   000041   12....       LCALL     ?Subroutine34 & 0xFFFF
   5014              {
   5015                if ( !zclFindNextAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, pInMsg->hdr.fc.direction, &attrID, &attrRec ) )
   \                     ??CrossCallReturnLabel_523:
   \   000044   12....       LCALL     ?Subroutine107 & 0xFFFF
   \                     ??CrossCallReturnLabel_184:
   \   000047   12....       LCALL     ?XSTACK_DISP100_8
   \   00004A   88..         MOV       ?V10,R0
   \   00004C   89..         MOV       ?V11,R1
   \   00004E   78..         MOV       R0,#?V10
   \   000050   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000053   7402         MOV       A,#0x2
   \   000055   12....       LCALL     ?XSTACK_DISP100_8
   \   000058   88..         MOV       ?V10,R0
   \   00005A   89..         MOV       ?V11,R1
   \   00005C   78..         MOV       R0,#?V10
   \   00005E   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000061   12....       LCALL     ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_602:
   \   000064   12....       LCALL     `??zclFindNextAttrRec::?relay`; Banked call to: zclFindNextAttrRec
   \   000067   7404         MOV       A,#0x4
   \   000069   12....       LCALL     ?DEALLOC_XSTACK8
   \   00006C   E9           MOV       A,R1
   \   00006D   603B         JZ        ??zclProcessInDiscAttrsExtCmd_2
   5016                {
   5017                  break; // Should not happen, as numAttrs already calculated
   5018                }
   5019          
   5020                pDiscoverExtRsp->aExtAttrInfo[i].attrID = attrRec.attr.attrId;
   \   00006F   E5..         MOV       A,?V2
   \   000071   F5..         MOV       ?V4,A
   \   000073   75..00       MOV       ?V5,#0x0
   \   000076   7402         MOV       A,#0x2
   \   000078   78..         MOV       R0,#?V4
   \   00007A   12....       LCALL     ?S_SHL
   \   00007D   E5..         MOV       A,?V0
   \   00007F   25..         ADD       A,?V4
   \   000081   F8           MOV       R0,A
   \   000082   E5..         MOV       A,?V1
   \   000084   35..         ADDC      A,?V5
   \   000086   F9           MOV       R1,A
   \   000087   7404         MOV       A,#0x4
   \   000089   12....       LCALL     ?XSTACK_DISP0_8
   \   00008C   12....       LCALL     ?Subroutine44 & 0xFFFF
   5021                pDiscoverExtRsp->aExtAttrInfo[i].attrDataType = attrRec.attr.dataType;
   \                     ??CrossCallReturnLabel_590:
   \   00008F   7406         MOV       A,#0x6
   \   000091   12....       LCALL     ?XSTACK_DISP0_8
   \   000094   12....       LCALL     ?Subroutine111 & 0xFFFF
   \                     ??CrossCallReturnLabel_193:
   \   000097   F0           MOVX      @DPTR,A
   5022                pDiscoverExtRsp->aExtAttrInfo[i].attrAccessControl = attrRec.attr.accessControl & ACCESS_CONTROLEXT_MASK;
   \   000098   7407         MOV       A,#0x7
   \   00009A   12....       LCALL     ?XSTACK_DISP0_8
   \   00009D   E0           MOVX      A,@DPTR
   \   00009E   5407         ANL       A,#0x7
   \   0000A0   8882         MOV       DPL,R0
   \   0000A2   8983         MOV       DPH,R1
   \   0000A4   A3           INC       DPTR
   \   0000A5   12....       LCALL     ?Subroutine19 & 0xFFFF
   5023              }
   \                     ??CrossCallReturnLabel_12:
   \   0000A8   409A         JC        ??CrossCallReturnLabel_523
   5024          
   5025              // Are there more attributes to be discovered?
   5026              if ( zclFindNextAttrRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, pInMsg->hdr.fc.direction, &attrID, &attrRec ) )
   \                     ??zclProcessInDiscAttrsExtCmd_2:
   \   0000AA   12....       LCALL     ?Subroutine113 & 0xFFFF
   \                     ??CrossCallReturnLabel_199:
   \   0000AD   12....       LCALL     ?XSTACK_DISP100_8
   \   0000B0   88..         MOV       ?V4,R0
   \   0000B2   89..         MOV       ?V5,R1
   \   0000B4   78..         MOV       R0,#?V4
   \   0000B6   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000B9   7402         MOV       A,#0x2
   \   0000BB   12....       LCALL     ?XSTACK_DISP100_8
   \   0000BE   88..         MOV       ?V4,R0
   \   0000C0   89..         MOV       ?V5,R1
   \   0000C2   78..         MOV       R0,#?V4
   \   0000C4   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000C7   12....       LCALL     ?Subroutine53 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   0000CA   12....       LCALL     `??zclFindNextAttrRec::?relay`; Banked call to: zclFindNextAttrRec
   \   0000CD   7404         MOV       A,#0x4
   \   0000CF   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000D2   E9           MOV       A,R1
   \   0000D3   6002         JZ        ??zclProcessInDiscAttrsExtCmd_1
   5027              {
   5028                discComplete = FALSE;
   \   0000D5   7F00         MOV       R7,#0x0
   5029              }
   5030            }
   5031          
   5032            pDiscoverExtRsp->discComplete = discComplete;
   \                     ??zclProcessInDiscAttrsExtCmd_1:
   \   0000D7   12....       LCALL     ?Subroutine16 & 0xFFFF
   5033            pDiscoverExtRsp->numAttr = numAttrs;
   5034          
   5035            zcl_SendDiscoverAttrsExtRsp( pInMsg->msg->endPoint, &pInMsg->msg->srcAddr,
   5036                                         pInMsg->msg->clusterId, pDiscoverExtRsp, !(pInMsg->hdr.fc.direction),
   5037                                         true, pInMsg->hdr.transSeqNum );
   \                     ??CrossCallReturnLabel_5:
   \   0000DA   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000DD   75..01       MOV       ?V4,#0x1
   \   0000E0   78..         MOV       R0,#?V4
   \   0000E2   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000E5   12....       LCALL     ?Subroutine57 & 0xFFFF
   \                     ??CrossCallReturnLabel_597:
   \   0000E8   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   0000EB   78..         MOV       R0,#?V0
   \   0000ED   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000F0   12....       LCALL     ?Subroutine55 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   0000F3   12....       LCALL     `??zcl_SendDiscoverAttrsExtRsp::?relay`; Banked call to: zcl_SendDiscoverAttrsExtRsp
   \   0000F6   7405         MOV       A,#0x5
   \   0000F8   12....       LCALL     ?DEALLOC_XSTACK8
   5038          
   5039            zcl_mem_free( pDiscoverExtRsp );
   \   0000FB                ; Setup parameters for call to function osal_mem_free
   \   0000FB   AA..         MOV       R2,?V0
   \   0000FD   AB..         MOV       R3,?V1
   \   0000FF   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   5040          
   5041            return;
   \                     ??zclProcessInDiscAttrsExtCmd_0:
   \   000102   02....       LJMP      ?Subroutine6 & 0xFFFF
   5042          }
   5043          
   5044          /*********************************************************************
   5045           * @fn      zclProcessInDiscCmd
   5046           *
   5047           * @brief   Process the "Profile" Discover Command
   5048           *
   5049           * @param   pInMsg - incoming message to process
   5050           *
   5051           * @return  TRUE if command processed. FALSE, otherwise.
   5052           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   5053          static uint8 zclProcessInDiscCmd( zclIncoming_t *pInMsg )
   \                     zclProcessInDiscCmd:
   5054          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000                REQUIRE ?V8
   \   000000                REQUIRE ?V9
   \   000000                REQUIRE ?V10
   \   000000                REQUIRE ?V11
   \   000000   74EC         MOV       A,#-0x14
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV       A,#-0xa
   \   000007   12....       LCALL     ?ALLOC_XSTACK8
   \   00000A   12....       LCALL     ?Subroutine140 & 0xFFFF
   5055            zclDiscoverCmdsCmd_t *pDiscoverCmd;
   5056            zclDiscoverCmdsCmdRsp_t cmdRsp;
   5057            ZStatus_t status;
   5058            zclCommandRec_t cmdRec;
   5059            uint8 cmdID;
   5060            uint8 i;
   5061            uint8 j;
   5062          
   5063            pDiscoverCmd = (zclDiscoverCmdsCmd_t *)pInMsg->attrCmd;
   \                     ??CrossCallReturnLabel_251:
   \   00000D   12....       LCALL     ?Subroutine108 & 0xFFFF
   5064          
   5065            // Find out the number of commands supported within the specified range
   5066            for ( i = 0, cmdID = pDiscoverCmd->startCmdID; i < pDiscoverCmd->maxCmdID; i++, cmdID++ )
   \                     ??CrossCallReturnLabel_189:
   \   000010   75..00       MOV       ?V0,#0x0
   \   000013   85..82       MOV       DPL,?V4
   \   000016   F583         MOV       DPH,A
   \   000018   12....       LCALL     ?Subroutine125 & 0xFFFF
   \                     ??CrossCallReturnLabel_216:
   \   00001B   EE           MOV       A,R6
   \   00001C   2407         ADD       A,#0x7
   \   00001E   F5..         MOV       ?V8,A
   \   000020   E4           CLR       A
   \   000021   3F           ADDC      A,R7
   \   000022   F5..         MOV       ?V9,A
   \   000024   EE           MOV       A,R6
   \   000025   2402         ADD       A,#0x2
   \   000027   F5..         MOV       ?V6,A
   \   000029   E4           CLR       A
   \   00002A   3F           ADDC      A,R7
   \   00002B   F5..         MOV       ?V7,A
   \   00002D   800B         SJMP      ??zclProcessInDiscCmd_0
   \                     ??zclProcessInDiscCmd_1:
   \   00002F   05..         INC       ?V0
   \   000031   85..82       MOV       DPL,?XSP + 0
   \   000034   85..83       MOV       DPH,?XSP + 1
   \   000037   E0           MOVX      A,@DPTR
   \   000038   04           INC       A
   \   000039   F0           MOVX      @DPTR,A
   \                     ??zclProcessInDiscCmd_0:
   \   00003A   85..82       MOV       DPL,?V4
   \   00003D   85..83       MOV       DPH,?V5
   \   000040   A3           INC       DPTR
   \   000041   12....       LCALL     ??Subroutine257_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_641:
   \   000044   502B         JNC       ??zclProcessInDiscCmd_2
   5067            {
   5068              if ( !zclFindNextCmdRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, pInMsg->hdr.commandID, pInMsg->hdr.fc.direction, &cmdID, &cmdRec ) )
   \   000046   12....       LCALL     ?Subroutine73 & 0xFFFF
   5069              {
   5070                break;  // Command not supported
   5071              }
   5072            }
   \                     ??CrossCallReturnLabel_123:
   \   000049   12....       LCALL     ?XSTACK_DISP100_8
   \   00004C   88..         MOV       ?V10,R0
   \   00004E   89..         MOV       ?V11,R1
   \   000050   78..         MOV       R0,#?V10
   \   000052   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000055   7402         MOV       A,#0x2
   \   000057   12....       LCALL     ?XSTACK_DISP100_8
   \   00005A   88..         MOV       ?V10,R0
   \   00005C   89..         MOV       ?V11,R1
   \   00005E   78..         MOV       R0,#?V10
   \   000060   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000063   12....       LCALL     ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_64:
   \   000066   12....       LCALL     `??zclFindNextCmdRec::?relay`; Banked call to: zclFindNextCmdRec
   \   000069   7404         MOV       A,#0x4
   \   00006B   12....       LCALL     ?DEALLOC_XSTACK8
   \   00006E   E9           MOV       A,R1
   \   00006F   70BE         JNZ       ??zclProcessInDiscCmd_1
   5073          
   5074            // Allocate space for the response command
   5075            cmdRsp.pCmdID = zcl_mem_alloc( i ); // size of number of commands returned
   \                     ??zclProcessInDiscCmd_2:
   \   000071                ; Setup parameters for call to function osal_mem_alloc
   \   000071   AA..         MOV       R2,?V0
   \   000073   7B00         MOV       R3,#0x0
   \   000075   12....       LCALL     `??osal_mem_alloc::?relay`; Banked call to: osal_mem_alloc
   \   000078   8A..         MOV       ?V2,R2
   \   00007A   8B..         MOV       ?V3,R3
   \   00007C   A8..         MOV       R0,?V2
   \   00007E   A9..         MOV       R1,?V3
   \   000080   7404         MOV       A,#0x4
   \   000082   12....       LCALL     ?XSTACK_DISP0_8
   \   000085   12....       LCALL     ??Subroutine233_0 & 0xFFFF
   5076          
   5077            if ( cmdRsp.pCmdID == NULL )
   \                     ??CrossCallReturnLabel_521:
   \   000088   E8           MOV       A,R0
   \   000089   49           ORL       A,R1
   \   00008A   7003         JNZ       $+5
   \   00008C   02....       LJMP      ??zclProcessInDiscCmd_3 & 0xFFFF
   5078            {
   5079              return FALSE; // EMBEDDED RETURN
   5080            }
   5081          
   5082            if ( i != 0 )
   \   00008F   E5..         MOV       A,?V0
   \   000091   6066         JZ        ??zclProcessInDiscCmd_4
   5083            {
   5084              for ( j = 0, cmdID = pDiscoverCmd->startCmdID; j < i; j++, cmdID++ )
   \   000093   75..00       MOV       ?V1,#0x0
   \   000096   85..82       MOV       DPL,?V4
   \   000099   85..83       MOV       DPH,?V5
   \   00009C   12....       LCALL     ?Subroutine125 & 0xFFFF
   5085              {
   5086                if ( !zclFindNextCmdRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, pInMsg->hdr.commandID, pInMsg->hdr.fc.direction, &cmdID, &cmdRec ) )
   \                     ??CrossCallReturnLabel_217:
   \   00009F   12....       LCALL     ?Subroutine73 & 0xFFFF
   \                     ??CrossCallReturnLabel_124:
   \   0000A2   12....       LCALL     ?XSTACK_DISP100_8
   \   0000A5   88..         MOV       ?V4,R0
   \   0000A7   89..         MOV       ?V5,R1
   \   0000A9   78..         MOV       R0,#?V4
   \   0000AB   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000AE   7402         MOV       A,#0x2
   \   0000B0   12....       LCALL     ?XSTACK_DISP100_8
   \   0000B3   88..         MOV       ?V4,R0
   \   0000B5   89..         MOV       ?V5,R1
   \   0000B7   78..         MOV       R0,#?V4
   \   0000B9   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   0000BC   12....       LCALL     ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_65:
   \   0000BF   12....       LCALL     `??zclFindNextCmdRec::?relay`; Banked call to: zclFindNextCmdRec
   \   0000C2   7404         MOV       A,#0x4
   \   0000C4   12....       LCALL     ?DEALLOC_XSTACK8
   \   0000C7   E9           MOV       A,R1
   \   0000C8   602F         JZ        ??zclProcessInDiscCmd_4
   5087                {
   5088                  break; // Attribute not supported
   5089                }
   5090          
   5091                cmdRsp.pCmdID[j] = cmdRec.cmdID;
   \   0000CA   7408         MOV       A,#0x8
   \   0000CC   12....       LCALL     ?XSTACK_DISP0_8
   \   0000CF   E0           MOVX      A,@DPTR
   \   0000D0   C0E0         PUSH      A
   \   0000D2   A8..         MOV       R0,?V1
   \   0000D4   7404         MOV       A,#0x4
   \   0000D6   12....       LCALL     ?XSTACK_DISP0_8
   \   0000D9   E0           MOVX      A,@DPTR
   \   0000DA   28           ADD       A,R0
   \   0000DB   FA           MOV       R2,A
   \   0000DC   A3           INC       DPTR
   \   0000DD   E0           MOVX      A,@DPTR
   \   0000DE   3400         ADDC      A,#0x0
   \   0000E0   8A82         MOV       DPL,R2
   \   0000E2   F583         MOV       DPH,A
   \   0000E4   D0E0         POP       A
   \   0000E6   F0           MOVX      @DPTR,A
   5092              }
   \   0000E7   05..         INC       ?V1
   \   0000E9   85..82       MOV       DPL,?XSP + 0
   \   0000EC   85..83       MOV       DPH,?XSP + 1
   \   0000EF   E0           MOVX      A,@DPTR
   \   0000F0   04           INC       A
   \   0000F1   F0           MOVX      @DPTR,A
   \   0000F2   E5..         MOV       A,?V1
   \   0000F4   C3           CLR       C
   \   0000F5   95..         SUBB      A,?V0
   \   0000F7   40A6         JC        ??CrossCallReturnLabel_217
   5093            }
   5094          
   5095            // Are there more commands to be discovered?
   5096            if ( zclFindNextCmdRec( pInMsg->msg->endPoint, pInMsg->msg->clusterId, pInMsg->hdr.commandID, pInMsg->hdr.fc.direction, &cmdID, &cmdRec ) )
   \                     ??zclProcessInDiscCmd_4:
   \   0000F9   12....       LCALL     ?Subroutine73 & 0xFFFF
   \                     ??CrossCallReturnLabel_125:
   \   0000FC   12....       LCALL     ?XSTACK_DISP100_8
   \   0000FF   88..         MOV       ?V4,R0
   \   000101   89..         MOV       ?V5,R1
   \   000103   78..         MOV       R0,#?V4
   \   000105   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000108   7402         MOV       A,#0x2
   \   00010A   12....       LCALL     ?XSTACK_DISP100_8
   \   00010D   88..         MOV       ?V4,R0
   \   00010F   89..         MOV       ?V5,R1
   \   000111   78..         MOV       R0,#?V4
   \   000113   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000116   12....       LCALL     ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_66:
   \   000119   12....       LCALL     `??zclFindNextCmdRec::?relay`; Banked call to: zclFindNextCmdRec
   \   00011C   7404         MOV       A,#0x4
   \   00011E   12....       LCALL     ?DEALLOC_XSTACK8
   \   000121   E9           MOV       A,R1
   \   000122   6008         JZ        ??zclProcessInDiscCmd_5
   5097            {
   5098              cmdRsp.discComplete = FALSE;
   \   000124   7401         MOV       A,#0x1
   \   000126   12....       LCALL     ?XSTACK_DISP0_8
   \   000129   E4           CLR       A
   \   00012A   8007         SJMP      ??zclProcessInDiscCmd_6
   5099            }
   5100            else
   5101            {
   5102              cmdRsp.discComplete = TRUE;
   \                     ??zclProcessInDiscCmd_5:
   \   00012C   7401         MOV       A,#0x1
   \   00012E   12....       LCALL     ?XSTACK_DISP0_8
   \   000131   7401         MOV       A,#0x1
   \                     ??zclProcessInDiscCmd_6:
   \   000133   F0           MOVX      @DPTR,A
   5103            }
   5104          
   5105            // pass the command requested
   5106            cmdRsp.cmdType = pInMsg->hdr.commandID;
   \   000134   85..82       MOV       DPL,?V8
   \   000137   85..83       MOV       DPH,?V9
   \   00013A   E0           MOVX      A,@DPTR
   \   00013B   C0E0         PUSH      A
   \   00013D   7402         MOV       A,#0x2
   \   00013F   12....       LCALL     ?XSTACK_DISP0_8
   \   000142   D0E0         POP       A
   \   000144   F0           MOVX      @DPTR,A
   5107          
   5108            // store number of commands returned
   5109            cmdRsp.numCmd = j;
   \   000145   7403         MOV       A,#0x3
   \   000147   12....       LCALL     ?XSTACK_DISP0_8
   \   00014A   E5..         MOV       A,?V1
   \   00014C   12....       LCALL     ?Subroutine31 & 0xFFFF
   5110          
   5111            status = zcl_SendDiscoverCmdsRspCmd( pInMsg->msg->endPoint, &pInMsg->msg->srcAddr,
   5112                                                pInMsg->msg->clusterId, &cmdRsp, !(pInMsg->hdr.fc.direction),
   5113                                                true, pInMsg->hdr.transSeqNum );
   \                     ??CrossCallReturnLabel_35:
   \   00014F   F5..         MOV       ?V0,A
   \   000151   A3           INC       DPTR
   \   000152   E0           MOVX      A,@DPTR
   \   000153   F5..         MOV       ?V1,A
   \   000155                ; Setup parameters for call to function zcl_SendDiscoverCmdsRspCmd
   \   000155   12....       LCALL     ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_405:
   \   000158   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00015B   75..01       MOV       ?V2,#0x1
   \   00015E   78..         MOV       R0,#?V2
   \   000160   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   000163   85..82       MOV       DPL,?V6
   \   000166   85..83       MOV       DPH,?V7
   \   000169   12....       LCALL     ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_85:
   \   00016C   12....       LCALL     ?PUSH_XSTACK_I_ONE
   \   00016F   7404         MOV       A,#0x4
   \   000171   12....       LCALL     ?XSTACK_DISP100_8
   \   000174   88..         MOV       ?V2,R0
   \   000176   89..         MOV       ?V3,R1
   \   000178   78..         MOV       R0,#?V2
   \   00017A   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00017D   85..82       MOV       DPL,?V0
   \   000180   85..83       MOV       DPH,?V1
   \   000183   12....       LCALL     ?Subroutine110 & 0xFFFF
   \                     ??CrossCallReturnLabel_466:
   \   000186   E5..         MOV       A,?V0
   \   000188   12....       LCALL     ??Subroutine256_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_635:
   \   00018B   35..         ADDC      A,?V1
   \   00018D   FB           MOV       R3,A
   \   00018E   E5..         MOV       A,?V0
   \   000190   12....       LCALL     ?Subroutine138 & 0xFFFF
   \                     ??CrossCallReturnLabel_247:
   \   000193   35..         ADDC      A,?V1
   \   000195   F583         MOV       DPH,A
   \   000197   E0           MOVX      A,@DPTR
   \   000198   F9           MOV       R1,A
   \   000199   12....       LCALL     `??zcl_SendDiscoverCmdsRspCmd::?relay`; Banked call to: zcl_SendDiscoverCmdsRspCmd
   \   00019C   7405         MOV       A,#0x5
   \   00019E   12....       LCALL     ?DEALLOC_XSTACK8
   \   0001A1   E9           MOV       A,R1
   \   0001A2   FE           MOV       R6,A
   5114          
   5115            zcl_mem_free( cmdRsp.pCmdID );
   \   0001A3                ; Setup parameters for call to function osal_mem_free
   \   0001A3   7404         MOV       A,#0x4
   \   0001A5   12....       LCALL     ?XSTACK_DISP0_8
   \   0001A8   12....       LCALL     ??Subroutine239_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_553:
   \   0001AB   12....       LCALL     `??osal_mem_free::?relay`; Banked call to: osal_mem_free
   5116          
   5117            if ( status == ZSuccess )
   \   0001AE   EE           MOV       A,R6
   \   0001AF   7004         JNZ       ??zclProcessInDiscCmd_3
   5118            {
   5119              return TRUE;
   \   0001B1   7901         MOV       R1,#0x1
   \   0001B3   8002         SJMP      ??zclProcessInDiscCmd_7
   5120            }
   5121            else
   5122            {
   5123              return FALSE;
   \                     ??zclProcessInDiscCmd_3:
   \   0001B5   7900         MOV       R1,#0x0
   5124            }
   \                     ??zclProcessInDiscCmd_7:
   \   0001B7   02....       LJMP      ?Subroutine6 & 0xFFFF
   5125          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine125:
   \   000000   12....       LCALL     ?Subroutine180 & 0xFFFF
   \                     ??CrossCallReturnLabel_318:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine73:
   \   000000   8E82         MOV       DPL,R6
   \   000002   8F83         MOV       DPH,R7
   \   000004   12....       LCALL     ??Subroutine255_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_630:
   \   000007                ; Setup parameters for call to function zclFindNextCmdRec
   \   000007                ; Setup parameters for call to function zclFindNextCmdRec
   \   000007                ; Setup parameters for call to function zclFindNextCmdRec
   \   000007   7406         MOV       A,#0x6
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine49:
   \   000000   85..82       MOV       DPL,?V6
   \   000003   85..83       MOV       DPH,?V7
   \   000006   12....       LCALL     ?Subroutine168 & 0xFFFF
   \                     ??CrossCallReturnLabel_603:
   \   000009   FD           MOV       R5,A
   \   00000A   85..82       MOV       DPL,?V8
   \   00000D   85..83       MOV       DPH,?V9
   \   000010   E0           MOVX      A,@DPTR
   \   000011   12....       LCALL     ?Subroutine162 & 0xFFFF
   \                     ??CrossCallReturnLabel_294:
   \   000014   22           RET

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for zcl_radius>`:
   \   000000   1E           DB 30

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_32:
   \   000000   32000000     DD 50

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_Init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_event_loop::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_event_loop

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_registerForMsg::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_registerForMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_registerForMsgExt::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_registerForMsgExt

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_addExternalFoundationHandler::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_addExternalFoundationHandler

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_getExternalFoundationHandler::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_getExternalFoundationHandler

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_HandleExternal::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_HandleExternal

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_getRawAFMsg::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_getRawAFMsg

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_getParsedTransSeqNum::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_getParsedTransSeqNum

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_registerPlugin::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_registerPlugin

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_registerCmdList::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_registerCmdList

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_registerAttrList::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_registerAttrList

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_registerClusterOptionList::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_registerClusterOptionList

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_registerValidateAttrData::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_registerValidateAttrData

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_registerReadWriteCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_registerReadWriteCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_DeviceOperational::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_DeviceOperational

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendCommand::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendCommand

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendRead::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendRead

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendReadRsp::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendReadRsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendWriteRequest::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendWriteRequest

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendWriteRsp::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendWriteRsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendConfigReportRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendConfigReportRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendReadReportCfgRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendReadReportCfgRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendReportCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendReportCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendDefaultRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendDefaultRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendDiscoverCmdsCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendDiscoverCmdsCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendDiscoverCmdsRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendDiscoverCmdsRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendDiscoverAttrsCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendDiscoverAttrsCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendDiscoverAttrsRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendDiscoverAttrsRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendDiscoverAttrsExt::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendDiscoverAttrsExt

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_SendDiscoverAttrsExtRsp::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_SendDiscoverAttrsExtRsp

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_ProcessMessageMSG::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_ProcessMessageMSG

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseHdr::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseHdr

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclBuildHdr::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclBuildHdr

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclFindCmdRecsList::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclFindCmdRecsList

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclFindCmdRec::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclFindCmdRec

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclFindAttrRecsList::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclFindAttrRecsList

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclFindAttrRec::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclFindAttrRec

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclGetReadWriteCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclGetReadWriteCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclGetAuthorizeCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclGetAuthorizeCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclFindClusterOption::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclFindClusterOption

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclGetClusterOption::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclGetClusterOption

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSetSecurityOption::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSetSecurityOption

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclFindNextCmdRec::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclFindNextCmdRec

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclFindNextAttrRec::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclFindNextAttrRec

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclSerializeData::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclSerializeData

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclAnalogDataType::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclAnalogDataType

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclGetDataTypeLength::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclGetDataTypeLength

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclGetAttrDataLength::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclGetAttrDataLength

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclReadAttrData::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclReadAttrData

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zcl_ReadAttrData::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zcl_ReadAttrData

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclGetAttrDataLengthUsingCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclGetAttrDataLengthUsingCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclReadAttrDataUsingCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclReadAttrDataUsingCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclWriteAttrData::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclWriteAttrData

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclWriteAttrDataUsingCB::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclWriteAttrDataUsingCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclAuthorizeWrite::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclAuthorizeWrite

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInReadCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInReadCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInReadRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInReadRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInWriteCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInWriteCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInWriteRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInWriteRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInConfigReportCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInConfigReportCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInReadReportCfgCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInReadReportCfgCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInDefaultRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInDefaultRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInDiscAttrsCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInDiscAttrsCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInDiscAttrsRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInDiscAttrsRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInDiscCmdsCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInDiscCmdsCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInDiscCmdsRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInDiscCmdsRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclParseInDiscAttrsExtRspCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclParseInDiscAttrsExtRspCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclProcessInReadCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclProcessInReadCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclProcessInWriteCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclProcessInWriteCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclRevertWriteUndividedCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclRevertWriteUndividedCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclProcessInWriteUndividedCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclProcessInWriteUndividedCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclProcessInDiscAttrs::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclProcessInDiscAttrs

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclProcessInDiscAttrsCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclProcessInDiscAttrsCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclProcessInDiscAttrsExtCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclProcessInDiscAttrsExtCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??zclProcessInDiscCmd::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    zclProcessInDiscCmd
   5126          
   5127          #endif // ZCL_DISCOVER
   5128          
   5129          
   5130          /*********************************************************************
   5131          *********************************************************************/
   5132          // /*
   5133          //  * 
   5134          //  */
   5135          // static void zclSampleSw_ReportTest(void)
   5136          // {  
   5137          //     static uint8 seqNum = 0;  
   5138          //     zclReportCmd_t *reportCmd;  
   5139          
   5140          //     //
   5141          //     afAddrType_t destAddr;  
   5142          //     destAddr.addrMode = afAddr16Bit;
   5143          //     destAddr.endPoint = SAMPLESW_ENDPOINT;
   5144          //     destAddr.addr.shortAddr = 0x0000;//0x0000
   5145          
   5146          // reportCmd = (zclReportCmd_t *)osal_mem_alloc(sizeof(zclReportCmd_t)+sizeof(zclReport_t));//
   5147          
   5148          //     if(reportCmd == NULL)//
   5149          //          return;  
   5150          
   5151          //     reportCmd->attrList[0].attrData = (uint8 *)osal_mem_alloc(sizeof(uint8));//
   5152          
   5153          //     if(reportCmd->attrList[0].attrData == NULL)//
   5154          //         return;  
   5155          
   5156          //     reportCmd->numAttr = 1;//1
   5157          //     reportCmd->attrList[0].attrID = ATTRID_ON_OFF_SWITCH_TYPE;//ID
   5158          //     reportCmd->attrList[0].dataType = ZCL_DATATYPE_ENUM8;//
   5159          //     *((uint8 *)(reportCmd->attrList[0].attrData)) = seqNum;//
   5160          
   5161          //     //
   5162          //     zcl_SendReportCmd(SAMPLESW_ENDPOINT,//
   5163          //         &destAddr,//
   5164          //         ZCL_CLUSTER_ID_GEN_ON_OFF_SWITCH_CONFIG,//Cluster ID
   5165          //         reportCmd,
   5166          //         ZCL_FRAME_CLIENT_SERVER_DIR,//
   5167          //         TRUE,//
   5168          //          seqNum++ );//seqNum1
   5169          
   5170          //     HalLcdWriteStringValue("Report: ", (seqNum-1), 10, 4);//
   5171          
   5172          //     // 
   5173          //     osal_mem_free(reportCmd->attrList[0].attrData);  
   5174          //     osal_mem_free(reportCmd);
   5175          // }

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      2     26   zclAnalogDataType
      0     29   zclAuthorizeWrite
        0     14   -> zclGetAuthorizeCB
      1     39   zclBuildHdr
      2     54   zclFindAttrRec
        0     16   -> zclFindAttrRecsList
      2     16   zclFindAttrRecsList
      0     19   zclFindClusterOption
      2     16   zclFindCmdRec
        0     14   -> zclFindCmdRecsList
      2     16   zclFindCmdRecsList
      0     50   zclFindNextAttrRec
        0     16   -> zclFindAttrRecsList
      1     50   zclFindNextCmdRec
        0     16   -> zclFindCmdRecsList
      0     45   zclGetAttrDataLength
        0      9   -> zclGetDataTypeLength
      0     58   zclGetAttrDataLengthUsingCB
        0     18   -> zclGetReadWriteCB
      0     42   zclGetAuthorizeCB
        0     10   -> zclFindAttrRecsList
      0     46   zclGetClusterOption
        0     10   -> zclFindClusterOption
      0     26   zclGetDataTypeLength
      0     28   zclGetReadWriteCB
        0     10   -> zclFindAttrRecsList
      1     48   zclParseHdr
        0     12   -> osal_memset
      1     24   zclParseInConfigReportCmd
        0     24   -> osal_mem_alloc
        0     24   -> osal_memset
        0     24   -> zclAnalogDataType
        0     24   -> zclGetAttrDataLength
        0     24   -> zclGetDataTypeLength
      1     10   zclParseInDefaultRspCmd
        0     10   -> osal_mem_alloc
      1     10   zclParseInDiscAttrsCmd
        0     10   -> osal_mem_alloc
      1     14   zclParseInDiscAttrsExtRspCmd
        0     14   -> osal_mem_alloc
      1     12   zclParseInDiscAttrsRspCmd
        0     12   -> osal_mem_alloc
      1     10   zclParseInDiscCmdsCmd
        0     10   -> osal_mem_alloc
      1     12   zclParseInDiscCmdsRspCmd
        0     12   -> osal_mem_alloc
      1     12   zclParseInReadCmd
        0     12   -> osal_mem_alloc
      1     12   zclParseInReadReportCfgCmd
        0     12   -> osal_mem_alloc
      1     25   zclParseInReadRspCmd
        0     22   -> osal_mem_alloc
        0     25   -> osal_memcpy
        0     22   -> zclGetAttrDataLength
      1     25   zclParseInWriteCmd
        0     22   -> osal_mem_alloc
        0     25   -> osal_memcpy
        0     22   -> zclGetAttrDataLength
      1     16   zclParseInWriteRspCmd
        0     16   -> osal_mem_alloc
      0     30   zclProcessInDiscAttrs
        0     30   -> zclFindNextAttrRec
        0     26   -> zclProcessInDiscAttrsCmd
        0     26   -> zclProcessInDiscAttrsExtCmd
      1     61   zclProcessInDiscAttrsCmd
        0     30   -> osal_mem_alloc
        0     30   -> osal_mem_free
        0     34   -> zclFindNextAttrRec
        0     35   -> zcl_SendDiscoverAttrsRspCmd
      1     61   zclProcessInDiscAttrsExtCmd
        0     30   -> osal_mem_alloc
        0     30   -> osal_mem_free
        0     34   -> zclFindNextAttrRec
        0     35   -> zcl_SendDiscoverAttrsExtRsp
      1     35   zclProcessInDiscCmd
        0     30   -> osal_mem_alloc
        0     30   -> osal_mem_free
        0     34   -> zclFindNextCmdRec
        0     35   -> zcl_SendDiscoverCmdsRspCmd
      1     37   zclProcessInReadCmd
        0     32   -> osal_mem_alloc
        0     32   -> osal_mem_free
        0     34   -> zclFindAttrRec
        0     32   -> zclGetAuthorizeCB
        0     37   -> zcl_SendReadRsp
      1     39   zclProcessInWriteCmd
        0     34   -> bdb_ZclIdentifyCmdInd
        0     34   -> osal_mem_alloc
        0     34   -> osal_mem_free
        0     37   -> osal_memcpy
        0     36   -> zclFindAttrRec
        0     36   -> zclWriteAttrData
        0     36   -> zclWriteAttrDataUsingCB
        0     39   -> zcl_SendWriteRsp
      1     41   zclProcessInWriteUndividedCmd
        0     36   -> osal_mem_alloc
        0     36   -> osal_mem_free
        0     38   -> zclFindAttrRec
        0     36   -> zclGetAttrDataLength
        0     36   -> zclGetAttrDataLengthUsingCB
        0     38   -> zclReadAttrData
        0     40   -> zclReadAttrDataUsingCB
        0     38   -> zclRevertWriteUndividedCmd
        0     38   -> zclWriteAttrData
        0     38   -> zclWriteAttrDataUsingCB
        0     41   -> zcl_SendWriteRsp
      0     56   zclReadAttrData
        0     18   -> osal_memcpy
        0     15   -> zclGetAttrDataLength
      0     60   zclReadAttrDataUsingCB
        0     16   -> zclGetReadWriteCB
      0     69   zclRevertWriteUndividedCmd
        0     31   -> osal_memcpy
        0     30   -> zclFindAttrRec
        0     28   -> zclGetAttrDataLength
        0     30   -> zclWriteAttrDataUsingCB
      1     45   zclSerializeData
        0     19   -> osal_buffer_uint32
        0     18   -> osal_memcpy
      0     46   zclSetSecurityOption
        0     10   -> zclFindClusterOption
      0     56   zclWriteAttrData
        0     18   -> osal_memcpy
        0     15   -> zclAuthorizeWrite
        0     15   -> zclGetAttrDataLength
      0     56   zclWriteAttrDataUsingCB
        0     14   -> zclAuthorizeWrite
        0     14   -> zclGetReadWriteCB
      0     61   zcl_DeviceOperational
        0     23   -> zclFindAttrRec
        0     23   -> zclReadAttrData
      1     14   zcl_HandleExternal
        0     14   -> bdb_ProcessInConfigReportCmd
        0     14   -> bdb_ProcessInReadReportCfgCmd
        0     14   -> osal_msg_allocate
        0     14   -> osal_msg_deallocate
        0     14   -> osal_msg_send
        0     14   -> zcl_getExternalFoundationHandler
      2      0   zcl_Init
      1    135   zcl_ProcessMessageMSG
        0     36   -> afFindEndPointDesc
        0     36   -> osal_mem_free
        0     36   -> zclGetClusterOption
        0     36   -> zclParseHdr
        0     36   -> zclSetSecurityOption
        0     38   -> zcl_DeviceOperational
        0     43   -> zcl_SendDefaultRspCmd
      0     32   zcl_ReadAttrData
        0     26   -> zclFindAttrRec
        0     26   -> zclReadAttrData
        0     28   -> zclReadAttrDataUsingCB
      1    142   zcl_SendCommand
        0     39   -> AF_DataRequest
        0     30   -> afFindEndPointDesc
        0     30   -> osal_mem_alloc
        0     30   -> osal_mem_free
        0     33   -> osal_memcpy
        0     30   -> osal_memset
        0     30   -> zclBuildHdr
        0     30   -> zclGetClusterOption
        0     32   -> zcl_DeviceOperational
      1     36   zcl_SendConfigReportRspCmd
        0     20   -> osal_mem_alloc
        0     20   -> osal_mem_free
        0     31   -> zcl_SendCommand
      1     66   zcl_SendDefaultRspCmd
        0     23   -> zcl_SendCommand
      1     32   zcl_SendDiscoverAttrsCmd
        0     16   -> osal_mem_alloc
        0     16   -> osal_mem_free
        0     27   -> zcl_SendCommand
      1     31   zcl_SendDiscoverAttrsExt
        0     26   -> zcl_SendCommand
      1     70   zcl_SendDiscoverAttrsExtRsp
        0     24   -> osal_mem_alloc
        0     24   -> osal_mem_free
        0     35   -> zcl_SendCommand
      1     70   zcl_SendDiscoverAttrsRspCmd
        0     24   -> osal_mem_alloc
        0     24   -> osal_mem_free
        0     35   -> zcl_SendCommand
      1     31   zcl_SendDiscoverCmdsCmd
        0     25   -> zcl_SendCommand
      1     68   zcl_SendDiscoverCmdsRspCmd
        0     22   -> osal_mem_alloc
        0     22   -> osal_mem_free
        0     33   -> zcl_SendCommand
      1     36   zcl_SendRead
        0     20   -> osal_mem_alloc
        0     20   -> osal_mem_free
        0     31   -> zcl_SendCommand
      1     42   zcl_SendReadReportCfgRspCmd
        0     26   -> osal_mem_alloc
        0     26   -> osal_mem_free
        0     26   -> zclAnalogDataType
        0     26   -> zclGetDataTypeLength
        0     26   -> zclSerializeData
        0     37   -> zcl_SendCommand
      1     72   zcl_SendReadRsp
        0     24   -> osal_mem_alloc
        0     24   -> osal_mem_free
        0     24   -> zclGetAttrDataLength
        0     24   -> zclGetAttrDataLengthUsingCB
        0     28   -> zclReadAttrDataUsingCB
        0     24   -> zclSerializeData
        0     35   -> zcl_SendCommand
      1     38   zcl_SendReportCmd
        0     22   -> osal_mem_alloc
        0     22   -> osal_mem_free
        0     22   -> zclGetAttrDataLength
        0     22   -> zclSerializeData
        0     33   -> zcl_SendCommand
      1     39   zcl_SendWriteRequest
        0     22   -> osal_mem_alloc
        0     22   -> osal_mem_free
        0     22   -> zclGetAttrDataLength
        0     22   -> zclSerializeData
        0     33   -> zcl_SendCommand
      1     72   zcl_SendWriteRsp
        0     20   -> osal_mem_alloc
        0     20   -> osal_mem_free
        0     31   -> zcl_SendCommand
      1     19   zcl_addExternalFoundationHandler
        0     10   -> osal_mem_alloc
        0     10   -> osal_mem_free
      0    103   zcl_event_loop
        0     92   -> bdb_getZCLFrameCounter
        0     92   -> gp_GetHeadNotificationMsg
        0     92   -> gp_GetPHeadNotification
        0     92   -> gp_NotificationMsgClean
        0     94   -> gp_getProxyTableByGpId
        0     95   -> osal_memcpy
        0     92   -> osal_msg_deallocate
        0     92   -> osal_msg_receive
        0     92   -> osal_msg_send
        0     95   -> osal_revmemcpy
        0     96   -> osal_start_timerEx
        0     92   -> zcl_ProcessMessageMSG
        0    103   -> zcl_SendCommand
        0     92   -> zcl_getExternalFoundationHandler
      2     92   zcl_getExternalFoundationHandler
      2      0   zcl_getParsedTransSeqNum
      2      0   zcl_getRawAFMsg
      1     12   zcl_registerAttrList
        0     12   -> osal_mem_alloc
      1     12   zcl_registerClusterOptionList
        0     12   -> osal_mem_alloc
      1     12   zcl_registerCmdList
        0     12   -> osal_mem_alloc
      0      9   zcl_registerForMsg
        0      9   -> zcl_addExternalFoundationHandler
      0      9   zcl_registerForMsgExt
        0      9   -> zcl_addExternalFoundationHandler
      0     14   zcl_registerPlugin
        0     12   -> osal_mem_alloc
      0     14   zcl_registerReadWriteCB
        0     14   -> zclFindAttrRecsList
      2      0   zcl_registerValidateAttrData


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       1  ?<Initializer for zcl_radius>
       5  ??Subroutine203_0
       6  ??Subroutine204_0
       5  ??Subroutine205_0
       5  ??Subroutine206_0
       5  ??Subroutine207_0
       4  ??Subroutine208_0
       6  ??Subroutine209_0
       6  ??Subroutine210_0
       7  ??Subroutine211_0
       8  ??Subroutine212_0
       7  ??Subroutine213_0
       8  ??Subroutine214_0
       1  ??Subroutine215_0
      10  ??Subroutine216_0
       5  ??Subroutine217_0
       5  ??Subroutine218_0
       5  ??Subroutine219_0
       2  ??Subroutine220_0
       6  ??Subroutine221_0
       1  ??Subroutine222_0
       6  ??Subroutine223_0
       6  ??Subroutine224_0
       2  ??Subroutine225_0
       4  ??Subroutine226_0
       8  ??Subroutine227_0
       9  ??Subroutine228_0
       5  ??Subroutine229_0
       4  ??Subroutine230_0
       5  ??Subroutine231_0
       7  ??Subroutine232_0
       1  ??Subroutine233_0
       5  ??Subroutine234_0
       8  ??Subroutine235_0
       6  ??Subroutine236_0
       1  ??Subroutine237_0
       3  ??Subroutine238_0
       4  ??Subroutine239_0
       3  ??Subroutine240_0
       6  ??Subroutine241_0
       3  ??Subroutine242_0
       5  ??Subroutine243_0
       5  ??Subroutine244_0
       8  ??Subroutine245_0
      10  ??Subroutine246_0
      16  ??Subroutine247_0
       6  ??Subroutine248_0
       2  ??Subroutine249_0
       6  ??Subroutine250_0
       6  ??Subroutine251_0
       8  ??Subroutine252_0
      25  ??Subroutine253_0
       5  ??Subroutine254_0
       8  ??Subroutine255_0
       5  ??Subroutine256_0
       7  ??Subroutine257_0
       7  ?Subroutine0
       3  ?Subroutine1
       5  ?Subroutine10
       8  ?Subroutine100
      10  ?Subroutine101
      12  ?Subroutine102
       4  ?Subroutine103
       4  ?Subroutine104
       8  ?Subroutine105
       6  ?Subroutine106
      12  ?Subroutine107
       4  ?Subroutine108
       8  ?Subroutine109
       7  ?Subroutine11
       2  ?Subroutine110
       7  ?Subroutine111
       4  ?Subroutine112
       6  ?Subroutine113
      14  ?Subroutine114
      14  ?Subroutine115
      21  ?Subroutine116
      16  ?Subroutine117
       6  ?Subroutine118
      11  ?Subroutine119
       5  ?Subroutine12
       6  ?Subroutine120
       4  ?Subroutine121
       9  ?Subroutine122
       4  ?Subroutine123
       8  ?Subroutine124
       4  ?Subroutine125
       4  ?Subroutine126
       4  ?Subroutine127
       5  ?Subroutine128
       4  ?Subroutine129
       5  ?Subroutine13
      16  ?Subroutine130
      12  ?Subroutine131
      13  ?Subroutine132
       6  ?Subroutine133
      12  ?Subroutine134
      12  ?Subroutine135
      10  ?Subroutine136
      12  ?Subroutine137
       4  ?Subroutine138
      19  ?Subroutine139
      77  ?Subroutine14
       7  ?Subroutine140
      14  ?Subroutine141
      21  ?Subroutine142
      10  ?Subroutine143
       8  ?Subroutine144
       8  ?Subroutine145
      11  ?Subroutine146
      12  ?Subroutine147
       9  ?Subroutine148
      14  ?Subroutine149
      13  ?Subroutine15
      10  ?Subroutine150
      11  ?Subroutine151
      12  ?Subroutine152
      15  ?Subroutine153
       6  ?Subroutine154
       8  ?Subroutine155
       5  ?Subroutine156
       5  ?Subroutine157
       4  ?Subroutine158
       9  ?Subroutine159
      32  ?Subroutine16
       6  ?Subroutine160
       8  ?Subroutine161
      30  ?Subroutine162
       9  ?Subroutine163
       4  ?Subroutine164
       6  ?Subroutine165
       3  ?Subroutine166
       4  ?Subroutine167
       6  ?Subroutine168
      13  ?Subroutine169
      12  ?Subroutine17
       7  ?Subroutine170
       8  ?Subroutine171
      19  ?Subroutine172
       8  ?Subroutine173
      16  ?Subroutine174
       5  ?Subroutine175
      10  ?Subroutine176
       1  ?Subroutine177
       6  ?Subroutine178
       5  ?Subroutine179
      19  ?Subroutine18
       5  ?Subroutine180
       5  ?Subroutine181
       9  ?Subroutine182
       8  ?Subroutine183
       5  ?Subroutine184
       8  ?Subroutine185
      12  ?Subroutine186
      12  ?Subroutine187
       1  ?Subroutine188
      18  ?Subroutine189
      26  ?Subroutine19
       3  ?Subroutine190
      14  ?Subroutine191
       6  ?Subroutine192
       2  ?Subroutine193
       1  ?Subroutine194
       7  ?Subroutine195
       9  ?Subroutine196
       8  ?Subroutine197
       8  ?Subroutine198
       6  ?Subroutine199
       5  ?Subroutine2
       6  ?Subroutine20
       7  ?Subroutine200
       5  ?Subroutine201
       7  ?Subroutine202
       2  ?Subroutine21
      13  ?Subroutine22
       4  ?Subroutine23
      11  ?Subroutine24
       6  ?Subroutine25
      13  ?Subroutine26
       4  ?Subroutine27
       8  ?Subroutine28
       8  ?Subroutine29
       5  ?Subroutine3
       6  ?Subroutine30
       5  ?Subroutine31
       7  ?Subroutine32
       7  ?Subroutine33
      18  ?Subroutine34
       4  ?Subroutine35
       4  ?Subroutine36
      12  ?Subroutine37
       5  ?Subroutine38
       7  ?Subroutine39
       3  ?Subroutine4
       5  ?Subroutine40
       4  ?Subroutine41
       6  ?Subroutine42
       8  ?Subroutine43
       3  ?Subroutine44
       8  ?Subroutine45
      12  ?Subroutine46
       6  ?Subroutine47
       6  ?Subroutine48
      21  ?Subroutine49
       3  ?Subroutine5
       6  ?Subroutine50
       3  ?Subroutine51
       5  ?Subroutine52
      13  ?Subroutine53
       4  ?Subroutine54
      29  ?Subroutine55
       6  ?Subroutine56
       6  ?Subroutine57
       8  ?Subroutine58
       4  ?Subroutine59
       2  ?Subroutine6
       5  ?Subroutine60
       6  ?Subroutine61
      18  ?Subroutine62
      22  ?Subroutine63
       9  ?Subroutine64
      12  ?Subroutine65
       9  ?Subroutine66
      12  ?Subroutine67
       9  ?Subroutine68
      10  ?Subroutine69
       5  ?Subroutine7
      18  ?Subroutine70
       6  ?Subroutine71
       2  ?Subroutine72
      10  ?Subroutine73
      14  ?Subroutine74
       6  ?Subroutine75
       9  ?Subroutine76
       8  ?Subroutine77
      12  ?Subroutine78
      12  ?Subroutine79
       3  ?Subroutine8
      30  ?Subroutine80
       1  ?Subroutine81
      17  ?Subroutine82
      12  ?Subroutine83
       5  ?Subroutine84
       5  ?Subroutine85
       4  ?Subroutine86
       6  ?Subroutine87
      13  ?Subroutine88
       2  ?Subroutine89
       5  ?Subroutine9
       5  ?Subroutine90
       4  ?Subroutine91
       4  ?Subroutine92
      10  ?Subroutine93
      12  ?Subroutine94
      10  ?Subroutine95
       7  ?Subroutine96
       3  ?Subroutine97
      12  ?Subroutine98
       6  ?Subroutine99
       4  __Constant_32
       2  attrList
       2  clusterOptionList
       2  externalEndPointHandlerList
       2  gpCmdList
       2  plugins
       2  rawAFMsg
       1  savedZCLTransSeqNum
      33  zclAnalogDataType
       6  zclAnalogDataType::?relay
      59  zclAuthorizeWrite
       6  zclAuthorizeWrite::?relay
      98  zclBuildHdr
       6  zclBuildHdr::?relay
      92  zclCmdTable
     129  zclFindAttrRec
       6  zclFindAttrRec::?relay
      37  zclFindAttrRecsList
       6  zclFindAttrRecsList::?relay
     102  zclFindClusterOption
       6  zclFindClusterOption::?relay
     109  zclFindCmdRec
       6  zclFindCmdRec::?relay
      37  zclFindCmdRecsList
       6  zclFindCmdRecsList::?relay
     193  zclFindNextAttrRec
       6  zclFindNextAttrRec::?relay
     243  zclFindNextCmdRec
       6  zclFindNextCmdRec::?relay
      63  zclGetAttrDataLength
       6  zclGetAttrDataLength::?relay
     101  zclGetAttrDataLengthUsingCB
       6  zclGetAttrDataLengthUsingCB::?relay
      30  zclGetAuthorizeCB
       6  zclGetAuthorizeCB::?relay
      26  zclGetClusterOption
       6  zclGetClusterOption::?relay
     166  zclGetDataTypeLength
       6  zclGetDataTypeLength::?relay
      30  zclGetReadWriteCB
       6  zclGetReadWriteCB::?relay
     209  zclParseHdr
       6  zclParseHdr::?relay
     544  zclParseInConfigReportCmd
       6  zclParseInConfigReportCmd::?relay
      21  zclParseInDefaultRspCmd
       6  zclParseInDefaultRspCmd::?relay
      45  zclParseInDiscAttrsCmd
       6  zclParseInDiscAttrsCmd::?relay
     140  zclParseInDiscAttrsExtRspCmd
       6  zclParseInDiscAttrsExtRspCmd::?relay
      78  zclParseInDiscAttrsRspCmd
       6  zclParseInDiscAttrsRspCmd::?relay
      21  zclParseInDiscCmdsCmd
       6  zclParseInDiscCmdsCmd::?relay
      78  zclParseInDiscCmdsRspCmd
       6  zclParseInDiscCmdsRspCmd::?relay
      98  zclParseInReadCmd
       6  zclParseInReadCmd::?relay
      74  zclParseInReadReportCfgCmd
       6  zclParseInReadReportCfgCmd::?relay
     340  zclParseInReadRspCmd
       6  zclParseInReadRspCmd::?relay
     332  zclParseInWriteCmd
       6  zclParseInWriteCmd::?relay
     110  zclParseInWriteRspCmd
       6  zclParseInWriteRspCmd::?relay
     179  zclProcessInDiscAttrs
       6  zclProcessInDiscAttrs::?relay
     225  zclProcessInDiscAttrsCmd
       6  zclProcessInDiscAttrsCmd::?relay
     261  zclProcessInDiscAttrsExtCmd
       6  zclProcessInDiscAttrsExtCmd::?relay
     442  zclProcessInDiscCmd
       6  zclProcessInDiscCmd::?relay
     440  zclProcessInReadCmd
       6  zclProcessInReadCmd::?relay
     556  zclProcessInWriteCmd
       6  zclProcessInWriteCmd::?relay
     783  zclProcessInWriteUndividedCmd
       6  zclProcessInWriteUndividedCmd::?relay
     109  zclReadAttrData
       6  zclReadAttrData::?relay
      93  zclReadAttrDataUsingCB
       6  zclReadAttrDataUsingCB::?relay
     249  zclRevertWriteUndividedCmd
       6  zclRevertWriteUndividedCmd::?relay
     382  zclSerializeData
       6  zclSerializeData::?relay
      45  zclSetSecurityOption
       6  zclSetSecurityOption::?relay
     142  zclWriteAttrData
       6  zclWriteAttrData::?relay
     104  zclWriteAttrDataUsingCB
       6  zclWriteAttrDataUsingCB::?relay
     123  zcl_DeviceOperational
       6  zcl_DeviceOperational::?relay
     238  zcl_HandleExternal
       6  zcl_HandleExternal::?relay
       1  zcl_InSeqNum
      12  zcl_Init
       6  zcl_Init::?relay
    1071  zcl_ProcessMessageMSG
       6  zcl_ProcessMessageMSG::?relay
     131  zcl_ReadAttrData
       6  zcl_ReadAttrData::?relay
     421  zcl_SendCommand
       6  zcl_SendCommand::?relay
     257  zcl_SendConfigReportRspCmd
       6  zcl_SendConfigReportRspCmd::?relay
     129  zcl_SendDefaultRspCmd
       6  zcl_SendDefaultRspCmd::?relay
     172  zcl_SendDiscoverAttrsCmd
       6  zcl_SendDiscoverAttrsCmd::?relay
     144  zcl_SendDiscoverAttrsExt
       6  zcl_SendDiscoverAttrsExt::?relay
     250  zcl_SendDiscoverAttrsExtRsp
       6  zcl_SendDiscoverAttrsExtRsp::?relay
     229  zcl_SendDiscoverAttrsRspCmd
       6  zcl_SendDiscoverAttrsRspCmd::?relay
     199  zcl_SendDiscoverCmdsCmd
       6  zcl_SendDiscoverCmdsCmd::?relay
     319  zcl_SendDiscoverCmdsRspCmd
       6  zcl_SendDiscoverCmdsRspCmd::?relay
     196  zcl_SendRead
       6  zcl_SendRead::?relay
     534  zcl_SendReadReportCfgRspCmd
       6  zcl_SendReadReportCfgRspCmd::?relay
     411  zcl_SendReadRsp
       6  zcl_SendReadRsp::?relay
     217  zcl_SendReportCmd
       6  zcl_SendReportCmd::?relay
     217  zcl_SendWriteRequest
       6  zcl_SendWriteRequest::?relay
     242  zcl_SendWriteRsp
       6  zcl_SendWriteRsp::?relay
       1  zcl_TaskID
       2  zcl_ValidateAttrDataCB
     132  zcl_addExternalFoundationHandler
       6  zcl_addExternalFoundationHandler::?relay
     599  zcl_event_loop
       6  zcl_event_loop::?relay
      60  zcl_getExternalFoundationHandler
       6  zcl_getExternalFoundationHandler::?relay
      12  zcl_getParsedTransSeqNum
       6  zcl_getParsedTransSeqNum::?relay
      13  zcl_getRawAFMsg
       6  zcl_getRawAFMsg::?relay
       1  zcl_radius
      97  zcl_registerAttrList
       6  zcl_registerAttrList::?relay
      72  zcl_registerClusterOptionList
       6  zcl_registerClusterOptionList::?relay
      73  zcl_registerCmdList
       6  zcl_registerCmdList::?relay
      10  zcl_registerForMsg
       6  zcl_registerForMsg::?relay
       8  zcl_registerForMsgExt
       6  zcl_registerForMsgExt::?relay
      95  zcl_registerPlugin
       6  zcl_registerPlugin::?relay
      58  zcl_registerReadWriteCB
       6  zcl_registerReadWriteCB::?relay
      12  zcl_registerValidateAttrData
       6  zcl_registerValidateAttrData::?relay

 
 16 450 bytes in segment BANKED_CODE
    456 bytes in segment BANK_RELAYS
     92 bytes in segment CODE_C
      1 byte  in segment XDATA_I
      1 byte  in segment XDATA_ID
      4 bytes in segment XDATA_ROM_C
     17 bytes in segment XDATA_Z
 
    549 bytes of CODE     memory
      0 bytes of CONST    memory (+ 4 bytes shared)
 16 450 bytes of HUGECODE memory
     18 bytes of XDATA    memory

Errors: none
Warnings: none
